"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return RewrittenNode;
    }
});
const _occamparsers = require("occam-parsers");
const _precedence = require("../utilities/precedence");
const _rewrite = require("../utilities/rewrite");
class RewrittenNode extends _occamparsers.NonTerminalNode {
    rewrite(state) {
        let nonTerminalNode;
        const ruleName = this.getRuleName(), NonTerminalNode = state.NonTerminalNodeFromRuleName(ruleName);
        nonTerminalNode = this.clone();
        const opacity = nonTerminalNode.getOpacity(), childNodes = nonTerminalNode.getChildNodes(), precedence = nonTerminalNode.getPrecedence();
        nonTerminalNode = NonTerminalNode.fromRuleNameChildNodesOpacityAndPrecedence(ruleName, childNodes, opacity, precedence);
        (0, _rewrite.rewriteDirectlyRepeatedNodes)(nonTerminalNode, state);
        const parentNode = (0, _rewrite.rewriteIndirectlyRepeatedNodes)(nonTerminalNode, state);
        {
            const nonTerminalNode = parentNode; ///
            (0, _rewrite.rewriteReducedNodes)(nonTerminalNode, state);
        }
        return nonTerminalNode;
    }
    isUnprecedented() {
        const nonTerminalNode = this, nonTerminalNodeUnprecedented = (0, _precedence.isNonTerminalNodeUnprecedented)(nonTerminalNode), unprecedented = nonTerminalNodeUnprecedented; ///
        return unprecedented;
    }
    static fromRuleNameChildNodesOpacityAndPrecedence(ruleName, childNodes, opacity, precedence) {
        return _occamparsers.NonTerminalNode.fromRuleNameChildNodesOpacityAndPrecedence(RewrittenNode, ruleName, childNodes, opacity, precedence);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub2RlL3Jld3JpdHRlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgTm9uVGVybWluYWxOb2RlIH0gZnJvbSBcIm9jY2FtLXBhcnNlcnNcIjtcblxuaW1wb3J0IHsgaXNOb25UZXJtaW5hbE5vZGVVbnByZWNlZGVudGVkIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9wcmVjZWRlbmNlXCI7XG5pbXBvcnQgeyByZXdyaXRlUmVkdWNlZE5vZGVzLCByZXdyaXRlRGlyZWN0bHlSZXBlYXRlZE5vZGVzLCByZXdyaXRlSW5kaXJlY3RseVJlcGVhdGVkTm9kZXMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3Jld3JpdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmV3cml0dGVuTm9kZSBleHRlbmRzIE5vblRlcm1pbmFsTm9kZSB7XG4gIHJld3JpdGUoc3RhdGUpIHtcbiAgICBsZXQgbm9uVGVybWluYWxOb2RlO1xuXG4gICAgY29uc3QgcnVsZU5hbWUgPSB0aGlzLmdldFJ1bGVOYW1lKCksXG4gICAgICAgICAgTm9uVGVybWluYWxOb2RlID0gc3RhdGUuTm9uVGVybWluYWxOb2RlRnJvbVJ1bGVOYW1lKHJ1bGVOYW1lKTtcblxuICAgIG5vblRlcm1pbmFsTm9kZSA9IHRoaXMuY2xvbmUoKTtcblxuICAgIGNvbnN0IG9wYWNpdHkgPSBub25UZXJtaW5hbE5vZGUuZ2V0T3BhY2l0eSgpLFxuICAgICAgICAgIGNoaWxkTm9kZXMgPSBub25UZXJtaW5hbE5vZGUuZ2V0Q2hpbGROb2RlcygpLFxuICAgICAgICAgIHByZWNlZGVuY2UgPSBub25UZXJtaW5hbE5vZGUuZ2V0UHJlY2VkZW5jZSgpO1xuXG4gICAgbm9uVGVybWluYWxOb2RlID0gTm9uVGVybWluYWxOb2RlLmZyb21SdWxlTmFtZUNoaWxkTm9kZXNPcGFjaXR5QW5kUHJlY2VkZW5jZShydWxlTmFtZSwgY2hpbGROb2Rlcywgb3BhY2l0eSwgcHJlY2VkZW5jZSk7XG5cbiAgICByZXdyaXRlRGlyZWN0bHlSZXBlYXRlZE5vZGVzKG5vblRlcm1pbmFsTm9kZSwgc3RhdGUpO1xuXG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IHJld3JpdGVJbmRpcmVjdGx5UmVwZWF0ZWROb2Rlcyhub25UZXJtaW5hbE5vZGUsIHN0YXRlKTtcblxuICAgIHtcbiAgICAgIGNvbnN0IG5vblRlcm1pbmFsTm9kZSA9IHBhcmVudE5vZGU7IC8vL1xuXG4gICAgICByZXdyaXRlUmVkdWNlZE5vZGVzKG5vblRlcm1pbmFsTm9kZSwgc3RhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiBub25UZXJtaW5hbE5vZGU7XG4gIH1cblxuICBpc1VucHJlY2VkZW50ZWQoKSB7XG4gICAgY29uc3Qgbm9uVGVybWluYWxOb2RlID0gdGhpcywgLy8vXG4gICAgICAgICAgbm9uVGVybWluYWxOb2RlVW5wcmVjZWRlbnRlZCA9IGlzTm9uVGVybWluYWxOb2RlVW5wcmVjZWRlbnRlZChub25UZXJtaW5hbE5vZGUpLFxuICAgICAgICAgIHVucHJlY2VkZW50ZWQgPSBub25UZXJtaW5hbE5vZGVVbnByZWNlZGVudGVkOyAvLy9cblxuICAgIHJldHVybiB1bnByZWNlZGVudGVkO1xuICB9XG5cbiAgc3RhdGljIGZyb21SdWxlTmFtZUNoaWxkTm9kZXNPcGFjaXR5QW5kUHJlY2VkZW5jZShydWxlTmFtZSwgY2hpbGROb2Rlcywgb3BhY2l0eSwgcHJlY2VkZW5jZSkgeyByZXR1cm4gTm9uVGVybWluYWxOb2RlLmZyb21SdWxlTmFtZUNoaWxkTm9kZXNPcGFjaXR5QW5kUHJlY2VkZW5jZShSZXdyaXR0ZW5Ob2RlLCBydWxlTmFtZSwgY2hpbGROb2Rlcywgb3BhY2l0eSwgcHJlY2VkZW5jZSk7IH1cbn1cbiJdLCJuYW1lcyI6WyJSZXdyaXR0ZW5Ob2RlIiwiTm9uVGVybWluYWxOb2RlIiwicmV3cml0ZSIsInN0YXRlIiwibm9uVGVybWluYWxOb2RlIiwicnVsZU5hbWUiLCJnZXRSdWxlTmFtZSIsIk5vblRlcm1pbmFsTm9kZUZyb21SdWxlTmFtZSIsImNsb25lIiwib3BhY2l0eSIsImdldE9wYWNpdHkiLCJjaGlsZE5vZGVzIiwiZ2V0Q2hpbGROb2RlcyIsInByZWNlZGVuY2UiLCJnZXRQcmVjZWRlbmNlIiwiZnJvbVJ1bGVOYW1lQ2hpbGROb2Rlc09wYWNpdHlBbmRQcmVjZWRlbmNlIiwicmV3cml0ZURpcmVjdGx5UmVwZWF0ZWROb2RlcyIsInBhcmVudE5vZGUiLCJyZXdyaXRlSW5kaXJlY3RseVJlcGVhdGVkTm9kZXMiLCJyZXdyaXRlUmVkdWNlZE5vZGVzIiwiaXNVbnByZWNlZGVudGVkIiwibm9uVGVybWluYWxOb2RlVW5wcmVjZWRlbnRlZCIsImlzTm9uVGVybWluYWxOb2RlVW5wcmVjZWRlbnRlZCIsInVucHJlY2VkZW50ZWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQU9BOzs7ZUFBcUJBOzs7OEJBTFc7NEJBRWU7eUJBQ21EO0FBRW5GLE1BQU1BLHNCQUFzQkMsNkJBQWU7SUFDeERDLFFBQVFDLEtBQUssRUFBRTtRQUNiLElBQUlDO1FBRUosTUFBTUMsV0FBVyxJQUFJLENBQUNDLFdBQVcsSUFDM0JMLGtCQUFrQkUsTUFBTUksMkJBQTJCLENBQUNGO1FBRTFERCxrQkFBa0IsSUFBSSxDQUFDSSxLQUFLO1FBRTVCLE1BQU1DLFVBQVVMLGdCQUFnQk0sVUFBVSxJQUNwQ0MsYUFBYVAsZ0JBQWdCUSxhQUFhLElBQzFDQyxhQUFhVCxnQkFBZ0JVLGFBQWE7UUFFaERWLGtCQUFrQkgsZ0JBQWdCYywwQ0FBMEMsQ0FBQ1YsVUFBVU0sWUFBWUYsU0FBU0k7UUFFNUdHLElBQUFBLHFDQUE0QixFQUFDWixpQkFBaUJEO1FBRTlDLE1BQU1jLGFBQWFDLElBQUFBLHVDQUE4QixFQUFDZCxpQkFBaUJEO1FBRW5FO1lBQ0UsTUFBTUMsa0JBQWtCYSxZQUFZLEdBQUc7WUFFdkNFLElBQUFBLDRCQUFtQixFQUFDZixpQkFBaUJEO1FBQ3ZDO1FBRUEsT0FBT0M7SUFDVDtJQUVBZ0Isa0JBQWtCO1FBQ2hCLE1BQU1oQixrQkFBa0IsSUFBSSxFQUN0QmlCLCtCQUErQkMsSUFBQUEsMENBQThCLEVBQUNsQixrQkFDOURtQixnQkFBZ0JGLDhCQUE4QixHQUFHO1FBRXZELE9BQU9FO0lBQ1Q7SUFFQSxPQUFPUiwyQ0FBMkNWLFFBQVEsRUFBRU0sVUFBVSxFQUFFRixPQUFPLEVBQUVJLFVBQVUsRUFBRTtRQUFFLE9BQU9aLDZCQUFlLENBQUNjLDBDQUEwQyxDQUFDZixlQUFlSyxVQUFVTSxZQUFZRixTQUFTSTtJQUFhO0FBQzlOIn0=