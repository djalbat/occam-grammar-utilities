"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = eliminateDirectLeftRecursion;
var _occamParsers = require("occam-parsers");
var _reduced = _interopRequireDefault(require("./rule/reduced"));
var _directly = _interopRequireDefault(require("./definition/recursive/left/directly"));
var _class = require("./utilities/class");
var _parts = require("./utilities/parts");
var _part = require("./utilities/part");
var _definitions = require("./utilities/definitions");
function eliminateDirectLeftRecursion(leftRecursiveDefinitions, ruleMap) {
    var directlyLeftRecursiveRules = retrieveDirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap);
    directlyLeftRecursiveRules.forEach(function(directlyLeftRecursiveRule) {
        var reducedRule = _reduced.default.fromDirectlyLeftRecursiveRule(directlyLeftRecursiveRule), reducedRuleName = reducedRule.getName();
        ruleMap[reducedRuleName] = reducedRule;
        var directlyLeftRecursiveDefinitions = retrieveDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveRule), directlyLeftRecursiveDefinition = mergeDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions), rewrittenDefinition = rewriteDirectlyLeftRecursiveDefinition(directlyLeftRecursiveDefinition);
        var replacementDefinition = rewrittenDefinition, replacedDefinition = directlyLeftRecursiveDefinitions.shift(), definitions = directlyLeftRecursiveDefinitions; ///
        directlyLeftRecursiveRule.removeDefinitions(definitions);
        directlyLeftRecursiveRule.replaceDefinition(replacedDefinition, replacementDefinition);
    });
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function retrieveDirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap) {
    var directlyLeftRecursiveRules = [];
    leftRecursiveDefinitions.forEach(function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionDirectlyLeftRecursiveDefinition = (0, _class).isInstanceOf(leftRecursiveDefinition, _directly.default);
        if (leftRecursiveDefinitionDirectlyLeftRecursiveDefinition) {
            var directlyLeftRecursiveDefinition = leftRecursiveDefinition, ruleName = directlyLeftRecursiveDefinition.getRuleName(), rule = ruleMap[ruleName], directlyLeftRecursiveRulesIncludesRule = directlyLeftRecursiveRules.includes(rule);
            if (!directlyLeftRecursiveRulesIncludesRule) {
                var directlyLeftRecursiveRule = rule; ///
                directlyLeftRecursiveRules.push(directlyLeftRecursiveRule);
            }
        }
    });
    return directlyLeftRecursiveRules;
}
function mergeDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions) {
    var directlyLeftRecursiveDefinition = (0, _definitions).mergeLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions, _directly.default);
    return directlyLeftRecursiveDefinition;
}
function rewriteDirectlyLeftRecursiveDefinition(directlyLeftRecursiveDefinition) {
    var parts = directlyLeftRecursiveDefinition.getParts();
    parts.shift();
    var ruleName = directlyLeftRecursiveDefinition.getRuleName(), reducedPart = (0, _part).reducedPartFromRuleName(ruleName), repeatedPart = (0, _parts).repeatedPartFromParts(parts);
    parts = [
        reducedPart,
        repeatedPart
    ];
    var definition = new _occamParsers.Definition(parts), rewrittenDefinition = definition; ///
    return rewrittenDefinition;
}
function retrieveDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveRule) {
    var definitions = directlyLeftRecursiveRule.getDefinitions(), directlyLeftRecursiveDefinitions = definitions.filter(function(definition) {
        var definitionDirectlyLeftRecursiveDefinition = (0, _class).isInstanceOf(definition, _directly.default);
        if (definitionDirectlyLeftRecursiveDefinition) {
            return true;
        }
    });
    return directlyLeftRecursiveDefinitions;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVEaXJlY3RMZWZ0UmVjdXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBEZWZpbml0aW9uIH0gZnJvbSBcIm9jY2FtLXBhcnNlcnNcIjtcblxuaW1wb3J0IFJlZHVjZWRSdWxlIGZyb20gXCIuL3J1bGUvcmVkdWNlZFwiO1xuaW1wb3J0IERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gZnJvbSBcIi4vZGVmaW5pdGlvbi9yZWN1cnNpdmUvbGVmdC9kaXJlY3RseVwiO1xuXG5pbXBvcnQgeyBpc0luc3RhbmNlT2YgfSBmcm9tIFwiLi91dGlsaXRpZXMvY2xhc3NcIjtcbmltcG9ydCB7IHJlcGVhdGVkUGFydEZyb21QYXJ0cyB9IGZyb20gXCIuL3V0aWxpdGllcy9wYXJ0c1wiO1xuaW1wb3J0IHsgcmVkdWNlZFBhcnRGcm9tUnVsZU5hbWUgfSBmcm9tIFwiLi91dGlsaXRpZXMvcGFydFwiO1xuaW1wb3J0IHsgbWVyZ2VMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgfSBmcm9tIFwiLi91dGlsaXRpZXMvZGVmaW5pdGlvbnNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWxpbWluYXRlRGlyZWN0TGVmdFJlY3Vyc2lvbihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMgPSByZXRyaWV2ZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMuZm9yRWFjaCgoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSkgPT4ge1xuICAgIGNvbnN0IHJlZHVjZWRSdWxlID0gUmVkdWNlZFJ1bGUuZnJvbURpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSksXG4gICAgICAgICAgcmVkdWNlZFJ1bGVOYW1lID0gcmVkdWNlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gICAgcnVsZU1hcFtyZWR1Y2VkUnVsZU5hbWVdID0gcmVkdWNlZFJ1bGU7XG5cbiAgICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IHJldHJpZXZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSksXG4gICAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG1lcmdlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpLFxuICAgICAgICAgIHJld3JpdHRlbkRlZmluaXRpb24gPSByZXdyaXRlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgIGNvbnN0IHJlcGxhY2VtZW50RGVmaW5pdGlvbiA9IHJld3JpdHRlbkRlZmluaXRpb24sICAvLy9cbiAgICAgICAgICByZXBsYWNlZERlZmluaXRpb24gPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5zaGlmdCgpLCAvLy9cbiAgICAgICAgICBkZWZpbml0aW9ucyA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zOyAvLy9cblxuICAgIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUucmVtb3ZlRGVmaW5pdGlvbnMoZGVmaW5pdGlvbnMpO1xuXG4gICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZS5yZXBsYWNlRGVmaW5pdGlvbihyZXBsYWNlZERlZmluaXRpb24sIHJlcGxhY2VtZW50RGVmaW5pdGlvbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkge1xuICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcyA9IFtdO1xuXG4gIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5mb3JFYWNoKChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikgPT4ge1xuICAgIGNvbnN0IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGlzSW5zdGFuY2VPZihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICBpZiAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sICAvLy9cbiAgICAgICAgICAgIHJ1bGVOYW1lID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlTmFtZSgpLFxuICAgICAgICAgICAgcnVsZSA9IHJ1bGVNYXBbcnVsZU5hbWVdLFxuICAgICAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXNJbmNsdWRlc1J1bGUgPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcy5pbmNsdWRlcyhydWxlKTtcblxuICAgICAgaWYgKCFkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlc0luY2x1ZGVzUnVsZSkge1xuICAgICAgICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlID0gcnVsZTsgLy8vXG5cbiAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMucHVzaChkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcztcbn1cblxuZnVuY3Rpb24gbWVyZ2VEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucykge1xuICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbWVyZ2VMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gIHJldHVybiBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gIGxldCBwYXJ0cyA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UGFydHMoKTtcblxuICBwYXJ0cy5zaGlmdCgpO1xuXG4gIGNvbnN0IHJ1bGVOYW1lID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlTmFtZSgpLFxuICAgICAgICByZWR1Y2VkUGFydCA9IHJlZHVjZWRQYXJ0RnJvbVJ1bGVOYW1lKHJ1bGVOYW1lKSxcbiAgICAgICAgcmVwZWF0ZWRQYXJ0ID0gcmVwZWF0ZWRQYXJ0RnJvbVBhcnRzKHBhcnRzKTtcblxuICBwYXJ0cyA9IFsgLy8vXG4gICAgcmVkdWNlZFBhcnQsXG4gICAgcmVwZWF0ZWRQYXJ0XG4gIF1cblxuICBjb25zdCBkZWZpbml0aW9uID0gbmV3IERlZmluaXRpb24ocGFydHMpLFxuICAgICAgICByZXdyaXR0ZW5EZWZpbml0aW9uID0gZGVmaW5pdGlvbjsgLy8vXG5cbiAgcmV0dXJuIHJld3JpdHRlbkRlZmluaXRpb247XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSkge1xuICBjb25zdCBkZWZpbml0aW9ucyA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUuZ2V0RGVmaW5pdGlvbnMoKSxcbiAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBkZWZpbml0aW9ucy5maWx0ZXIoKGRlZmluaXRpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBkZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGlzSW5zdGFuY2VPZihkZWZpbml0aW9uLCBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgICAgICAgIGlmIChkZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICByZXR1cm4gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnM7XG59XG4iXSwibmFtZXMiOlsiZWxpbWluYXRlRGlyZWN0TGVmdFJlY3Vyc2lvbiIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJ1bGVNYXAiLCJkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcyIsInJldHJpZXZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMiLCJmb3JFYWNoIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsInJlZHVjZWRSdWxlIiwiUmVkdWNlZFJ1bGUiLCJmcm9tRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsInJlZHVjZWRSdWxlTmFtZSIsImdldE5hbWUiLCJkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJldHJpZXZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwibWVyZ2VEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJld3JpdHRlbkRlZmluaXRpb24iLCJyZXdyaXRlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJlcGxhY2VtZW50RGVmaW5pdGlvbiIsInJlcGxhY2VkRGVmaW5pdGlvbiIsInNoaWZ0IiwiZGVmaW5pdGlvbnMiLCJyZW1vdmVEZWZpbml0aW9ucyIsInJlcGxhY2VEZWZpbml0aW9uIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpc0luc3RhbmNlT2YiLCJEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwicnVsZU5hbWUiLCJnZXRSdWxlTmFtZSIsInJ1bGUiLCJkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlc0luY2x1ZGVzUnVsZSIsImluY2x1ZGVzIiwicHVzaCIsIm1lcmdlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicGFydHMiLCJnZXRQYXJ0cyIsInJlZHVjZWRQYXJ0IiwicmVkdWNlZFBhcnRGcm9tUnVsZU5hbWUiLCJyZXBlYXRlZFBhcnQiLCJyZXBlYXRlZFBhcnRGcm9tUGFydHMiLCJkZWZpbml0aW9uIiwiRGVmaW5pdGlvbiIsImdldERlZmluaXRpb25zIiwiZmlsdGVyIiwiZGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7OztrQkFZV0EsNEJBQTRCO0FBVnpCLElBQUEsYUFBZSxXQUFmLGVBQWUsQ0FBQTtBQUVsQixJQUFBLFFBQWdCLGtDQUFoQixnQkFBZ0IsRUFBQTtBQUNJLElBQUEsU0FBc0Msa0NBQXRDLHNDQUFzQyxFQUFBO0FBRXJELElBQUEsTUFBbUIsV0FBbkIsbUJBQW1CLENBQUE7QUFDVixJQUFBLE1BQW1CLFdBQW5CLG1CQUFtQixDQUFBO0FBQ2pCLElBQUEsS0FBa0IsV0FBbEIsa0JBQWtCLENBQUE7QUFDWixJQUFBLFlBQXlCLFdBQXpCLHlCQUF5QixDQUFBO0FBRXhELFNBQVNBLDRCQUE0QixDQUFDQyx3QkFBd0IsRUFBRUMsT0FBTyxFQUFFO0lBQ3RGLElBQU1DLDBCQUEwQixHQUFHQyxrQ0FBa0MsQ0FBQ0gsd0JB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