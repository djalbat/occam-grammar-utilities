"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    get: function() {
        return eliminateIndirectLeftRecursion;
    },
    enumerable: true
});
var _necessary = require("necessary");
var _reduced = _interopRequireDefault(require("./rule/reduced"));
var _repeated = _interopRequireDefault(require("./rule/repeated"));
var _left = _interopRequireDefault(require("./definition/recursive/left"));
var _directly = _interopRequireDefault(require("./definition/recursive/left/directly"));
var _indirectly = _interopRequireDefault(require("./definition/recursive/left/indirectly"));
var _rules = require("./utilities/rules");
var _ruleNames = require("./utilities/ruleNames");
var _definitions = require("./utilities/definitions");
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
var first = _necessary.arrayUtilities.first, last = _necessary.arrayUtilities.last;
function eliminateIndirectLeftRecursion(leftRecursiveDefinitions, ruleMap) {
    var indirectlyLeftRecursiveRules = retrieveIndirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap);
    indirectlyLeftRecursiveRules.forEach(function(indirectlyLeftRecursiveRule) {
        rewriteIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule, leftRecursiveDefinitions, ruleMap);
    });
}
function reduceRule(indirectlyLeftRecursiveRule, ruleMap) {
    var reducedLeftRecursiveDefinition = null;
    var reducedRule = _reduced.default.fromIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule);
    if (reducedRule !== null) {
        var definitions = indirectlyLeftRecursiveRule.getDefinitions(), lastDefinition = last(definitions), reducedRuleName = reducedRule.getName();
        ruleMap[reducedRuleName] = reducedRule;
        reducedLeftRecursiveDefinition = lastDefinition; ///
    }
    return reducedLeftRecursiveDefinition;
}
function repeatRule(indirectlyLeftRecursiveDefinition, index, ruleMap) {
    var repeatedRuleName = null;
    var repeatedRule = _repeated.default.fromIndirectlyLeftRecursiveDefinitionAndIndex(indirectlyLeftRecursiveDefinition, index);
    if (repeatedRule !== null) {
        repeatedRuleName = repeatedRule.getName();
        ruleMap[repeatedRuleName] = repeatedRule;
    }
    return repeatedRuleName;
}
function retrieveLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition) {
    var leftRecursiveDefinitions = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinitions(), lastLeftRecursiveDefinition = last(leftRecursiveDefinitions), leftRecursiveDefinition = lastLeftRecursiveDefinition; ///
    return leftRecursiveDefinition;
}
function rewriteIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule, leftRecursiveDefinitions, ruleMap) {
    var reducedLeftRecursiveDefinition = reduceRule(indirectlyLeftRecursiveRule, ruleMap), leftRecursiveRuleNames = (0, _ruleNames.retrieveLeftRecursiveRuleNames)(indirectlyLeftRecursiveRule, _indirectly.default, function(indirectlyLeftRecursiveDefinition) {
        var leftRecursiveRuleNames = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleNames(), firstLeftRecursiveRuleName = first(leftRecursiveRuleNames), leftRecursiveRuleName = firstLeftRecursiveRuleName; ///
        return leftRecursiveRuleName;
    });
    leftRecursiveRuleNames.forEach(function(leftRecursiveRuleName, index) {
        var _rule;
        var indirectlyLeftRecursiveDefinitions = retrieveIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveRule, leftRecursiveRuleName), indirectlyLeftRecursiveDefinition = mergeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions);
        var repeatedRuleName = repeatRule(indirectlyLeftRecursiveDefinition, index, ruleMap);
        var last = indirectlyLeftRecursiveDefinition.isLast(), leftRecursiveDefinition = retrieveLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition), ruleName = leftRecursiveDefinition.getRuleName(), rule = ruleMap[ruleName], replacedDefinition = leftRecursiveDefinition, replacementDefinitions = last ? rewriteDirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, reducedLeftRecursiveDefinition, leftRecursiveDefinition, repeatedRuleName) : rewriteIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, reducedLeftRecursiveDefinition, leftRecursiveDefinition, repeatedRuleName);
        (_rule = rule).replaceDefinition.apply(_rule, [
            replacedDefinition
        ].concat(_toConsumableArray(replacementDefinitions)));
        if (last) {
            var firstReplacementDefinition = first(replacementDefinitions), leftRecursiveDefinition1 = firstReplacementDefinition; ///
            leftRecursiveDefinitions.push(leftRecursiveDefinition1);
        } else {
            var _$indirectlyLeftRecursiveRule = rule; ///
            rewriteIndirectlyLeftRecursiveRule(_$indirectlyLeftRecursiveRule, leftRecursiveDefinitions, ruleMap);
        }
    });
}
function retrieveIndirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap) {
    var indirectlyLeftRecursiveRules = (0, _rules.retrieveLeftRecursiveRules)(leftRecursiveDefinitions, _indirectly.default, ruleMap);
    return indirectlyLeftRecursiveRules;
}
function rewriteDirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, reducedLeftRecursiveDefinition, leftRecursiveDefinition, repeatedRuleName) {
    var replacementDefinitions = [];
    var directlyLeftRecursiveDefinition;
    directlyLeftRecursiveDefinition = _directly.default.fromIndirectlyLeftRecursiveDefinitionAndRepeatedRuleName(indirectlyLeftRecursiveDefinition, repeatedRuleName); ///
    directlyLeftRecursiveDefinition = _directly.default.fromIndirectlyLeftRecursiveDefinitionAndLeftRecursiveDefinition(directlyLeftRecursiveDefinition, leftRecursiveDefinition); ///
    replacementDefinitions.push(directlyLeftRecursiveDefinition);
    if (reducedLeftRecursiveDefinition !== null) {
        leftRecursiveDefinition = _left.default.fromReducedLeftRecursiveDefinitionAndLeftRecursiveDefinition(reducedLeftRecursiveDefinition, leftRecursiveDefinition); ///
        replacementDefinitions.push(leftRecursiveDefinition);
    }
    return replacementDefinitions;
}
function mergeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions) {
    var indirectlyLeftRecursiveDefinition = (0, _definitions.mergeLeftRecursiveDefinitions)(indirectlyLeftRecursiveDefinitions, function(parts, ruleName) {
        var indirectlyLeftRecursiveDefinition;
        var firstIndirectlyLeftRecursiveDefinition = first(indirectlyLeftRecursiveDefinitions);
        indirectlyLeftRecursiveDefinition = firstIndirectlyLeftRecursiveDefinition; ///
        var leftRecursiveDefinitions = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinitions();
        indirectlyLeftRecursiveDefinition = _indirectly.default.fromPartsRuleNameAndLeftRecursiveDefinitions(parts, ruleName, leftRecursiveDefinitions);
        return indirectlyLeftRecursiveDefinition;
    });
    return indirectlyLeftRecursiveDefinition;
}
function rewriteIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, reducedLeftRecursiveDefinition, leftRecursiveDefinition, repeatedRuleName) {
    var replacementDefinitions = [];
    indirectlyLeftRecursiveDefinition = _indirectly.default.fromIndirectlyLeftRecursiveDefinitionAndRepeatedRuleName(indirectlyLeftRecursiveDefinition, repeatedRuleName); ///
    indirectlyLeftRecursiveDefinition = _indirectly.default.fromIndirectlyLeftRecursiveDefinitionAndLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, leftRecursiveDefinition); ///
    replacementDefinitions.push(indirectlyLeftRecursiveDefinition);
    if (reducedLeftRecursiveDefinition !== null) {
        leftRecursiveDefinition = _left.default.fromReducedLeftRecursiveDefinitionAndLeftRecursiveDefinition(reducedLeftRecursiveDefinition, leftRecursiveDefinition); ///
        replacementDefinitions.push(leftRecursiveDefinition);
    }
    return replacementDefinitions;
}
function retrieveIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveRule, leftRecursiveRuleName) {
    var indirectlyLeftRecursiveDefinitions = (0, _definitions.retrieveLeftRecursiveDefinitions)(indirectlyLeftRecursiveRule, _indirectly.default, function(indirectlyLeftRecursiveDefinition) {
        var leftRecursiveRuleNames = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleNames(), firstLeftRecursiveRuleName = first(leftRecursiveRuleNames), ruleName = firstLeftRecursiveRuleName; ///
        if (ruleName === leftRecursiveRuleName) {
            return true;
        }
    });
    return indirectlyLeftRecursiveDefinitions;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgUmVkdWNlZFJ1bGUgZnJvbSBcIi4vcnVsZS9yZWR1Y2VkXCI7XG5pbXBvcnQgUmVwZWF0ZWRSdWxlIGZyb20gXCIuL3J1bGUvcmVwZWF0ZWRcIjtcbmltcG9ydCBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZS9sZWZ0XCI7XG5pbXBvcnQgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZS9sZWZ0L2RpcmVjdGx5XCI7XG5pbXBvcnQgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnQvaW5kaXJlY3RseVwiO1xuXG5pbXBvcnQgeyByZXRyaWV2ZUxlZnRSZWN1cnNpdmVSdWxlcyB9IGZyb20gXCIuL3V0aWxpdGllcy9ydWxlc1wiO1xuaW1wb3J0IHsgcmV0cmlldmVMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzIH0gZnJvbSBcIi4vdXRpbGl0aWVzL3J1bGVOYW1lc1wiO1xuaW1wb3J0IHsgbWVyZ2VMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2RlZmluaXRpb25zXCI7XG5cbmNvbnN0IHsgZmlyc3QsIGxhc3QgfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGNvbnN0IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMgPSByZXRyaWV2ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzLmZvckVhY2goKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSkgPT4ge1xuICAgIHJld3JpdGVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVkdWNlUnVsZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIHJ1bGVNYXApIHtcbiAgbGV0IHJlZHVjZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG51bGw7XG5cbiAgY29uc3QgcmVkdWNlZFJ1bGUgPSBSZWR1Y2VkUnVsZS5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSk7XG5cbiAgaWYgKHJlZHVjZWRSdWxlICE9PSBudWxsKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbnMgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUuZ2V0RGVmaW5pdGlvbnMoKSxcbiAgICAgICAgICBsYXN0RGVmaW5pdGlvbiA9IGxhc3QoZGVmaW5pdGlvbnMpLFxuICAgICAgICAgIHJlZHVjZWRSdWxlTmFtZSA9IHJlZHVjZWRSdWxlLmdldE5hbWUoKTtcblxuICAgIHJ1bGVNYXBbcmVkdWNlZFJ1bGVOYW1lXSA9IHJlZHVjZWRSdWxlO1xuXG4gICAgcmVkdWNlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbGFzdERlZmluaXRpb247IC8vL1xuICB9XG5cbiAgcmV0dXJuIHJlZHVjZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVwZWF0UnVsZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGluZGV4LCBydWxlTWFwKSB7XG4gIGxldCByZXBlYXRlZFJ1bGVOYW1lID0gbnVsbDtcblxuICBjb25zdCByZXBlYXRlZFJ1bGUgPSBSZXBlYXRlZFJ1bGUuZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZEluZGV4KGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgaW5kZXgpXG5cbiAgaWYgKHJlcGVhdGVkUnVsZSAhPT0gbnVsbCkge1xuICAgIHJlcGVhdGVkUnVsZU5hbWUgPSByZXBlYXRlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gICAgcnVsZU1hcFtyZXBlYXRlZFJ1bGVOYW1lXSA9IHJlcGVhdGVkUnVsZTtcbiAgfVxuXG4gIHJldHVybiByZXBlYXRlZFJ1bGVOYW1lO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKCksXG4gICAgICAgIGxhc3RMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGxhc3QobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSxcbiAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBsYXN0TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247ICAvLy9cblxuICByZXR1cm4gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb247XG59XG5cbmZ1bmN0aW9uIHJld3JpdGVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgcmVkdWNlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gcmVkdWNlUnVsZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIHJ1bGVNYXApLFxuICAgICAgICBsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzID0gcmV0cmlldmVMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCAoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzKCksXG4gICAgICAgICAgICAgICAgZmlyc3RMZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBmaXJzdChsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzKSxcbiAgICAgICAgICAgICAgICBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBmaXJzdExlZnRSZWN1cnNpdmVSdWxlTmFtZTsgLy8vXG5cbiAgICAgICAgICByZXR1cm4gbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lO1xuICAgICAgICB9KTtcblxuICBsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzLmZvckVhY2goKGxlZnRSZWN1cnNpdmVSdWxlTmFtZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lKSxcbiAgICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBtZXJnZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG5cbiAgICBjb25zdCByZXBlYXRlZFJ1bGVOYW1lID0gcmVwZWF0UnVsZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGluZGV4LCBydWxlTWFwKTtcblxuICAgIGNvbnN0IGxhc3QgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uaXNMYXN0KCksXG4gICAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiksXG4gICAgICAgICAgcnVsZU5hbWUgPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlTmFtZSgpLFxuICAgICAgICAgIHJ1bGUgPSBydWxlTWFwW3J1bGVOYW1lXSxcbiAgICAgICAgICByZXBsYWNlZERlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgLy8vXG4gICAgICAgICAgcmVwbGFjZW1lbnREZWZpbml0aW9ucyA9IGxhc3QgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdyaXRlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlZHVjZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlcGVhdGVkUnVsZU5hbWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVkdWNlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVwZWF0ZWRSdWxlTmFtZSk7XG5cbiAgICBydWxlLnJlcGxhY2VEZWZpbml0aW9uKHJlcGxhY2VkRGVmaW5pdGlvbiwgLi4ucmVwbGFjZW1lbnREZWZpbml0aW9ucyk7XG5cbiAgICBpZiAobGFzdCkge1xuICAgICAgY29uc3QgZmlyc3RSZXBsYWNlbWVudERlZmluaXRpb24gPSBmaXJzdChyZXBsYWNlbWVudERlZmluaXRpb25zKSxcbiAgICAgICAgICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZmlyc3RSZXBsYWNlbWVudERlZmluaXRpb247ICAvLy9cblxuICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLnB1c2gobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUgPSBydWxlOyAvLy9cblxuICAgICAgcmV3cml0ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkge1xuICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzID0gcmV0cmlldmVMZWZ0UmVjdXJzaXZlUnVsZXMobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJ1bGVNYXApO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlZHVjZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlcGVhdGVkUnVsZU5hbWUpIHtcbiAgY29uc3QgcmVwbGFjZW1lbnREZWZpbml0aW9ucyA9IFtdO1xuXG4gIGxldCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xuXG4gIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRSZXBlYXRlZFJ1bGVOYW1lKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVwZWF0ZWRSdWxlTmFtZSk7ICAvLy9cblxuICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pOyAgLy8vXG5cbiAgcmVwbGFjZW1lbnREZWZpbml0aW9ucy5wdXNoKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gIGlmIChyZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gIT09IG51bGwpIHtcbiAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihyZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTsgIC8vL1xuXG4gICAgcmVwbGFjZW1lbnREZWZpbml0aW9ucy5wdXNoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcbiAgfVxuXG4gIHJldHVybiByZXBsYWNlbWVudERlZmluaXRpb25zO1xufVxuXG5mdW5jdGlvbiBtZXJnZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucykge1xuICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBtZXJnZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAocGFydHMsIHJ1bGVOYW1lKSA9PiB7XG4gICAgbGV0IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcblxuICAgIGNvbnN0IGZpcnN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZmlyc3QoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG5cbiAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBmaXJzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjsgLy8vXG5cbiAgICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKCk7XG5cbiAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbVBhcnRzUnVsZU5hbWVBbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocGFydHMsIHJ1bGVOYW1lLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpO1xuXG4gICAgcmV0dXJuIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbiAgfSk7XG5cbiAgcmV0dXJuIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gcmV3cml0ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlZHVjZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlcGVhdGVkUnVsZU5hbWUpIHtcbiAgY29uc3QgcmVwbGFjZW1lbnREZWZpbml0aW9ucyA9IFtdO1xuXG4gIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kUmVwZWF0ZWRSdWxlTmFtZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlcGVhdGVkUnVsZU5hbWUpOyAgLy8vXG5cbiAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTsgIC8vL1xuXG4gIHJlcGxhY2VtZW50RGVmaW5pdGlvbnMucHVzaChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gIGlmIChyZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gIT09IG51bGwpIHtcbiAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihyZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTsgIC8vL1xuXG4gICAgcmVwbGFjZW1lbnREZWZpbml0aW9ucy5wdXNoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcbiAgfVxuXG4gIHJldHVybiByZXBsYWNlbWVudERlZmluaXRpb25zO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUpIHtcbiAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCAoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgY29uc3QgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzKCksXG4gICAgICAgICAgZmlyc3RMZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBmaXJzdChsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzKSxcbiAgICAgICAgICBydWxlTmFtZSA9IGZpcnN0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lOyAvLy9cblxuICAgIGlmIChydWxlTmFtZSA9PT0gbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zO1xufVxuIl0sIm5hbWVzIjpbImVsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbiIsImZpcnN0IiwiYXJyYXlVdGlsaXRpZXMiLCJsYXN0IiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicnVsZU1hcCIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMiLCJyZXRyaWV2ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMiLCJmb3JFYWNoIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlIiwicmV3cml0ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsInJlZHVjZVJ1bGUiLCJyZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZWR1Y2VkUnVsZSIsIlJlZHVjZWRSdWxlIiwiZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsImRlZmluaXRpb25zIiwiZ2V0RGVmaW5pdGlvbnMiLCJsYXN0RGVmaW5pdGlvbiIsInJlZHVjZWRSdWxlTmFtZSIsImdldE5hbWUiLCJyZXBlYXRSdWxlIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiaW5kZXgiLCJyZXBlYXRlZFJ1bGVOYW1lIiwicmVwZWF0ZWRSdWxlIiwiUmVwZWF0ZWRSdWxlIiwiZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZEluZGV4IiwicmV0cmlldmVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImdldExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImxhc3RMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwibGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyIsIkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImdldExlZnRSZWN1cnNpdmVSdWxlTmFtZXMiLCJmaXJzdExlZnRSZWN1cnNpdmVSdWxlTmFtZSIsImxlZnRSZWN1cnNpdmVSdWxlTmFtZSIsInJ1bGUiLCJpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwibWVyZ2VJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiaXNMYXN0IiwicnVsZU5hbWUiLCJnZXRSdWxlTmFtZSIsInJlcGxhY2VkRGVmaW5pdGlvbiIsInJlcGxhY2VtZW50RGVmaW5pdGlvbnMiLCJyZXdyaXRlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJld3JpdGVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXBsYWNlRGVmaW5pdGlvbiIsImZpcnN0UmVwbGFjZW1lbnREZWZpbml0aW9uIiwicHVzaCIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZVJ1bGVzIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsIkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kUmVwZWF0ZWRSdWxlTmFtZSIsImZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsIkxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZnJvbVJlZHVjZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwibWVyZ2VMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJwYXJ0cyIsImZpcnN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZnJvbVBhcnRzUnVsZU5hbWVBbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOzs7Ozs7ZUFnQldBLDhCQUE4Qjs7Ozt5QkFkdkIsV0FBVzs4Q0FFbEIsZ0JBQWdCOytDQUNmLGlCQUFpQjsyQ0FDTiw2QkFBNkI7K0NBQ3JCLHNDQUFzQztpREFDcEMsd0NBQXdDO3FCQUUzQyxtQkFBbUI7eUJBQ2YsdUJBQXVCOzJCQUNVLHlCQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUV6RyxJQUFRQyxLQUFLLEdBQVdDLFVBQWMsZUFBQSxDQUE5QkQsS0FBSyxFQUFFRSxJQUFJLEdBQUtELFVBQWMsZUFBQSxDQUF2QkMsSUFBSSxBQUFvQjtBQUV4QixTQUFTSCw4QkFBOEIsQ0FBQ0ksd0JBQXdCLEVBQUVDLE9BQU8sRUFBRTtJQUN4RixJQUFNQyw0QkFBNEIsR0FBR0Msb0NBQW9DLENBQUNILHdCQUF3QixFQUFFQyxPQUFP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