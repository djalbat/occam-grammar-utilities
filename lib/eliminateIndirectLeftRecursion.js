"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return eliminateIndirectLeftRecursion;
    }
});
var _necessary = require("necessary");
var _directly = /*#__PURE__*/ _interopRequireDefault(require("./rule/reduced/directly"));
var _directly1 = /*#__PURE__*/ _interopRequireDefault(require("./rule/repeated/directly"));
var _replacementDefinition = /*#__PURE__*/ _interopRequireDefault(require("./replacementDefinition"));
var _indirectly = /*#__PURE__*/ _interopRequireDefault(require("./rule/reduced/indirectly"));
var _indirectly1 = /*#__PURE__*/ _interopRequireDefault(require("./rule/repeated/indirectly"));
var _directly2 = /*#__PURE__*/ _interopRequireDefault(require("./recursiveDefinition/left/directly"));
var _indirectly2 = /*#__PURE__*/ _interopRequireDefault(require("./recursiveDefinition/left/indirectly"));
var _ruleName = require("./utilities/ruleName");
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _instanceof(left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
        return !!right[Symbol.hasInstance](left);
    } else {
        return left instanceof right;
    }
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
var first = _necessary.arrayUtilities.first, find = _necessary.arrayUtilities.find, push = _necessary.arrayUtilities.push, filter = _necessary.arrayUtilities.filter;
var count = 0;
function eliminateIndirectLeftRecursion(leftRecursiveDefinitions, ruleMap) {
    var greatestIndirectlyLeftRecursiveDefinition = retrieveGreatestIndirectlyLeftRecursiveDefinition(leftRecursiveDefinitions);
    while(greatestIndirectlyLeftRecursiveDefinition !== null){
        var indirectlyLeftRecursiveDefinition = greatestIndirectlyLeftRecursiveDefinition, rule = indirectlyLeftRecursiveDefinition.getRule(), directlyLeftRecursiveDefinition = findDirectlyLeftRecursiveDefinition(rule, leftRecursiveDefinitions);
        directlyLeftRecursiveDefinition !== null ? rewriteDirectLeftRecursion(directlyLeftRecursiveDefinition, indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) : rewriteIndirectLeftRecursion(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap);
        greatestIndirectlyLeftRecursiveDefinition = ++count > Infinity ? null : retrieveGreatestIndirectlyLeftRecursiveDefinition(leftRecursiveDefinitions);
    }
}
function rewriteDirectLeftRecursion(directlyLeftRecursiveDefinition, indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) {
    var directlyRepeatedRule = directlyRepeatRule(directlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap);
    directlyReduceRule(directlyRepeatedRule, directlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap);
    var rule = directlyLeftRecursiveDefinition.getRule(), directlyLeftRecursiveDefinitions = rewriteDirectlyLeftRecursiveDefinition(directlyLeftRecursiveDefinition, leftRecursiveDefinitions);
    var indirectlyLeftRecursiveDefinitions = findIndirectlyLeftRecursiveDefinitions(rule, leftRecursiveDefinitions);
    var removedLeftRecursiveDefinitions = _toConsumableArray(directlyLeftRecursiveDefinitions).concat(_toConsumableArray(indirectlyLeftRecursiveDefinitions));
    indirectlyLeftRecursiveDefinitions = rewriteIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions, directlyRepeatedRule);
    var addedLeftRecursiveDefinitions = indirectlyLeftRecursiveDefinitions; ///
    amendLeftRecursiveDefinitions.apply(void 0, [
        leftRecursiveDefinitions,
        removedLeftRecursiveDefinitions
    ].concat(_toConsumableArray(addedLeftRecursiveDefinitions)));
}
function rewriteIndirectLeftRecursion(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) {
    var leftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinition();
    indirectlyReduceRule(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap);
    var indirectlyRepeatedRule = indirectlyRepeatRule(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap), indirectlyLeftRecursiveDefinitions = rewriteIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions), addedLeftRecursiveDefinition = rewriteLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, indirectlyRepeatedRule), removedLeftRecursiveDefinitions = [
        leftRecursiveDefinition
    ].concat(_toConsumableArray(indirectlyLeftRecursiveDefinitions));
    amendLeftRecursiveDefinitions(leftRecursiveDefinitions, removedLeftRecursiveDefinitions, addedLeftRecursiveDefinition);
}
function directlyReduceRule(directlyRepeatedRule, directlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) {
    var rule = directlyLeftRecursiveDefinition.getRule(), disallowIsolated = false, directlyReducedRule = _directly.default.fromRuleAndLeftRecursiveDefinitions(rule, leftRecursiveDefinitions, disallowIsolated);
    if (directlyReducedRule !== null) {
        var directlyReducedRuleName = directlyReducedRule.getName(), replacementDefinition = _replacementDefinition.default.fromDirectlyReducedRuleAndDirectlyRepeatedRule(directlyReducedRule, directlyRepeatedRule), definition = replacementDefinition; ///
        ruleMap[directlyReducedRuleName] = directlyReducedRule;
        rule.addDefinition(definition);
    }
}
function directlyRepeatRule(directlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) {
    var rule = directlyLeftRecursiveDefinition.getRule(), directlyRepeatedRule = _directly1.default.fromRuleAndLeftRecursiveDefinitions(rule, leftRecursiveDefinitions), directlyRepeatedRuleName = directlyRepeatedRule.getName();
    ruleMap[directlyRepeatedRuleName] = directlyRepeatedRule;
    return directlyRepeatedRule;
}
function indirectlyReduceRule(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) {
    var rule = indirectlyLeftRecursiveDefinition.getRule(), ruleName = rule.getName(), indirectlyReducedRuleName = (0, _ruleName.indirectlyReducedRuleNameFromRuleName)(ruleName);
    var indirectlyReducedRule = ruleMap[indirectlyReducedRuleName] || null;
    if (indirectlyReducedRule === null) {
        indirectlyReducedRule = _indirectly.default.fromRuleAndLeftRecursiveDefinitions(rule, leftRecursiveDefinitions);
        ruleMap[indirectlyReducedRuleName] = indirectlyReducedRule;
    }
    var vacuous = indirectlyReducedRule.isVacuous();
    if (!vacuous) {
        var replacementDefinition = _replacementDefinition.default.fromIndirectlyLeftRecursiveDefinitionAndIndirectlyReducedRule(indirectlyLeftRecursiveDefinition, indirectlyReducedRule), leftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinition(), rule1 = leftRecursiveDefinition.getRule(), definition = replacementDefinition; ///
        rule1.addDefinition(definition);
    }
}
function indirectlyRepeatRule(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) {
    var rule = indirectlyLeftRecursiveDefinition.getRule(), leftRecursiveRuleName = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleName(), indirectlyRepeatedRule = _indirectly1.default.fromRuleLeftRecursiveRuleNameAndLeftRecursiveDefinitions(rule, leftRecursiveRuleName, leftRecursiveDefinitions), indirectlyRepeatedRuleName = indirectlyRepeatedRule.getName();
    ruleMap[indirectlyRepeatedRuleName] = indirectlyRepeatedRule;
    return indirectlyRepeatedRule;
}
function amendLeftRecursiveDefinitions(leftRecursiveDefinitions, removedLeftRecursiveDefinitions) {
    for(var _len = arguments.length, addedLeftRecursiveDefinitions = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++){
        addedLeftRecursiveDefinitions[_key - 2] = arguments[_key];
    }
    filter(leftRecursiveDefinitions, function(leftRecursiveDefinition) {
        var removedLeftRecursiveDefinitionsIncludesLeftRecursiveDefinition = removedLeftRecursiveDefinitions.includes(leftRecursiveDefinition);
        if (!removedLeftRecursiveDefinitionsIncludesLeftRecursiveDefinition) {
            return true;
        }
    });
    push(leftRecursiveDefinitions, addedLeftRecursiveDefinitions);
}
function rewriteLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, indirectlyRepeatedRule) {
    var leftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinition();
    var least = indirectlyLeftRecursiveDefinition.isLeast(), replacedDefinition = leftRecursiveDefinition.getDefinition(), replacementDefinition = _replacementDefinition.default.fromIndirectlyLeftRecursiveDefinitionAndIndirectlyRepeatedRule(indirectlyLeftRecursiveDefinition, indirectlyRepeatedRule), rule = leftRecursiveDefinition.getRule(), definition = replacementDefinition; ///
    leftRecursiveDefinition = least ? _directly2.default.fromRuleAndDefinition(rule, definition) : _indirectly2.default.fromIndirectlyLeftRecursiveDefinitionAndDefinition(indirectlyLeftRecursiveDefinition, definition);
    var definitions = rule.getDefinitions(), definitionsIncludesReplacedDefinition = definitions.includes(replacedDefinition);
    definitionsIncludesReplacedDefinition ? rule.replaceDefinition(replacedDefinition, replacementDefinition) : rule.addDefinition(definition);
    return leftRecursiveDefinition;
}
function findDirectlyLeftRecursiveDefinition(rule, leftRecursiveDefinitions) {
    var directlyLeftRecursiveDefinitions = leftRecursiveDefinitions.find(function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionRule = leftRecursiveDefinition.getRule();
        if (leftRecursiveDefinitionRule === rule) {
            var leftRecursiveDefinitionDirectlyLeftRecursiveDefinition = _instanceof(leftRecursiveDefinition, _directly2.default);
            if (leftRecursiveDefinitionDirectlyLeftRecursiveDefinition) {
                return true;
            }
        }
    }) || null;
    return directlyLeftRecursiveDefinitions;
}
function findDirectlyLeftRecursiveDefinitions(rule, leftRecursiveDefinitions) {
    var directlyLeftRecursiveDefinitions = find(leftRecursiveDefinitions, function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionRule = leftRecursiveDefinition.getRule();
        if (leftRecursiveDefinitionRule === rule) {
            var leftRecursiveDefinitionDirectlyLeftRecursiveDefinition = _instanceof(leftRecursiveDefinition, _directly2.default);
            if (leftRecursiveDefinitionDirectlyLeftRecursiveDefinition) {
                return true;
            }
        }
    });
    return directlyLeftRecursiveDefinitions;
}
function rewriteDirectlyLeftRecursiveDefinition(directlyLeftRecursiveDefinition, leftRecursiveDefinitions) {
    var rule = directlyLeftRecursiveDefinition.getRule(), directlyLeftRecursiveDefinitions = findDirectlyLeftRecursiveDefinitions(rule, leftRecursiveDefinitions), definitions = directlyLeftRecursiveDefinitions.map(function(directlyLeftRecursiveDefinition) {
        var definition = directlyLeftRecursiveDefinition.getDefinition();
        return definition;
    });
    rule.removeDefinitions(definitions);
    return directlyLeftRecursiveDefinitions;
}
function findIndirectlyLeftRecursiveDefinitions(rule, leftRecursiveDefinitions) {
    var leftRecursiveRuleName = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
    var indirectlyLeftRecursiveDefinitions = find(leftRecursiveDefinitions, function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionRule = leftRecursiveDefinition.getRule();
        if (leftRecursiveDefinitionRule === rule) {
            var leftRecursiveDefinitionIndirectlyLeftRecursiveDefinition = _instanceof(leftRecursiveDefinition, _indirectly2.default);
            if (leftRecursiveDefinitionIndirectlyLeftRecursiveDefinition) {
                if (leftRecursiveRuleName === null) {
                    return true;
                }
                var indirectlyLeftRecursiveDefinition = leftRecursiveDefinition, indirectlyLeftRecursiveDefinitionLeftRecursiveRuleName = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleName();
                if (indirectlyLeftRecursiveDefinitionLeftRecursiveRuleName === leftRecursiveRuleName) {
                    return true;
                }
            }
        }
    });
    return indirectlyLeftRecursiveDefinitions;
}
function rewriteIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions) {
    var rule = indirectlyLeftRecursiveDefinition.getRule(), replacedDefinition = indirectlyLeftRecursiveDefinition.getDefinition(), leftRecursiveRuleName = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleName(), indirectlyLeftRecursiveDefinitions = findIndirectlyLeftRecursiveDefinitions(rule, leftRecursiveDefinitions, leftRecursiveRuleName), definitions = indirectlyLeftRecursiveDefinitions.map(function(indirectlyLeftRecursiveDefinition) {
        var definition = indirectlyLeftRecursiveDefinition.getDefinition();
        return definition;
    }), replacementDefinition = _replacementDefinition.default.fromIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, leftRecursiveRuleName); ///
    rule.replaceDefinition(replacedDefinition, replacementDefinition);
    rule.removeDefinitions(definitions);
    return indirectlyLeftRecursiveDefinitions;
}
function rewriteIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions, directlyRepeatedRule) {
    var _rule;
    var firstIndirectlyLeftRecursiveDefinition = first(indirectlyLeftRecursiveDefinitions), indirectlyRecursiveDefinition = firstIndirectlyLeftRecursiveDefinition, rule = indirectlyRecursiveDefinition.getRule(), replacementDefinitions = indirectlyLeftRecursiveDefinitions.map(function(indirectlyLeftRecursiveDefinition) {
        var replacementDefinition = _replacementDefinition.default.fromIndirectlyLeftRecursiveDefinitionAndDirectlyRepeatedRule(indirectlyLeftRecursiveDefinition, directlyRepeatedRule);
        return replacementDefinition;
    });
    indirectlyLeftRecursiveDefinitions = indirectlyLeftRecursiveDefinitions.map(function(indirectlyLeftRecursiveDefinition, index) {
        var replacementDefinition = replacementDefinitions[index], definition = replacementDefinition, directly = true;
        indirectlyLeftRecursiveDefinition = _indirectly2.default.fromIndirectlyLeftRecursiveDefinitionAndDefinition(indirectlyLeftRecursiveDefinition, definition, directly); ///
        return indirectlyLeftRecursiveDefinition;
    });
    (_rule = rule).replaceAllDefinitions.apply(_rule, _toConsumableArray(replacementDefinitions));
    return indirectlyLeftRecursiveDefinitions;
}
function retrieveGreatestIndirectlyLeftRecursiveDefinition(leftRecursiveDefinitions) {
    var greatestIndirectlyLeftRecursiveDefinition = null;
    var indirectlyLeftRecursiveDefinitions = find(leftRecursiveDefinitions, function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionIndirectlyLeftRecursiveDefinition = _instanceof(leftRecursiveDefinition, _indirectly2.default);
        if (leftRecursiveDefinitionIndirectlyLeftRecursiveDefinition) {
            return true;
        }
    });
    indirectlyLeftRecursiveDefinitions.forEach(function(indirectlyLeftRecursiveDefinition) {
        if (greatestIndirectlyLeftRecursiveDefinition === null) {
            greatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition; ///
        } else {
            var indirectlyLeftRecursiveDefinitionGreaterThanGreatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition.isGreaterThan(greatestIndirectlyLeftRecursiveDefinition);
            if (indirectlyLeftRecursiveDefinitionGreaterThanGreatestIndirectlyLeftRecursiveDefinition) {
                greatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition; ///
            }
        }
    });
    return greatestIndirectlyLeftRecursiveDefinition;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgRGlyZWN0bHlSZWR1Y2VkUnVsZSBmcm9tIFwiLi9ydWxlL3JlZHVjZWQvZGlyZWN0bHlcIjtcbmltcG9ydCBEaXJlY3RseVJlcGVhdGVkUnVsZSBmcm9tIFwiLi9ydWxlL3JlcGVhdGVkL2RpcmVjdGx5XCI7XG5pbXBvcnQgUmVwbGFjZW1lbnREZWZpbml0aW9uIGZyb20gXCIuL3JlcGxhY2VtZW50RGVmaW5pdGlvblwiO1xuaW1wb3J0IEluZGlyZWN0bHlSZWR1Y2VkUnVsZSBmcm9tIFwiLi9ydWxlL3JlZHVjZWQvaW5kaXJlY3RseVwiO1xuaW1wb3J0IEluZGlyZWN0bHlSZXBlYXRlZFJ1bGUgZnJvbSBcIi4vcnVsZS9yZXBlYXRlZC9pbmRpcmVjdGx5XCI7XG5pbXBvcnQgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9yZWN1cnNpdmVEZWZpbml0aW9uL2xlZnQvZGlyZWN0bHlcIjtcbmltcG9ydCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gZnJvbSBcIi4vcmVjdXJzaXZlRGVmaW5pdGlvbi9sZWZ0L2luZGlyZWN0bHlcIjtcblxuaW1wb3J0IHsgaW5kaXJlY3RseVJlZHVjZWRSdWxlTmFtZUZyb21SdWxlTmFtZSB9IGZyb20gXCIuL3V0aWxpdGllcy9ydWxlTmFtZVwiO1xuXG5jb25zdCB7IGZpcnN0LCBmaW5kLCBwdXNoLCBmaWx0ZXIgfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5sZXQgY291bnQgPSAwO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGxldCBncmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IHJldHJpZXZlR3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICB3aGlsZSAoZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gIT09IG51bGwpIHtcbiAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBncmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgLy8vXG4gICAgICAgICAgcnVsZSA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCksXG4gICAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGZpbmREaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKHJ1bGUsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG5cbiAgICAoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiAhPT0gbnVsbCkgP1xuICAgICAgcmV3cml0ZURpcmVjdExlZnRSZWN1cnNpb24oZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIDpcbiAgICAgICAgcmV3cml0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgICBncmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9ICsrY291bnQgPiBJbmZpbml0eSA/IG51bGwgOiByZXRyaWV2ZUdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV3cml0ZURpcmVjdExlZnRSZWN1cnNpb24oZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgZGlyZWN0bHlSZXBlYXRlZFJ1bGUgPSBkaXJlY3RseVJlcGVhdFJ1bGUoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICBkaXJlY3RseVJlZHVjZVJ1bGUoZGlyZWN0bHlSZXBlYXRlZFJ1bGUsIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgY29uc3QgcnVsZSA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZSgpLFxuICAgICAgICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IHJld3JpdGVEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG5cbiAgbGV0IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBmaW5kSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpO1xuXG4gIGNvbnN0IHJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBbXG4gICAgICAgICAgLi4uZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsXG4gICAgICAgICAgLi4uaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc1xuICAgICAgICBdO1xuXG4gIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSByZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBkaXJlY3RseVJlcGVhdGVkUnVsZSk7XG5cbiAgY29uc3QgYWRkZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zOyAvLy9cblxuICBhbWVuZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIC4uLmFkZGVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmV3cml0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkge1xuICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbigpO1xuXG4gIGluZGlyZWN0bHlSZWR1Y2VSdWxlKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICBjb25zdCBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlID0gaW5kaXJlY3RseVJlcGVhdFJ1bGUoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApLFxuICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gcmV3cml0ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyksXG4gICAgICAgIGFkZGVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSByZXdyaXRlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlKSwgLy8vXG4gICAgICAgIHJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBbXG4gICAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sXG4gICAgICAgICAgLi4uaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc1xuICAgICAgICBdO1xuXG4gIGFtZW5kTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcmVtb3ZlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgYWRkZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG59XG5cbmZ1bmN0aW9uIGRpcmVjdGx5UmVkdWNlUnVsZShkaXJlY3RseVJlcGVhdGVkUnVsZSwgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJ1bGUgPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGUoKSxcbiAgICAgICAgZGlzYWxsb3dJc29sYXRlZCA9IGZhbHNlLFxuICAgICAgICBkaXJlY3RseVJlZHVjZWRSdWxlID0gRGlyZWN0bHlSZWR1Y2VkUnVsZS5mcm9tUnVsZUFuZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIGRpc2FsbG93SXNvbGF0ZWQpO1xuXG4gIGlmIChkaXJlY3RseVJlZHVjZWRSdWxlICE9PSBudWxsKSB7XG4gICAgY29uc3QgZGlyZWN0bHlSZWR1Y2VkUnVsZU5hbWUgPSBkaXJlY3RseVJlZHVjZWRSdWxlLmdldE5hbWUoKSxcbiAgICAgICAgICByZXBsYWNlbWVudERlZmluaXRpb24gPSBSZXBsYWNlbWVudERlZmluaXRpb24uZnJvbURpcmVjdGx5UmVkdWNlZFJ1bGVBbmREaXJlY3RseVJlcGVhdGVkUnVsZShkaXJlY3RseVJlZHVjZWRSdWxlLCBkaXJlY3RseVJlcGVhdGVkUnVsZSksXG4gICAgICAgICAgZGVmaW5pdGlvbiA9IHJlcGxhY2VtZW50RGVmaW5pdGlvbjsgLy8vXG5cbiAgICBydWxlTWFwW2RpcmVjdGx5UmVkdWNlZFJ1bGVOYW1lXSA9IGRpcmVjdGx5UmVkdWNlZFJ1bGU7XG5cbiAgICBydWxlLmFkZERlZmluaXRpb24oZGVmaW5pdGlvbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlyZWN0bHlSZXBlYXRSdWxlKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkge1xuICBjb25zdCBydWxlID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCksXG4gICAgICAgIGRpcmVjdGx5UmVwZWF0ZWRSdWxlID0gRGlyZWN0bHlSZXBlYXRlZFJ1bGUuZnJvbVJ1bGVBbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSxcbiAgICAgICAgZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lID0gZGlyZWN0bHlSZXBlYXRlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gIHJ1bGVNYXBbZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lXSA9IGRpcmVjdGx5UmVwZWF0ZWRSdWxlO1xuXG4gIHJldHVybiBkaXJlY3RseVJlcGVhdGVkUnVsZTtcbn1cblxuZnVuY3Rpb24gaW5kaXJlY3RseVJlZHVjZVJ1bGUoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgcnVsZSA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCksXG4gICAgICAgIHJ1bGVOYW1lID0gcnVsZS5nZXROYW1lKCksXG4gICAgICAgIGluZGlyZWN0bHlSZWR1Y2VkUnVsZU5hbWUgPSBpbmRpcmVjdGx5UmVkdWNlZFJ1bGVOYW1lRnJvbVJ1bGVOYW1lKHJ1bGVOYW1lKTtcblxuICBsZXQgaW5kaXJlY3RseVJlZHVjZWRSdWxlID0gcnVsZU1hcFtpbmRpcmVjdGx5UmVkdWNlZFJ1bGVOYW1lXSB8fCBudWxsO1xuXG4gIGlmIChpbmRpcmVjdGx5UmVkdWNlZFJ1bGUgPT09IG51bGwpIHtcbiAgICBpbmRpcmVjdGx5UmVkdWNlZFJ1bGUgPSBJbmRpcmVjdGx5UmVkdWNlZFJ1bGUuZnJvbVJ1bGVBbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICAgIHJ1bGVNYXBbaW5kaXJlY3RseVJlZHVjZWRSdWxlTmFtZV0gPSBpbmRpcmVjdGx5UmVkdWNlZFJ1bGU7XG4gIH1cblxuICBjb25zdCB2YWN1b3VzID0gaW5kaXJlY3RseVJlZHVjZWRSdWxlLmlzVmFjdW91cygpO1xuXG4gIGlmICghdmFjdW91cykge1xuICAgIGNvbnN0IHJlcGxhY2VtZW50RGVmaW5pdGlvbiA9IFJlcGxhY2VtZW50RGVmaW5pdGlvbi5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kSW5kaXJlY3RseVJlZHVjZWRSdWxlKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgaW5kaXJlY3RseVJlZHVjZWRSdWxlKSxcbiAgICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbigpLFxuICAgICAgICAgIHJ1bGUgPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCksXG4gICAgICAgICAgZGVmaW5pdGlvbiA9IHJlcGxhY2VtZW50RGVmaW5pdGlvbjsgLy8vXG5cbiAgICBydWxlLmFkZERlZmluaXRpb24oZGVmaW5pdGlvbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5kaXJlY3RseVJlcGVhdFJ1bGUoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgcnVsZSA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCksXG4gICAgICAgIGxlZnRSZWN1cnNpdmVSdWxlTmFtZSA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlUnVsZU5hbWUoKSxcbiAgICAgICAgaW5kaXJlY3RseVJlcGVhdGVkUnVsZSA9IEluZGlyZWN0bHlSZXBlYXRlZFJ1bGUuZnJvbVJ1bGVMZWZ0UmVjdXJzaXZlUnVsZU5hbWVBbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpLFxuICAgICAgICBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSA9IGluZGlyZWN0bHlSZXBlYXRlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gIHJ1bGVNYXBbaW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWVdID0gaW5kaXJlY3RseVJlcGVhdGVkUnVsZTtcblxuICByZXR1cm4gaW5kaXJlY3RseVJlcGVhdGVkUnVsZTtcbn1cblxuZnVuY3Rpb24gYW1lbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCByZW1vdmVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAuLi5hZGRlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucykge1xuICBmaWx0ZXIobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBjb25zdCByZW1vdmVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zSW5jbHVkZXNMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IHJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMuaW5jbHVkZXMobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gICAgaWYgKCFyZW1vdmVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zSW5jbHVkZXNMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICBwdXNoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgYWRkZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlKSB7XG4gIGxldCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbigpO1xuXG4gIGNvbnN0IGxlYXN0ID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmlzTGVhc3QoKSxcbiAgICAgICAgcmVwbGFjZWREZWZpbml0aW9uID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0RGVmaW5pdGlvbigpLCAvLy9cbiAgICAgICAgcmVwbGFjZW1lbnREZWZpbml0aW9uID0gUmVwbGFjZW1lbnREZWZpbml0aW9uLmZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRJbmRpcmVjdGx5UmVwZWF0ZWRSdWxlKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgaW5kaXJlY3RseVJlcGVhdGVkUnVsZSksXG4gICAgICAgIHJ1bGUgPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCksXG4gICAgICAgIGRlZmluaXRpb24gPSByZXBsYWNlbWVudERlZmluaXRpb247IC8vL1xuXG4gIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbGVhc3QgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tUnVsZUFuZERlZmluaXRpb24ocnVsZSwgZGVmaW5pdGlvbikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZERlZmluaXRpb24oaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBkZWZpbml0aW9uKTtcblxuICBjb25zdCBkZWZpbml0aW9ucyA9IHJ1bGUuZ2V0RGVmaW5pdGlvbnMoKSxcbiAgICAgICAgZGVmaW5pdGlvbnNJbmNsdWRlc1JlcGxhY2VkRGVmaW5pdGlvbiA9IGRlZmluaXRpb25zLmluY2x1ZGVzKHJlcGxhY2VkRGVmaW5pdGlvbik7XG5cbiAgZGVmaW5pdGlvbnNJbmNsdWRlc1JlcGxhY2VkRGVmaW5pdGlvbiA/XG4gICAgcnVsZS5yZXBsYWNlRGVmaW5pdGlvbihyZXBsYWNlZERlZmluaXRpb24sIHJlcGxhY2VtZW50RGVmaW5pdGlvbikgOlxuICAgICAgcnVsZS5hZGREZWZpbml0aW9uKGRlZmluaXRpb24pO1xuXG4gIHJldHVybiBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gZmluZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24ocnVsZSwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSB7XG4gIGNvbnN0IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLmZpbmQoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25SdWxlID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZSgpO1xuXG4gICAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uUnVsZSA9PT0gcnVsZSkge1xuICAgICAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGluc3RhbmNlb2YgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICAgIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9KSB8fCBudWxsO1xuXG4gIHJldHVybiBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucztcbn1cblxuZnVuY3Rpb24gZmluZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKHJ1bGUsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucykge1xuICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGZpbmQobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvblJ1bGUgPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCk7XG5cbiAgICBpZiAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25SdWxlID09PSBydWxlKSB7XG4gICAgICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gaW5zdGFuY2VvZiBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgICAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucztcbn1cblxuZnVuY3Rpb24gcmV3cml0ZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSB7XG4gIGNvbnN0IHJ1bGUgPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGUoKSxcbiAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBmaW5kRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSxcbiAgICAgICAgZGVmaW5pdGlvbnMgPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5tYXAoKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXREZWZpbml0aW9uKCk7XG5cbiAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbjtcbiAgICAgICAgfSk7XG5cbiAgcnVsZS5yZW1vdmVEZWZpbml0aW9ucyhkZWZpbml0aW9ucyk7XG5cbiAgcmV0dXJuIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zO1xufVxuXG5mdW5jdGlvbiBmaW5kSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIGxlZnRSZWN1cnNpdmVSdWxlTmFtZSA9IG51bGwpIHtcbiAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGZpbmQobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvblJ1bGUgPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCk7XG5cbiAgICBpZiAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25SdWxlID09PSBydWxlKSB7XG4gICAgICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBpbnN0YW5jZW9mIEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICAgIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgICBpZiAobGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgIC8vL1xuICAgICAgICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25MZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lKCk7XG5cbiAgICAgICAgaWYgKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkxlZnRSZWN1cnNpdmVSdWxlTmFtZSA9PT0gbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSB7XG4gIGNvbnN0IHJ1bGUgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZSgpLFxuICAgICAgICByZXBsYWNlZERlZmluaXRpb24gPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0RGVmaW5pdGlvbigpLCAvLy9cbiAgICAgICAgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldExlZnRSZWN1cnNpdmVSdWxlTmFtZSgpLFxuICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gZmluZEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUpLFxuICAgICAgICBkZWZpbml0aW9ucyA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMubWFwKChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldERlZmluaXRpb24oKTtcblxuICAgICAgICAgIHJldHVybiBkZWZpbml0aW9uO1xuICAgICAgICB9KSxcbiAgICAgICAgcmVwbGFjZW1lbnREZWZpbml0aW9uID0gUmVwbGFjZW1lbnREZWZpbml0aW9uLmZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUpOyAgLy8vXG5cbiAgcnVsZS5yZXBsYWNlRGVmaW5pdGlvbihyZXBsYWNlZERlZmluaXRpb24sIHJlcGxhY2VtZW50RGVmaW5pdGlvbik7XG5cbiAgcnVsZS5yZW1vdmVEZWZpbml0aW9ucyhkZWZpbml0aW9ucyk7XG5cbiAgcmV0dXJuIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHJld3JpdGVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIGRpcmVjdGx5UmVwZWF0ZWRSdWxlKSB7XG4gIGNvbnN0IGZpcnN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZmlyc3QoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyksXG4gICAgICAgIGluZGlyZWN0bHlSZWN1cnNpdmVEZWZpbml0aW9uID0gZmlyc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIC8vL1xuICAgICAgICBydWxlID0gaW5kaXJlY3RseVJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZSgpLFxuICAgICAgICByZXBsYWNlbWVudERlZmluaXRpb25zID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5tYXAoKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50RGVmaW5pdGlvbiA9IFJlcGxhY2VtZW50RGVmaW5pdGlvbi5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kRGlyZWN0bHlSZXBlYXRlZFJ1bGUoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBkaXJlY3RseVJlcGVhdGVkUnVsZSk7XG5cbiAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnREZWZpbml0aW9uO1xuICAgICAgICB9KTtcblxuICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5tYXAoKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgaW5kZXgpID0+IHtcbiAgICBjb25zdCByZXBsYWNlbWVudERlZmluaXRpb24gPSByZXBsYWNlbWVudERlZmluaXRpb25zWyBpbmRleCBdLFxuICAgICAgICAgIGRlZmluaXRpb24gPSByZXBsYWNlbWVudERlZmluaXRpb24sIC8vL1xuICAgICAgICAgIGRpcmVjdGx5ID0gdHJ1ZTtcblxuICAgIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGRlZmluaXRpb24sIGRpcmVjdGx5KTsgIC8vL1xuXG4gICAgcmV0dXJuIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbiAgfSk7XG5cbiAgcnVsZS5yZXBsYWNlQWxsRGVmaW5pdGlvbnMoLi4ucmVwbGFjZW1lbnREZWZpbml0aW9ucyk7XG5cbiAgcmV0dXJuIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlR3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSB7XG4gIGxldCBncmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG51bGw7XG5cbiAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGZpbmQobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBpbnN0YW5jZW9mIEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICBpZiAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5mb3JFYWNoKChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBpZiAoZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPT09IG51bGwpIHtcbiAgICAgIGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uOyAvLy9cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uR3JlYXRlclRoYW5HcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5pc0dyZWF0ZXJUaGFuKGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgICAgaWYgKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkdyZWF0ZXJUaGFuR3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgICAgICAgZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247IC8vL1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xufVxuXG4iXSwibmFtZXMiOlsiZWxpbWluYXRlSW5kaXJlY3RMZWZ0UmVjdXJzaW9uIiwiZmlyc3QiLCJhcnJheVV0aWxpdGllcyIsImZpbmQiLCJwdXNoIiwiZmlsdGVyIiwiY291bnQiLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJydWxlTWFwIiwiZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXRyaWV2ZUdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwicnVsZSIsImdldFJ1bGUiLCJkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZmluZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXdyaXRlRGlyZWN0TGVmdFJlY3Vyc2lvbiIsInJld3JpdGVJbmRpcmVjdExlZnRSZWN1cnNpb24iLCJJbmZpbml0eSIsImRpcmVjdGx5UmVwZWF0ZWRSdWxlIiwiZGlyZWN0bHlSZXBlYXRSdWxlIiwiZGlyZWN0bHlSZWR1Y2VSdWxlIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZXdyaXRlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJmaW5kSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImFkZGVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiYW1lbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImdldExlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiaW5kaXJlY3RseVJlZHVjZVJ1bGUiLCJpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlIiwiaW5kaXJlY3RseVJlcGVhdFJ1bGUiLCJyZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiYWRkZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJld3JpdGVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImRpc2FsbG93SXNvbGF0ZWQiLCJkaXJlY3RseVJlZHVjZWRSdWxlIiwiRGlyZWN0bHlSZWR1Y2VkUnVsZSIsImZyb21SdWxlQW5kTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiZGlyZWN0bHlSZWR1Y2VkUnVsZU5hbWUiLCJnZXROYW1lIiwicmVwbGFjZW1lbnREZWZpbml0aW9uIiwiUmVwbGFjZW1lbnREZWZpbml0aW9uIiwiZnJvbURpcmVjdGx5UmVkdWNlZFJ1bGVBbmREaXJlY3RseVJlcGVhdGVkUnVsZSIsImRlZmluaXRpb24iLCJhZGREZWZpbml0aW9uIiwiRGlyZWN0bHlSZXBlYXRlZFJ1bGUiLCJkaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUiLCJydWxlTmFtZSIsImluZGlyZWN0bHlSZWR1Y2VkUnVsZU5hbWUiLCJpbmRpcmVjdGx5UmVkdWNlZFJ1bGVOYW1lRnJvbVJ1bGVOYW1lIiwiaW5kaXJlY3RseVJlZHVjZWRSdWxlIiwiSW5kaXJlY3RseVJlZHVjZWRSdWxlIiwidmFjdW91cyIsImlzVmFjdW91cyIsImZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRJbmRpcmVjdGx5UmVkdWNlZFJ1bGUiLCJsZWZ0UmVjdXJzaXZlUnVsZU5hbWUiLCJnZXRMZWZ0UmVjdXJzaXZlUnVsZU5hbWUiLCJJbmRpcmVjdGx5UmVwZWF0ZWRSdWxlIiwiZnJvbVJ1bGVMZWZ0UmVjdXJzaXZlUnVsZU5hbWVBbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSIsInJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNJbmNsdWRlc0xlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiaW5jbHVkZXMiLCJsZWFzdCIsImlzTGVhc3QiLCJyZXBsYWNlZERlZmluaXRpb24iLCJnZXREZWZpbml0aW9uIiwiZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZEluZGlyZWN0bHlSZXBlYXRlZFJ1bGUiLCJEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZnJvbVJ1bGVBbmREZWZpbml0aW9uIiwiSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZERlZmluaXRpb24iLCJkZWZpbml0aW9ucyIsImdldERlZmluaXRpb25zIiwiZGVmaW5pdGlvbnNJbmNsdWRlc1JlcGxhY2VkRGVmaW5pdGlvbiIsInJlcGxhY2VEZWZpbml0aW9uIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25SdWxlIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZmluZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwibWFwIiwicmVtb3ZlRGVmaW5pdGlvbnMiLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkxlZnRSZWN1cnNpdmVSdWxlTmFtZSIsImZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmaXJzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImluZGlyZWN0bHlSZWN1cnNpdmVEZWZpbml0aW9uIiwicmVwbGFjZW1lbnREZWZpbml0aW9ucyIsImZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmREaXJlY3RseVJlcGVhdGVkUnVsZSIsImluZGV4IiwiZGlyZWN0bHkiLCJyZXBsYWNlQWxsRGVmaW5pdGlvbnMiLCJmb3JFYWNoIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uR3JlYXRlclRoYW5HcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImlzR3JlYXRlclRoYW4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7OzsrQkFrQmIsU0FjQzs7O2VBZHVCQSw4QkFBOEI7Ozt5QkFoQnZCLFdBQVc7NkRBRVYseUJBQXlCOzhEQUN4QiwwQkFBMEI7MEVBQ3pCLHlCQUF5QjsrREFDekIsMkJBQTJCO2dFQUMxQiw0QkFBNEI7OERBQ25CLHFDQUFxQztnRUFDbkMsdUNBQXVDO3dCQUUvQixzQkFBc0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTVFLElBQVFDLEtBQUssR0FBeUJDLFVBQWMsZUFBQSxDQUE1Q0QsS0FBSyxFQUFFRSxJQUFJLEdBQW1CRCxVQUFjLGVBQUEsQ0FBckNDLElBQUksRUFBRUMsSUFBSSxHQUFhRixVQUFjLGVBQUEsQ0FBL0JFLElBQUksRUFBRUMsTUFBTSxHQUFLSCxVQUFjLGVBQUEsQ0FBekJHLE1BQU0sQUFBb0I7QUFFckQsSUFBSUMsS0FBSyxHQUFHLENBQUMsQUFBQztBQUVDLFNBQVNOLDhCQUE4QixDQUFDTyx3QkFBd0IsRUFBRUMsT0FBTyxFQUFFO0lBQ3hGLElBQUlDLHlDQUF5QyxHQUFHQyxpREFBaUQsQ0FBQ0gsd0JBQXdCLENBQUMsQUFBQztJQUU1SCxNQUFPRSx5Q0FBeUMsS0FBSyxJQUFJLENBQUU7UUFDekQsSUFBTUUsaUNBQWlDLEdBQUdGLHlDQUF5QyxFQUM3RUcsSUFBSSxHQUFHRCxpQ0FBaUMsQ0FBQ0UsT0FBTyxFQUFFLEVBQ2xEQywrQkFBK0IsR0FBR0MsbUNBQW1DLENBQUNILElBQUksRUFBRUwsd0JBQXdCLENBQUMsQUFBQztRQUUzR08sK0JBQStCLEtBQUssSUFBSSxHQUN2Q0UsMEJBQTBCLENBQUNGLCtCQUErQixFQUFFSCxpQ0FBaUMsRUFBRUosd0JBQXdCLEVBQUVDLE9BQU8sQ0FBQyxHQUMvSFMsNEJBQTRCLENBQUNOLGlDQUFpQyxFQUFFSix3QkFBd0IsRUFBRUMsT0FBTyxDQUFDLENBQUM7UUFFdkdDLHlDQUF5QyxHQUFHLEVBQUVILEtBQUssR0FBR1ksUUFBUSxHQUFHLElBQUksR0FBR1IsaURBQWlELENBQUNILHdCQUF3QixDQUFDLENBQUM7S0FDcko7Q0FDRjtBQUVELFNBQVNTLDBCQUEwQixDQUFDRiwrQkFBK0IsRUFBRUgsaUNBQWlDLEVBQUVKLHdCQUF3QixFQUFFQyxPQUFPLEVBQUU7SUFDekksSUFBTVcsb0JBQW9CLEdBQUdDLGtCQUFrQixDQUFDTiwrQkFBK0IsRUFBRVAsd0JBQXdCLEVBQUVDLE9BQU8sQ0FBQyxBQUFDO0lBRXBIYSxrQkFBa0IsQ0FBQ0Ysb0JBQW9CLEVBQUVMLCtCQUErQixFQUFFUCx3QkFBd0IsRUFBRUMsT0FBTyxDQUFDLENBQUM7SUFFN0csSUFBTUksSUFBSSxHQUFHRSwrQkFBK0IsQ0FBQ0QsT0FBTyxFQUFFLEVBQ2hEUyxnQ0FBZ0MsR0FBR0Msc0NBQXNDLENBQUNULCtCQUErQixFQUFFUCx3QkFBd0IsQ0FBQyxBQUFDO0lBRTNJLElBQUlpQixrQ0FBa0MsR0FBR0Msc0NBQXNDLENBQUNiLElBQUksRUFBRUwsd0JBQXdCLENBQUMsQUFBQztJQUVoSCxJQUFNbUIsK0JBQStCLEdBQUcsQUFDaEMsbUJBQUdKLGdDQUFnQyxDQUFoQ0EsUUFDSCxtQkFBR0Usa0NBQWtDLENBQWxDQSxDQUNKLEFBQUM7SUFFUkEsa0NBQWtDLEdBQUdHLHlDQUF5QyxDQUFDSCxrQ0FBa0MsRUFBRUwsb0JBQW9CLENBQUMsQ0FBQztJQUV6SSxJQUFNUyw2QkFBNkIsR0FBR0osa0NBQWtDLEFBQUMsRUFBQyxHQUFHO0lBRTdFSyw2QkFBNkIsQ0FBN0JBLEtBQTBILENBQTFIQSxLQUFBQSxDQUE2QixFQUE3QkE7UUFBOEJ0Qix3QkFBd0I7UUFBRW1CLCtCQUErQjtLQUFtQyxDQUExSEcsTUFBMEgsQ0FBakMsbUJBQUdELDZCQUE2QixDQUE3QkEsQ0FBOEIsQ0FBQSxDQUFDO0NBQzVIO0FBRUQsU0FBU1gsNEJBQTRCLENBQUNOLGlDQUFpQyxFQUFFSix3QkFBd0IsRUFBRUMsT0FBTyxFQUFFO0lBQzFHLElBQU1zQix1QkFBdUIsR0FBR25CLGlDQUFpQyxDQUFDb0IsMEJBQTBCLEVBQUUsQUFBQztJQUUvRkMsb0JBQW9CLENBQUNyQixpQ0FBaUMsRUFBRUosd0JBQXdCLEVBQUVDLE9BQU8sQ0FBQyxDQUFDO0lBRTNGLElBQU15QixzQkFBc0IsR0FBR0Msb0JBQW9CLENBQUN2QixpQ0FBaUMsRUFBRUosd0JBQXdCLEVBQUVDLE9BQU8sQ0FBQyxFQUNuSGdCLGtDQUFrQyxHQUFHVyx3Q0FBd0MsQ0FBQ3hCLGlDQUFpQyxFQUFFSix3QkFBd0IsQ0FBQyxFQUMxSTZCLDRCQUE0QixHQUFHQyw4QkFBOEIsQ0FBQzFCLGlDQUFpQyxFQUFFc0Isc0JBQXNCLENBQUMsRUFDeEhQLCtCQUErQixHQUFHO1FBQ2hDSSx1QkFBdUI7S0FFeEIsQ0FIaUMsTUFHakMsQ0FEQyxtQkFBR04sa0NBQWtDLENBQWxDQSxDQUNKLEFBQUM7SUFFUkssNkJBQTZCLENBQUN0Qix3QkFBd0IsRUFBRW1CLCtCQUErQixFQUFFVSw0QkFBNEIsQ0FBQyxDQUFDO0NBQ3hIO0FBRUQsU0FBU2Ysa0JBQWtCLENBQUNGLG9CQUFvQixFQUFFTCwrQkFBK0IsRUFBRVAsd0JBQXdCLEVBQUVDLE9BQU8sRUFBRTtJQUNwSCxJQUFNSSxJQUFJLEdBQUdFLCtCQUErQixDQUFDRCxPQUFPLEVBQUUsRUFDaER5QixnQkFBZ0IsR0FBRyxLQUFLLEVBQ3hCQyxtQkFBbUIsR0FBR0MsU0FBbUIsUUFBQSxDQUFDQyxtQ0FBbUMsQ0FBQzdCLElBQUksRUFBRUwsd0JBQXdCLEVBQUUrQixnQkFBZ0IsQ0FBQyxBQUFDO0lBRXRJLElBQUlDLG1CQUFtQixLQUFLLElBQUksRUFBRTtRQUNoQyxJQUFNRyx1QkFBdUIsR0FBR0gsbUJBQW1CLENBQUNJLE9BQU8sRUFBRSxFQUN2REMscUJBQXFCLEdBQUdDLHNCQUFxQixRQUFBLENBQUNDLDhDQUE4QyxDQUFDUCxtQkFBbUIsRUFBRXBCLG9CQUFvQixDQUFDLEVBQ3ZJNEIsVUFBVSxHQUFHSCxxQkFBcUIsQUFBQyxFQUFDLEdBQUc7UUFFN0NwQyxPQUFPLENBQUNrQyx1QkFBdUIsQ0FBQyxHQUFHSCxtQkFBbUIsQ0FBQztRQUV2RDNCLElBQUksQ0FBQ29DLGFBQWEsQ0FBQ0QsVUFBVSxDQUFDLENBQUM7S0FDaEM7Q0FDRjtBQUVELFNBQVMzQixrQkFBa0IsQ0FBQ04sK0JBQStCLEVBQUVQLHdCQUF3QixFQUFFQyxPQUFPLEVBQUU7SUFDOUYsSUFBTUksSUFBSSxHQUFHRSwrQkFBK0IsQ0FBQ0QsT0FBTyxFQUFFLEVBQ2hETSxvQkFBb0IsR0FBRzhCLFVBQW9CLFFBQUEsQ0FBQ1IsbUNBQW1DLENBQUM3QixJQUFJLEVBQUVMLHdCQUF3QixDQUFDLEVBQy9HMkMsd0JBQXdCLEdBQUcvQixvQkFBb0IsQ0FBQ3dCLE9BQU8sRUFBRSxBQUFDO0lBRWhFbkMsT0FBTyxDQUFDMEMsd0JBQXdCLENBQUMsR0FBRy9CLG9CQUFvQixDQUFDO0lBRXpELE9BQU9BLG9CQUFvQixDQUFDO0NBQzdCO0FBRUQsU0FBU2Esb0JBQW9CLENBQUNyQixpQ0FBaUMsRUFBRUosd0JBQXdCLEVBQUVDLE9BQU8sRUFBRTtJQUNsRyxJQUFNSSxJQUFJLEdBQUdELGlDQUFpQyxDQUFDRSxPQUFPLEVBQUUsRUFDbERzQyxRQUFRLEdBQUd2QyxJQUFJLENBQUMrQixPQUFPLEVBQUUsRUFDekJTLHlCQUF5QixHQUFHQyxJQUFBQSxTQUFxQyxzQ0FBQSxFQUFDRixRQUFRLENBQUMsQUFBQztJQUVsRixJQUFJRyxxQkFBcUIsR0FBRzlDLE9BQU8sQ0FBQzRDLHlCQUF5QixDQUFDLElBQUksSUFBSSxBQUFDO0lBRXZFLElBQUlFLHFCQUFxQixLQUFLLElBQUksRUFBRTtRQUNsQ0EscUJBQXFCLEdBQUdDLFdBQXFCLFFBQUEsQ0FBQ2QsbUNBQW1DLENBQUM3QixJQUFJLEVBQUVMLHdCQUF3QixDQUFDLENBQUM7UUFFbEhDLE9BQU8sQ0FBQzRDLHlCQUF5QixDQUFDLEdBQUdFLHFCQUFxQixDQUFDO0tBQzVEO0lBRUQsSUFBTUUsT0FBTyxHQUFHRixxQkFBcUIsQ0FBQ0csU0FBUyxFQUFFLEFBQUM7SUFFbEQsSUFBSSxDQUFDRCxPQUFPLEVBQUU7UUFDWixJQUFNWixxQkFBcUIsR0FBR0Msc0JBQXFCLFFBQUEsQ0FBQ2EsNkRBQTZELENBQUMvQyxpQ0FBaUMsRUFBRTJDLHFCQUFxQixDQUFDLEVBQ3JLeEIsdUJBQXVCLEdBQUduQixpQ0FBaUMsQ0FBQ29CLDBCQUEwQixFQUFFLEVBQ3hGbkIsS0FBSSxHQUFHa0IsdUJBQXVCLENBQUNqQixPQUFPLEVBQUUsRUFDeENrQyxVQUFVLEdBQUdILHFCQUFxQixBQUFDLEVBQUMsR0FBRztRQUU3Q2hDLEtBQUksQ0FBQ29DLGFBQWEsQ0FBQ0QsVUFBVSxDQUFDLENBQUM7S0FDaEM7Q0FDRjtBQUVELFNBQVNiLG9CQUFvQixDQUFDdkIsaUNBQWlDLEVBQUVKLHdCQUF3QixFQUFFQyxPQUFPLEVBQUU7SUFDbEcsSUFBTUksSUFBSSxHQUFHRCxpQ0FBaUMsQ0FBQ0UsT0FBTyxFQUFFLEVBQ2xEOEMscUJBQXFCLEdBQUdoRCxpQ0FBaUMsQ0FBQ2lELHdCQUF3QixFQUFFLEVBQ3BGM0Isc0JBQXNCLEdBQUc0QixZQUFzQixRQUFBLENBQUNDLHdEQUF3RCxDQUFDbEQsSUFBSSxFQUFFK0MscUJBQXFCLEVBQUVwRCx3QkFBd0IsQ0FBQyxFQUMvSndELDBCQUEwQixHQUFHOUIsc0JBQXNCLENBQUNVLE9BQU8sRUFBRSxBQUFDO0lBRXBFbkMsT0FBTyxDQUFDdUQsMEJBQTBCLENBQUMsR0FBRzlCLHNCQUFzQixDQUFDO0lBRTdELE9BQU9BLHNCQUFzQixDQUFDO0NBQy9CO0FBRUQsU0FBU0osNkJBQTZCLENBQUN0Qix3QkFBd0IsRUFBRW1CLCtCQUErQixFQUFvQztJQUFsQyxJQUFBLElBQUEsSUFBZ0MsR0FBaEMsU0FBZ0MsQ0FBaEMsTUFBZ0MsRUFBaEMsQUFBR0UsNkJBQTZCLEdBQWhDLFVBQUEsSUFBZ0MsR0FBaEMsQ0FBZ0MsR0FBaEMsSUFBZ0MsR0FBaEMsQ0FBZ0MsSUFBQSxDQUFBLEVBQWhDLElBQWdDLEdBQWhDLENBQWdDLEVBQWhDLElBQWdDLEdBQWhDLElBQWdDLEVBQWhDLElBQWdDLEVBQUEsQ0FBaEM7UUFBQSxBQUFHQSw2QkFBNkIsQ0FBaEMsSUFBZ0MsR0FBaEMsQ0FBZ0MsSUFBaEMsU0FBZ0MsQUFBaEMsQ0FBQSxJQUFnQyxDQUFBLENBQUE7S0FBQTtJQUNoSXZCLE1BQU0sQ0FBQ0Usd0JBQXdCLEVBQUUsU0FBQ3VCLHVCQUF1QixFQUFLO1FBQzVELElBQU1rQyw4REFBOEQsR0FBR3RDLCtCQUErQixDQUFDdUMsUUFBUSxDQUFDbkMsdUJBQXVCLENBQUMsQUFBQztRQUV6SSxJQUFJLENBQUNrQyw4REFBOEQsRUFBRTtZQUNuRSxPQUFPLElBQUksQ0FBQztTQUNiO0tBQ0YsQ0FBQyxDQUFDO0lBRUg1RCxJQUFJLENBQUNHLHdCQUF3QixFQUFFcUIsNkJBQTZCLENBQUMsQ0FBQztDQUMvRDtBQUVELFNBQVNTLDhCQUE4QixDQUFDMUIsaUNBQWlDLEVBQUVzQixzQkFBc0IsRUFBRTtJQUNqRyxJQUFJSCx1QkFBdUIsR0FBR25CLGlDQUFpQyxDQUFDb0IsMEJBQTBCLEVBQUUsQUFBQztJQUU3RixJQUFNbUMsS0FBSyxHQUFHdkQsaUNBQWlDLENBQUN3RCxPQUFPLEVBQUUsRUFDbkRDLGtCQUFrQixHQUFHdEMsdUJBQXVCLENBQUN1QyxhQUFhLEVBQUUsRUFDNUR6QixxQkFBcUIsR0FBR0Msc0JBQXFCLFFBQUEsQ0FBQ3lCLDhEQUE4RCxDQUFDM0QsaUNBQWlDLEVBQUVzQixzQkFBc0IsQ0FBQyxFQUN2S3JCLElBQUksR0FBR2tCLHVCQUF1QixDQUFDakIsT0FBTyxFQUFFLEVBQ3hDa0MsVUFBVSxHQUFHSCxxQkFBcUIsQUFBQyxFQUFDLEdBQUc7SUFFN0NkLHVCQUF1QixHQUFHb0MsS0FBSyxHQUNISyxVQUErQixRQUFBLENBQUNDLHFCQUFxQixDQUFDNUQsSUFBSSxFQUFFbUMsVUFBVSxDQUFDLEdBQ3JFMEIsWUFBaUMsUUFBQSxDQUFDQyxrREFBa0QsQ0FBQy9ELGlDQUFpQyxFQUFFb0MsVUFBVSxDQUFDLENBQUM7SUFFbEssSUFBTTRCLFdBQVcsR0FBRy9ELElBQUksQ0FBQ2dFLGNBQWMsRUFBRSxFQUNuQ0MscUNBQXFDLEdBQUdGLFdBQVcsQ0FBQ1YsUUFBUSxDQUFDRyxrQkFBa0IsQ0FBQyxBQUFDO0lBRXZGUyxxQ0FBcUMsR0FDbkNqRSxJQUFJLENBQUNrRSxpQkFBaUIsQ0FBQ1Ysa0JBQWtCLEVBQUV4QixxQkFBcUIsQ0FBQyxHQUMvRGhDLElBQUksQ0FBQ29DLGFBQWEsQ0FBQ0QsVUFBVSxDQUFDLENBQUM7SUFFbkMsT0FBT2pCLHVCQUF1QixDQUFDO0NBQ2hDO0FBRUQsU0FBU2YsbUNBQW1DLENBQUNILElBQUksRUFBRUwsd0JBQXdCLEVBQUU7SUFDM0UsSUFBTWUsZ0NBQWdDLEdBQUdmLHdCQUF3QixDQUFDSixJQUFJLENBQUMsU0FBQzJCLHVCQUF1QixFQUFLO1FBQ2xHLElBQU1pRCwyQkFBMkIsR0FBR2pELHVCQUF1QixDQUFDakIsT0FBTyxFQUFFLEFBQUM7UUFFdEUsSUFBSWtFLDJCQUEyQixLQUFLbkUsSUFBSSxFQUFFO1lBQ3hDLElBQU1vRSxzREFBc0QsR0FBSWxELEFBQXVCLFdBQVl5QyxDQUFuQ3pDLHVCQUF1QixFQUFZeUMsVUFBK0IsUUFBQSxDQUFBLEFBQUMsQUFBQztZQUVwSSxJQUFJUyxzREFBc0QsRUFBRTtnQkFDMUQsT0FBTyxJQUFJLENBQUM7YUFDYjtTQUNGO0tBQ0YsQ0FBQyxJQUFJLElBQUksQUFBQztJQUVYLE9BQU8xRCxnQ0FBZ0MsQ0FBQztDQUN6QztBQUVELFNBQVMyRCxvQ0FBb0MsQ0FBQ3JFLElBQUksRUFBRUwsd0JBQXdCLEVBQUU7SUFDNUUsSUFBTWUsZ0NBQWdDLEdBQUduQixJQUFJLENBQUNJLHdCQUF3QixFQUFFLFNBQUN1Qix1QkFBdUIsRUFBSztRQUNuRyxJQUFNaUQsMkJBQTJCLEdBQUdqRCx1QkFBdUIsQ0FBQ2pCLE9BQU8sRUFBRSxBQUFDO1FBRXRFLElBQUlrRSwyQkFBMkIsS0FBS25FLElBQUksRUFBRTtZQUN4QyxJQUFNb0Usc0RBQXNELEdBQUlsRCxBQUF1QixXQUFZeUMsQ0FBbkN6Qyx1QkFBdUIsRUFBWXlDLFVBQStCLFFBQUEsQ0FBQSxBQUFDLEFBQUM7WUFFcEksSUFBSVMsc0RBQXNELEVBQUU7Z0JBQzFELE9BQU8sSUFBSSxDQUFDO2FBQ2I7U0FDRjtLQUNGLENBQUMsQUFBQztJQUVILE9BQU8xRCxnQ0FBZ0MsQ0FBQztDQUN6QztBQUVELFNBQVNDLHNDQUFzQyxDQUFDVCwrQkFBK0IsRUFBRVAsd0JBQXdCLEVBQUU7SUFDekcsSUFBTUssSUFBSSxHQUFHRSwrQkFBK0IsQ0FBQ0QsT0FBTyxFQUFFLEVBQ2hEUyxnQ0FBZ0MsR0FBRzJELG9DQUFvQyxDQUFDckUsSUFBSSxFQUFFTCx3QkFBd0IsQ0FBQyxFQUN2R29FLFdBQVcsR0FBR3JELGdDQUFnQyxDQUFDNEQsR0FBRyxDQUFDLFNBQUNwRSwrQkFBK0IsRUFBSztRQUN0RixJQUFNaUMsVUFBVSxHQUFHakMsK0JBQStCLENBQUN1RCxhQUFhLEVBQUUsQUFBQztRQUVuRSxPQUFPdEIsVUFBVSxDQUFDO0tBQ25CLENBQUMsQUFBQztJQUVUbkMsSUFBSSxDQUFDdUUsaUJBQWlCLENBQUNSLFdBQVcsQ0FBQyxDQUFDO0lBRXBDLE9BQU9yRCxnQ0FBZ0MsQ0FBQztDQUN6QztBQUVELFNBQVNHLHNDQUFzQyxDQUFDYixJQUFJLEVBQUVMLHdCQUF3QixFQUFnQztRQUE5Qm9ELHFCQUFxQixHQUFyQkEsK0NBQTRCLGtCQUFKLElBQUk7SUFDMUcsSUFBTW5DLGtDQUFrQyxHQUFHckIsSUFBSSxDQUFDSSx3QkFBd0IsRUFBRSxTQUFDdUIsdUJBQXVCLEVBQUs7UUFDckcsSUFBTWlELDJCQUEyQixHQUFHakQsdUJBQXVCLENBQUNqQixPQUFPLEVBQUUsQUFBQztRQUV0RSxJQUFJa0UsMkJBQTJCLEtBQUtuRSxJQUFJLEVBQUU7WUFDeEMsSUFBTXdFLHdEQUF3RCxHQUFJdEQsQUFBdUIsV0FBWTJDLENBQW5DM0MsdUJBQXVCLEVBQVkyQyxZQUFpQyxRQUFBLENBQUEsQUFBQyxBQUFDO1lBRXhJLElBQUlXLHdEQUF3RCxFQUFFO2dCQUM1RCxJQUFJekIscUJBQXFCLEtBQUssSUFBSSxFQUFFO29CQUNsQyxPQUFPLElBQUksQ0FBQztpQkFDYjtnQkFFRCxJQUFNaEQsaUNBQWlDLEdBQUdtQix1QkFBdUIsRUFDM0R1RCxzREFBc0QsR0FBRzFFLGlDQUFpQyxDQUFDaUQsd0JBQXdCLEVBQUUsQUFBQztnQkFFNUgsSUFBSXlCLHNEQUFzRCxLQUFLMUIscUJBQXFCLEVBQUU7b0JBQ3BGLE9BQU8sSUFBSSxDQUFDO2lCQUNiO2FBQ0Y7U0FDRjtLQUNGLENBQUMsQUFBQztJQUVILE9BQU9uQyxrQ0FBa0MsQ0FBQztDQUMzQztBQUVELFNBQVNXLHdDQUF3QyxDQUFDeEIsaUNBQWlDLEVBQUVKLHdCQUF3QixFQUFFO0lBQzdHLElBQU1LLElBQUksR0FBR0QsaUNBQWlDLENBQUNFLE9BQU8sRUFBRSxFQUNsRHVELGtCQUFrQixHQUFHekQsaUNBQWlDLENBQUMwRCxhQUFhLEVBQUUsRUFDdEVWLHFCQUFxQixHQUFHaEQsaUNBQWlDLENBQUNpRCx3QkFBd0IsRUFBRSxFQUNwRnBDLGtDQUFrQyxHQUFHQyxzQ0FBc0MsQ0FBQ2IsSUFBSSxFQUFFTCx3QkFBd0IsRUFBRW9ELHFCQUFxQixDQUFDLEVBQ2xJZ0IsV0FBVyxHQUFHbkQsa0NBQWtDLENBQUMwRCxHQUFHLENBQUMsU0FBQ3ZFLGlDQUFpQyxFQUFLO1FBQzFGLElBQU1vQyxVQUFVLEdBQUdwQyxpQ0FBaUMsQ0FBQzBELGFBQWEsRUFBRSxBQUFDO1FBRXJFLE9BQU90QixVQUFVLENBQUM7S0FDbkIsQ0FBQyxFQUNGSCxxQkFBcUIsR0FBR0Msc0JBQXFCLFFBQUEsQ0FBQ3lDLHFDQUFxQyxDQUFDM0UsaUNBQWlDLEVBQUVnRCxxQkFBcUIsQ0FBQyxBQUFDLEVBQUUsR0FBRztJQUV6Si9DLElBQUksQ0FBQ2tFLGlCQUFpQixDQUFDVixrQkFBa0IsRUFBRXhCLHFCQUFxQixDQUFDLENBQUM7SUFFbEVoQyxJQUFJLENBQUN1RSxpQkFBaUIsQ0FBQ1IsV0FBVyxDQUFDLENBQUM7SUFFcEMsT0FBT25ELGtDQUFrQyxDQUFDO0NBQzNDO0FBRUQsU0FBU0cseUNBQXlDLENBQUNILGtDQUFrQyxFQUFFTCxvQkFBb0IsRUFBRTtRQW9CM0dQLEtBQUk7SUFuQkosSUFBTTJFLHNDQUFzQyxHQUFHdEYsS0FBSyxDQUFDdUIsa0NBQWtDLENBQUMsRUFDbEZnRSw2QkFBNkIsR0FBR0Qsc0NBQXNDLEVBQ3RFM0UsSUFBSSxHQUFHNEUsNkJBQTZCLENBQUMzRSxPQUFPLEVBQUUsRUFDOUM0RSxzQkFBc0IsR0FBR2pFLGtDQUFrQyxDQUFDMEQsR0FBRyxDQUFDLFNBQUN2RSxpQ0FBaUMsRUFBSztRQUNyRyxJQUFNaUMscUJBQXFCLEdBQUdDLHNCQUFxQixRQUFBLENBQUM2Qyw0REFBNEQsQ0FBQy9FLGlDQUFpQyxFQUFFUSxvQkFBb0IsQ0FBQyxBQUFDO1FBRTFLLE9BQU95QixxQkFBcUIsQ0FBQztLQUM5QixDQUFDLEFBQUM7SUFFVHBCLGtDQUFrQyxHQUFHQSxrQ0FBa0MsQ0FBQzBELEdBQUcsQ0FBQyxTQUFDdkUsaUNBQWlDLEVBQUVnRixLQUFLLEVBQUs7UUFDeEgsSUFBTS9DLHFCQUFxQixHQUFHNkMsc0JBQXNCLENBQUVFLEtBQUssQ0FBRSxFQUN2RDVDLFVBQVUsR0FBR0gscUJBQXFCLEVBQ2xDZ0QsUUFBUSxHQUFHLElBQUksQUFBQztRQUV0QmpGLGlDQUFpQyxHQUFHOEQsWUFBaUMsUUFBQSxDQUFDQyxrREFBa0QsQ0FBQy9ELGlDQUFpQyxFQUFFb0MsVUFBVSxFQUFFNkMsUUFBUSxDQUFDLENBQUMsQ0FBRSxHQUFHO1FBRXZMLE9BQU9qRixpQ0FBaUMsQ0FBQztLQUMxQyxDQUFDLENBQUM7SUFFSEMsQ0FBQUEsS0FBSSxHQUFKQSxJQUFJLEVBQUNpRixxQkFBcUIsQ0FBMUJqRixLQUFxRCxDQUFyREEsS0FBSSxFQUF1QixtQkFBRzZFLHNCQUFzQixDQUF0QkEsQ0FBdUIsQ0FBQztJQUV0RCxPQUFPakUsa0NBQWtDLENBQUM7Q0FDM0M7QUFFRCxTQUFTZCxpREFBaUQsQ0FBQ0gsd0JBQXdCLEVBQUU7SUFDbkYsSUFBSUUseUNBQXlDLEdBQUcsSUFBSSxBQUFDO0lBRXJELElBQU1lLGtDQUFrQyxHQUFHckIsSUFBSSxDQUFDSSx3QkFBd0IsRUFBRSxTQUFDdUIsdUJBQXVCLEVBQUs7UUFDckcsSUFBTXNELHdEQUF3RCxHQUFJdEQsQUFBdUIsV0FBWTJDLENBQW5DM0MsdUJBQXVCLEVBQVkyQyxZQUFpQyxRQUFBLENBQUEsQUFBQyxBQUFDO1FBRXhJLElBQUlXLHdEQUF3RCxFQUFFO1lBQzVELE9BQU8sSUFBSSxDQUFDO1NBQ2I7S0FDRixDQUFDLEFBQUM7SUFFSDVELGtDQUFrQyxDQUFDc0UsT0FBTyxDQUFDLFNBQUNuRixpQ0FBaUMsRUFBSztRQUNoRixJQUFJRix5Q0FBeUMsS0FBSyxJQUFJLEVBQUU7WUFDdERBLHlDQUF5QyxHQUFHRSxpQ0FBaUMsQ0FBQyxDQUFDLEdBQUc7U0FDbkYsTUFBTTtZQUNMLElBQU1vRixxRkFBcUYsR0FBR3BGLGlDQUFpQyxDQUFDcUYsYUFBYSxDQUFDdkYseUNBQXlDLENBQUMsQUFBQztZQUV6TCxJQUFJc0YscUZBQXFGLEVBQUU7Z0JBQ3pGdEYseUNBQXlDLEdBQUdFLGlDQUFpQyxDQUFDLENBQUMsR0FBRzthQUNuRjtTQUNGO0tBQ0YsQ0FBQyxDQUFDO0lBRUgsT0FBT0YseUNBQXlDLENBQUM7Q0FDbEQifQ==