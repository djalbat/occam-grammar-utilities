"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = eliminateIndirectLeftRecursion;
var _necessary = require("necessary");
var _reduced = _interopRequireDefault(require("./rule/reduced"));
var _repeated = _interopRequireDefault(require("./rule/repeated"));
var _left = _interopRequireDefault(require("./definition/recursive/left"));
var _directly = _interopRequireDefault(require("./definition/recursive/left/directly"));
var _indirectly = _interopRequireDefault(require("./definition/recursive/left/indirectly"));
var _part = require("./utilities/part");
var _rules = require("./utilities/rules");
var _definitions = require("./utilities/definitions");
var _definition = require("./utilities/definition");
function eliminateIndirectLeftRecursion(leftRecursiveDefinitions, ruleMap) {
    var indirectlyLeftRecursiveRules = retrieveIndirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap);
    indirectlyLeftRecursiveRules.forEach(function(indirectlyLeftRecursiveRule) {
        var reducedRule = _reduced.default.fromIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule), reducedRuleName = reducedRule.getName();
        ruleMap[reducedRuleName] = reducedRule;
        var implicitlyLeftRecursiveRuleNames = retrieveImplicitlyLeftRecursiveRuleNames(indirectlyLeftRecursiveRule), indirectlyLeftRecursiveRuleDefinitions = indirectlyLeftRecursiveRule.getDefinitions(), lastIndirectlyLeftRecursiveRuleDefinition = last(indirectlyLeftRecursiveRuleDefinitions); ///
        implicitlyLeftRecursiveRuleNames.forEach(function(implicitlyLeftRecursiveRuleName, index) {
            var indirectlyLeftRecursiveDefinitions = retrieveIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveRule, implicitlyLeftRecursiveRuleName), indirectlyLeftRecursiveDefinition = mergeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions);
            var repeatedRule = _repeated.default.fromIndirectlyLeftRecursiveDefinitionAndIndex(indirectlyLeftRecursiveDefinition, index), repeatedRuleName = repeatedRule.getName();
            ruleMap[repeatedRuleName] = repeatedRule;
            var rewrittenIndirectlyLeftRecursiveDefinition = rewriteIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, repeatedRuleName), implicitlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getImplicitlyLeftRecursiveDefinition(), definitions = [
                rewrittenIndirectlyLeftRecursiveDefinition,
                lastIndirectlyLeftRecursiveRuleDefinition
            ], rewrittenImplicitlyLeftRecursiveDefinition = rewriteImplicitlyLeftRecursiveDefinition(implicitlyLeftRecursiveDefinition, definitions, ruleMap), leftRecursiveDefinition = rewrittenImplicitlyLeftRecursiveDefinition; ///
            leftRecursiveDefinitions.push(leftRecursiveDefinition);
        });
    });
}
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _instanceof(left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
        return !!right[Symbol.hasInstance](left);
    } else {
        return left instanceof right;
    }
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
var first = _necessary.arrayUtilities.first, second = _necessary.arrayUtilities.second, last = _necessary.arrayUtilities.last;
function retrieveIndirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap) {
    var indirectlyLeftRecursiveRules = (0, _rules).retrieveLeftRecursiveRules(leftRecursiveDefinitions, _indirectly.default, ruleMap);
    return indirectlyLeftRecursiveRules;
}
function mergeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions) {
    var indirectlyLeftRecursiveDefinition = (0, _definitions).mergeLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions, _indirectly.default);
    return indirectlyLeftRecursiveDefinition;
}
function retrieveImplicitlyLeftRecursiveRuleNames(indirectlyLeftRecursiveRule) {
    var implicitlyLeftRecursiveRuleNames = [], definitions = indirectlyLeftRecursiveRule.getDefinitions();
    definitions.forEach(function(definition) {
        var definitionIndirectlyLeftRecursiveDefinition = _instanceof(definition, _indirectly.default);
        if (definitionIndirectlyLeftRecursiveDefinition) {
            var indirectlyLeftRecursiveDefinition = definition, implicitlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getImplicitlyLeftRecursiveDefinition(), ruleName = implicitlyLeftRecursiveDefinition.getRuleName(), implicitlyLeftRecursiveRuleNamesIncludesRuleName = implicitlyLeftRecursiveRuleNames.includes(ruleName);
            if (!implicitlyLeftRecursiveRuleNamesIncludesRuleName) {
                var implicitlyLeftRecursiveRuleName = ruleName; ///
                implicitlyLeftRecursiveRuleNames.push(implicitlyLeftRecursiveRuleName);
            }
        }
    });
    return implicitlyLeftRecursiveRuleNames;
}
function rewriteIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, repeatedRuleName) {
    var parts = (0, _definition).definitionPartsFromDefinition(indirectlyLeftRecursiveDefinition);
    var firstPart = first(parts), repeatedRuleNamePart = (0, _part).ruleNamePartFromRuleName(repeatedRuleName);
    parts = [
        firstPart,
        repeatedRuleNamePart
    ];
    var ruleName = indirectlyLeftRecursiveDefinition.getRuleName(), directlyLeftRecursiveDefinition = _directly.default.fromRuleNameAndParts(ruleName, parts), rewrittenIndirectlyLeftRecursiveDefinition = directlyLeftRecursiveDefinition; ///
    return rewrittenIndirectlyLeftRecursiveDefinition;
}
function rewriteImplicitlyLeftRecursiveDefinition(implicitlyLeftRecursiveDefinition, definitions, ruleMap) {
    var _rule;
    var definition;
    var ruleName = implicitlyLeftRecursiveDefinition.getRuleName(), firstDefinition = first(definitions), secondDefinition = second(definitions);
    definition = firstDefinition; ///
    var directlyLeftRecursiveDefinition = _directly.default.fromImplicitlyLeftRecursiveDefinitionAndDefinition(implicitlyLeftRecursiveDefinition, definition);
    definition = secondDefinition; ///
    var leftRecursiveDefinition = _left.default.fromImplicitlyLeftRecursiveDefinitionAndDefinition(implicitlyLeftRecursiveDefinition, definition);
    var replacedDefinition = implicitlyLeftRecursiveDefinition, replacementDefinitions = [
        directlyLeftRecursiveDefinition,
        leftRecursiveDefinition
    ], rule = ruleMap[ruleName];
    (_rule = rule).replaceDefinition.apply(_rule, [
        replacedDefinition
    ].concat(_toConsumableArray(replacementDefinitions)));
    var rewrittenImplicitlyLeftRecursiveDefinition = directlyLeftRecursiveDefinition; //
    return rewrittenImplicitlyLeftRecursiveDefinition;
}
function retrieveIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveRule, implicitlyLeftRecursiveRuleName) {
    var definitions = indirectlyLeftRecursiveRule.getDefinitions(), indirectlyLeftRecursiveDefinitions = definitions.filter(function(definition) {
        var definitionIndirectlyLeftRecursiveDefinition = _instanceof(definition, _indirectly.default);
        if (definitionIndirectlyLeftRecursiveDefinition) {
            var indirectlyLeftRecursiveDefinition = definition, implicitlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getImplicitlyLeftRecursiveDefinition(), ruleName = implicitlyLeftRecursiveDefinition.getRuleName();
            if (ruleName === implicitlyLeftRecursiveRuleName) {
                return true;
            }
        }
    });
    return indirectlyLeftRecursiveDefinitions;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgUmVkdWNlZFJ1bGUgZnJvbSBcIi4vcnVsZS9yZWR1Y2VkXCI7XG5pbXBvcnQgUmVwZWF0ZWRSdWxlIGZyb20gXCIuL3J1bGUvcmVwZWF0ZWRcIjtcbmltcG9ydCBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZS9sZWZ0XCI7XG5pbXBvcnQgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZS9sZWZ0L2RpcmVjdGx5XCI7XG5pbXBvcnQgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnQvaW5kaXJlY3RseVwiO1xuXG5pbXBvcnQgeyBydWxlTmFtZVBhcnRGcm9tUnVsZU5hbWUgfSBmcm9tIFwiLi91dGlsaXRpZXMvcGFydFwiO1xuaW1wb3J0IHsgcmV0cmlldmVMZWZ0UmVjdXJzaXZlUnVsZXMgfSBmcm9tIFwiLi91dGlsaXRpZXMvcnVsZXNcIjtcbmltcG9ydCB7IG1lcmdlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2RlZmluaXRpb25zXCI7XG5pbXBvcnQgeyBkZWZpbml0aW9uUGFydHNGcm9tRGVmaW5pdGlvbiB9IGZyb20gXCIuL3V0aWxpdGllcy9kZWZpbml0aW9uXCI7XG5cbmNvbnN0IHsgZmlyc3QsIHNlY29uZCwgbGFzdCB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcyA9IHJldHJpZXZlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApO1xuXG4gIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMuZm9yRWFjaCgoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKSA9PiB7XG4gICAgY29uc3QgcmVkdWNlZFJ1bGUgPSBSZWR1Y2VkUnVsZS5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSksXG4gICAgICAgICAgcmVkdWNlZFJ1bGVOYW1lID0gcmVkdWNlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gICAgcnVsZU1hcFtyZWR1Y2VkUnVsZU5hbWVdID0gcmVkdWNlZFJ1bGU7XG5cbiAgICBjb25zdCBpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyA9IHJldHJpZXZlSW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlTmFtZXMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKSxcbiAgICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVEZWZpbml0aW9ucyA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZS5nZXREZWZpbml0aW9ucygpLFxuICAgICAgICAgIGxhc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVEZWZpbml0aW9uID0gbGFzdChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVEZWZpbml0aW9ucyk7ICAvLy9cblxuICAgIGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzLmZvckVhY2goKGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlTmFtZSksXG4gICAgICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBtZXJnZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG5cbiAgICAgIGNvbnN0IHJlcGVhdGVkUnVsZSA9IFJlcGVhdGVkUnVsZS5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kSW5kZXgoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBpbmRleCksXG4gICAgICAgICAgICByZXBlYXRlZFJ1bGVOYW1lID0gcmVwZWF0ZWRSdWxlLmdldE5hbWUoKTtcblxuICAgICAgcnVsZU1hcFtyZXBlYXRlZFJ1bGVOYW1lXSA9IHJlcGVhdGVkUnVsZTtcblxuICAgICAgY29uc3QgcmV3cml0dGVuSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gcmV3cml0ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlcGVhdGVkUnVsZU5hbWUpLFxuICAgICAgICAgICAgaW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldEltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbigpLFxuICAgICAgICAgICAgZGVmaW5pdGlvbnMgPSBbXG4gICAgICAgICAgICAgIHJld3JpdHRlbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbixcbiAgICAgICAgICAgICAgbGFzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZURlZmluaXRpb25cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICByZXdyaXR0ZW5JbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSByZXdyaXRlSW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgZGVmaW5pdGlvbnMsIHJ1bGVNYXApLFxuICAgICAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSByZXdyaXR0ZW5JbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247ICAvLy9cblxuICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLnB1c2gobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkge1xuICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzID0gcmV0cmlldmVMZWZ0UmVjdXJzaXZlUnVsZXMobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJ1bGVNYXApO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzO1xufVxuXG5mdW5jdGlvbiBtZXJnZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucykge1xuICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBtZXJnZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlSW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlTmFtZXMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKSB7XG4gIGNvbnN0IGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzID0gW10sXG4gICAgICAgIGRlZmluaXRpb25zID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLmdldERlZmluaXRpb25zKCk7XG5cbiAgZGVmaW5pdGlvbnMuZm9yRWFjaCgoZGVmaW5pdGlvbikgPT4ge1xuICAgIGNvbnN0IGRlZmluaXRpb25JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSAoZGVmaW5pdGlvbiBpbnN0YW5jZW9mIEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICBpZiAoZGVmaW5pdGlvbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZGVmaW5pdGlvbiwgLy8vXG4gICAgICAgICAgICBpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0SW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKCksXG4gICAgICAgICAgICBydWxlTmFtZSA9IGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlTmFtZSgpLFxuICAgICAgICAgICAgaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlTmFtZXNJbmNsdWRlc1J1bGVOYW1lID0gaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlTmFtZXMuaW5jbHVkZXMocnVsZU5hbWUpO1xuXG4gICAgICBpZiAoIWltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzSW5jbHVkZXNSdWxlTmFtZSkge1xuICAgICAgICBjb25zdCBpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lID0gcnVsZU5hbWU7ICAvLy9cblxuICAgICAgICBpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcy5wdXNoKGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVwZWF0ZWRSdWxlTmFtZSkge1xuICBsZXQgIHBhcnRzID0gZGVmaW5pdGlvblBhcnRzRnJvbURlZmluaXRpb24oaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICBjb25zdCBmaXJzdFBhcnQgPSBmaXJzdChwYXJ0cyksXG4gICAgICAgIHJlcGVhdGVkUnVsZU5hbWVQYXJ0ID0gcnVsZU5hbWVQYXJ0RnJvbVJ1bGVOYW1lKHJlcGVhdGVkUnVsZU5hbWUpXG5cbiAgcGFydHMgPSBbXG4gICAgZmlyc3RQYXJ0LFxuICAgIHJlcGVhdGVkUnVsZU5hbWVQYXJ0XG4gIF07XG5cbiAgY29uc3QgcnVsZU5hbWUgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZU5hbWUoKSxcbiAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbVJ1bGVOYW1lQW5kUGFydHMocnVsZU5hbWUsIHBhcnRzKSxcbiAgICAgICAgcmV3cml0dGVuSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjsgLy8vXG5cbiAgcmV0dXJuIHJld3JpdHRlbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gcmV3cml0ZUltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGRlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGxldCBkZWZpbml0aW9uO1xuXG4gIGNvbnN0IHJ1bGVOYW1lID0gaW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCksXG4gICAgICAgIGZpcnN0RGVmaW5pdGlvbiA9IGZpcnN0KGRlZmluaXRpb25zKSxcbiAgICAgICAgc2Vjb25kRGVmaW5pdGlvbiA9IHNlY29uZChkZWZpbml0aW9ucylcblxuICBkZWZpbml0aW9uID0gZmlyc3REZWZpbml0aW9uOyAvLy9cblxuICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tSW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kRGVmaW5pdGlvbihpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGRlZmluaXRpb24pO1xuXG4gIGRlZmluaXRpb24gPSBzZWNvbmREZWZpbml0aW9uOyAgLy8vXG5cbiAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tSW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kRGVmaW5pdGlvbihpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGRlZmluaXRpb24pO1xuXG4gIGNvbnN0IHJlcGxhY2VkRGVmaW5pdGlvbiA9IGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgLy8vXG4gICAgICAgIHJlcGxhY2VtZW50RGVmaW5pdGlvbnMgPSBbXG4gICAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbixcbiAgICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvblxuICAgICAgICBdLFxuICAgICAgICBydWxlID0gcnVsZU1hcFtydWxlTmFtZV07XG5cbiAgcnVsZS5yZXBsYWNlRGVmaW5pdGlvbihyZXBsYWNlZERlZmluaXRpb24sIC4uLnJlcGxhY2VtZW50RGVmaW5pdGlvbnMpO1xuXG4gIGNvbnN0IHJld3JpdHRlbkltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247IC8vXG5cbiAgcmV0dXJuIHJld3JpdHRlbkltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlTmFtZSkge1xuICBjb25zdCBkZWZpbml0aW9ucyA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZS5nZXREZWZpbml0aW9ucygpLFxuICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gZGVmaW5pdGlvbnMuZmlsdGVyKChkZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGVmaW5pdGlvbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IChkZWZpbml0aW9uIGluc3RhbmNlb2YgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgICAgICAgIGlmIChkZWZpbml0aW9uSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBkZWZpbml0aW9uLCAvLy9cbiAgICAgICAgICAgICAgICAgIGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRJbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lID0gaW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCk7XG5cbiAgICAgICAgICAgIGlmIChydWxlTmFtZSA9PT0gaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlTmFtZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zO1xufVxuIl0sIm5hbWVzIjpbImVsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbiIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJ1bGVNYXAiLCJpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzIiwicmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzIiwiZm9yRWFjaCIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsInJlZHVjZWRSdWxlIiwiUmVkdWNlZFJ1bGUiLCJmcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlIiwicmVkdWNlZFJ1bGVOYW1lIiwiZ2V0TmFtZSIsImltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzIiwicmV0cmlldmVJbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZURlZmluaXRpb25zIiwiZ2V0RGVmaW5pdGlvbnMiLCJsYXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlRGVmaW5pdGlvbiIsImxhc3QiLCJpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lIiwiaW5kZXgiLCJpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwibWVyZ2VJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmVwZWF0ZWRSdWxlIiwiUmVwZWF0ZWRSdWxlIiwiZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZEluZGV4IiwicmVwZWF0ZWRSdWxlTmFtZSIsInJld3JpdHRlbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJld3JpdGVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJnZXRJbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJkZWZpbml0aW9ucyIsInJld3JpdHRlbkltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJld3JpdGVJbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInB1c2giLCJmaXJzdCIsImFycmF5VXRpbGl0aWVzIiwic2Vjb25kIiwicmV0cmlldmVMZWZ0UmVjdXJzaXZlUnVsZXMiLCJJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJtZXJnZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImRlZmluaXRpb24iLCJkZWZpbml0aW9uSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwicnVsZU5hbWUiLCJnZXRSdWxlTmFtZSIsImltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzSW5jbHVkZXNSdWxlTmFtZSIsImluY2x1ZGVzIiwicGFydHMiLCJkZWZpbml0aW9uUGFydHNGcm9tRGVmaW5pdGlvbiIsImZpcnN0UGFydCIsInJlcGVhdGVkUnVsZU5hbWVQYXJ0IiwicnVsZU5hbWVQYXJ0RnJvbVJ1bGVOYW1lIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsIkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tUnVsZU5hbWVBbmRQYXJ0cyIsInJ1bGUiLCJmaXJzdERlZmluaXRpb24iLCJzZWNvbmREZWZpbml0aW9uIiwiZnJvbUltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZERlZmluaXRpb24iLCJMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJlcGxhY2VkRGVmaW5pdGlvbiIsInJlcGxhY2VtZW50RGVmaW5pdGlvbnMiLCJyZXBsYWNlRGVmaW5pdGlvbiIsImZpbHRlciJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOzs7O2tCQWlCV0EsOEJBQThCO0FBZnZCLElBQUEsVUFBVyxXQUFYLFdBQVcsQ0FBQTtBQUVsQixJQUFBLFFBQWdCLGtDQUFoQixnQkFBZ0IsRUFBQTtBQUNmLElBQUEsU0FBaUIsa0NBQWpCLGlCQUFpQixFQUFBO0FBQ04sSUFBQSxLQUE2QixrQ0FBN0IsNkJBQTZCLEVBQUE7QUFDckIsSUFBQSxTQUFzQyxrQ0FBdEMsc0NBQXNDLEVBQUE7QUFDcEMsSUFBQSxXQUF3QyxrQ0FBeEMsd0NBQXdDLEVBQUE7QUFFN0MsSUFBQSxLQUFrQixXQUFsQixrQkFBa0IsQ0FBQTtBQUNoQixJQUFBLE1BQW1CLFdBQW5CLG1CQUFtQixDQUFBO0FBQ2hCLElBQUEsWUFBeUIsV0FBekIseUJBQXlCLENBQUE7QUFDekIsSUFBQSxXQUF3QixXQUF4Qix3QkFBd0IsQ0FBQTtBQUl2RCxTQUFTQSw4QkFBOEIsQ0FBQ0Msd0JBQXdCLEVBQUVDLE9BQU8sRUFBRTtJQUN4RixJQUFNQyw0QkFBNEIsR0FBR0Msb0NBQW9DLENBQUNILHdCQUF3QixFQUFFQyxPQUFPLENBQUMsQUFBQztJQUU3R0MsNEJBQTRCLENBQUNFLE9BQU8sQ0FBQyxTQUFDQywyQkFBMkIsRUFBSztRQUNwRSxJQUFNQyxXQUFXLEdBQUdDLFFBQVcsUUFBQSxDQUFDQywrQkFBK0IsQ0FBQ0gsMkJBQTJCLENBQUMsRUFDdEZJLGVBQWUsR0FBR0gsV0FBVyxDQUFDSSxPQUFPLEVBQUUsQUFBQztRQUU5Q1QsT0FBTyxDQUFDUSxlQUFlLENBQUMsR0FBR0gsV0FBVyxDQUFDO1FBRXZD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