"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return eliminateIndirectLeftRecursion;
    }
});
var _edge = /*#__PURE__*/ _interopRequireDefault(require("./edge"));
var _definition = /*#__PURE__*/ _interopRequireDefault(require("./definition"));
var _indirectly = /*#__PURE__*/ _interopRequireDefault(require("./rule/repeated/indirectly"));
var _array = require("./utilities/array");
var _context = require("./utilities/context");
var _definition1 = require("./utilities/definition");
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function eliminateIndirectLeftRecursion(context) {
    var greatestNonTrivialCycle = findGreatestNonTrivialCycle(context);
    while(greatestNonTrivialCycle !== null){
        var ruleNames = greatestNonTrivialCycle, firstLastRuleName = (0, _array.firstLast)(ruleNames), secondLastRuleName = (0, _array.secondLast)(ruleNames), ruleName = firstLastRuleName, leftRecursiveRuleName = secondLastRuleName; ///
        rewriteIndirectLeftRecursion(ruleName, leftRecursiveRuleName, context);
        rewriteDirectedGraph(ruleName, leftRecursiveRuleName, context);
        greatestNonTrivialCycle = findGreatestNonTrivialCycle(context);
    }
}
function rewriteDirectedGraph(ruleName, leftRecursiveRuleName, context) {
    var directedGraph = context.directedGraph;
    var sourceVertex, targetVertex;
    sourceVertex = leftRecursiveRuleName; ///
    targetVertex = ruleName; ///
    directedGraph.removeEdgeBySourceVertexAndTargetVertex(sourceVertex, targetVertex);
    sourceVertex = ruleName; ///
    var edges = directedGraph.findEdgesBySourceVertex(sourceVertex);
    edges = edges.reduce(function(edges, edge) {
        var edgeTriviallyCyclic = edge.isTriviallyCyclic();
        if (!edgeTriviallyCyclic) {
            var sourceVertex = leftRecursiveRuleName, targetVertex = edge.getTargetVertex();
            edge = _edge.default.fromSourceVertexAndTargetVertex(sourceVertex, targetVertex);
            edges.push(edge);
        }
        return edges;
    }, []);
    directedGraph.addEdges(edges);
}
function greatestCycleFromCycles(cycles) {
    var greatestCycle = cycles.reduce(function(greatestCycle, cycle) {
        if (greatestCycle === null) {
            greatestCycle = cycle; ///
        } else {
            var cycleLength = cycle.length, greatestCycleLength = greatestCycle.length;
            if (cycleLength > greatestCycleLength) {
                greatestCycle = cycle; ///
            }
        }
        return greatestCycle;
    }, null);
    return greatestCycle;
}
function findGreatestNonTrivialCycle(context) {
    var directedGraph = context.directedGraph;
    var nonTrivialCycles = directedGraph.findNonTrivialCycles(), greatestNonTrivialCycle = greatestCycleFromCycles(nonTrivialCycles);
    return greatestNonTrivialCycle;
}
function rewriteIndirectLeftRecursion(ruleName, leftRecursiveRuleName, context) {
    var ruleMap = context.ruleMap;
    var rule = ruleMap[ruleName], leftRecursiveRule = ruleMap[leftRecursiveRuleName], leftRecursiveDefinitions = (0, _context.findLeftRecursiveDefinitions)(leftRecursiveRule, function(leftRecursiveDefinition) {
        var definition = leftRecursiveDefinition, leftRecursiveRuleNames = (0, _definition1.leftRecursiveRuleNamesFromDefinition)(definition), firstLeftRecursiveRuleName = (0, _array.first)(leftRecursiveRuleNames);
        if (firstLeftRecursiveRuleName === ruleName) {
            return true;
        }
    }, context);
    var indirectlyRepeatedRule = _indirectly.default.fromRuleNameLeftRecursiveRuleNameAndLeftRecursiveDefinitions(ruleName, leftRecursiveRuleName, leftRecursiveDefinitions), indirectlyRepeatedRuleName = indirectlyRepeatedRule.getName();
    ruleMap[indirectlyRepeatedRuleName] = indirectlyRepeatedRule;
    var definitions;
    definitions = leftRecursiveDefinitions; ///
    leftRecursiveRule.removeDefinitions(definitions);
    definitions = rule.getDefinitions();
    definitions = definitions.reduce(function(definitions, definition) {
        var _$leftRecursiveRuleName = ruleName, definitionDirectlyLeftRecursive = (0, _definition1.isDefinitionDirectlyLeftRecursive)(definition, _$leftRecursiveRuleName);
        if (!definitionDirectlyLeftRecursive) {
            definition = _definition.default.fromDefinitionAndIndirectlyRepeatedRuleName(definition, indirectlyRepeatedRuleName); ///
            definitions.push(definition);
        }
        return definitions;
    }, []);
    leftRecursiveRule.addDefinitions(definitions);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBFZGdlIGZyb20gXCIuL2VkZ2VcIjtcbmltcG9ydCBEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb25cIjtcbmltcG9ydCBJbmRpcmVjdGx5UmVwZWF0ZWRSdWxlIGZyb20gXCIuL3J1bGUvcmVwZWF0ZWQvaW5kaXJlY3RseVwiO1xuXG5pbXBvcnQgeyBmaXJzdCwgZmlyc3RMYXN0LCBzZWNvbmRMYXN0IH0gZnJvbSBcIi4vdXRpbGl0aWVzL2FycmF5XCI7XG5pbXBvcnQgeyBmaW5kTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2NvbnRleHRcIlxuaW1wb3J0IHsgaXNEZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzRnJvbURlZmluaXRpb24gfSBmcm9tIFwiLi91dGlsaXRpZXMvZGVmaW5pdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24oY29udGV4dCkge1xuICBsZXQgZ3JlYXRlc3ROb25Ucml2aWFsQ3ljbGUgPSBmaW5kR3JlYXRlc3ROb25Ucml2aWFsQ3ljbGUoY29udGV4dCk7XG5cbiAgd2hpbGUgKGdyZWF0ZXN0Tm9uVHJpdmlhbEN5Y2xlICE9PSBudWxsKSB7XG4gICAgY29uc3QgcnVsZU5hbWVzID0gZ3JlYXRlc3ROb25Ucml2aWFsQ3ljbGUsICAvLy9cbiAgICAgICAgICBmaXJzdExhc3RSdWxlTmFtZSA9IGZpcnN0TGFzdChydWxlTmFtZXMpLFxuICAgICAgICAgIHNlY29uZExhc3RSdWxlTmFtZSA9IHNlY29uZExhc3QocnVsZU5hbWVzKSxcbiAgICAgICAgICBydWxlTmFtZSA9IGZpcnN0TGFzdFJ1bGVOYW1lLCAvLy9cbiAgICAgICAgICBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBzZWNvbmRMYXN0UnVsZU5hbWU7IC8vL1xuXG4gICAgcmV3cml0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbihydWxlTmFtZSwgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lLCBjb250ZXh0KTtcblxuICAgIHJld3JpdGVEaXJlY3RlZEdyYXBoKHJ1bGVOYW1lLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUsIGNvbnRleHQpO1xuXG4gICAgZ3JlYXRlc3ROb25Ucml2aWFsQ3ljbGUgPSBmaW5kR3JlYXRlc3ROb25Ucml2aWFsQ3ljbGUoY29udGV4dCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV3cml0ZURpcmVjdGVkR3JhcGgocnVsZU5hbWUsIGxlZnRSZWN1cnNpdmVSdWxlTmFtZSwgY29udGV4dCkge1xuICBjb25zdCB7IGRpcmVjdGVkR3JhcGggfSA9IGNvbnRleHQ7XG5cbiAgbGV0IHNvdXJjZVZlcnRleCxcbiAgICAgIHRhcmdldFZlcnRleDtcblxuICBzb3VyY2VWZXJ0ZXggPSBsZWZ0UmVjdXJzaXZlUnVsZU5hbWU7IC8vL1xuXG4gIHRhcmdldFZlcnRleCA9IHJ1bGVOYW1lOyAgLy8vXG5cbiAgZGlyZWN0ZWRHcmFwaC5yZW1vdmVFZGdlQnlTb3VyY2VWZXJ0ZXhBbmRUYXJnZXRWZXJ0ZXgoc291cmNlVmVydGV4LCB0YXJnZXRWZXJ0ZXgpO1xuXG4gIHNvdXJjZVZlcnRleCA9IHJ1bGVOYW1lOyAgLy8vXG5cbiAgbGV0IGVkZ2VzID0gZGlyZWN0ZWRHcmFwaC5maW5kRWRnZXNCeVNvdXJjZVZlcnRleChzb3VyY2VWZXJ0ZXgpO1xuXG4gIGVkZ2VzID0gZWRnZXMucmVkdWNlKChlZGdlcywgZWRnZSkgPT4geyAvLy9cbiAgICBjb25zdCBlZGdlVHJpdmlhbGx5Q3ljbGljID0gZWRnZS5pc1RyaXZpYWxseUN5Y2xpYygpO1xuXG4gICAgaWYgKCFlZGdlVHJpdmlhbGx5Q3ljbGljKSB7XG4gICAgICBjb25zdCBzb3VyY2VWZXJ0ZXggPSBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUsIC8vL1xuICAgICAgICAgICAgdGFyZ2V0VmVydGV4ID0gZWRnZS5nZXRUYXJnZXRWZXJ0ZXgoKTtcblxuICAgICAgZWRnZSA9IEVkZ2UuZnJvbVNvdXJjZVZlcnRleEFuZFRhcmdldFZlcnRleChzb3VyY2VWZXJ0ZXgsIHRhcmdldFZlcnRleCk7XG5cbiAgICAgIGVkZ2VzLnB1c2goZWRnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVkZ2VzO1xuICB9LCBbXSk7XG5cbiAgZGlyZWN0ZWRHcmFwaC5hZGRFZGdlcyhlZGdlcyk7XG59XG5cbmZ1bmN0aW9uIGdyZWF0ZXN0Q3ljbGVGcm9tQ3ljbGVzKGN5Y2xlcykge1xuICBjb25zdCBncmVhdGVzdEN5Y2xlID0gY3ljbGVzLnJlZHVjZSgoZ3JlYXRlc3RDeWNsZSwgY3ljbGUpID0+IHtcbiAgICBpZiAoZ3JlYXRlc3RDeWNsZSA9PT0gbnVsbCkge1xuICAgICAgZ3JlYXRlc3RDeWNsZSA9IGN5Y2xlOyAgLy8vXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGN5Y2xlTGVuZ3RoID0gY3ljbGUubGVuZ3RoLFxuICAgICAgICAgICAgZ3JlYXRlc3RDeWNsZUxlbmd0aCA9IGdyZWF0ZXN0Q3ljbGUubGVuZ3RoO1xuXG4gICAgICBpZiAoY3ljbGVMZW5ndGggPiBncmVhdGVzdEN5Y2xlTGVuZ3RoKSB7XG4gICAgICAgIGdyZWF0ZXN0Q3ljbGUgPSBjeWNsZTsgIC8vL1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncmVhdGVzdEN5Y2xlO1xuICB9LCBudWxsKTtcblxuICByZXR1cm4gZ3JlYXRlc3RDeWNsZTtcbn1cblxuZnVuY3Rpb24gZmluZEdyZWF0ZXN0Tm9uVHJpdmlhbEN5Y2xlKGNvbnRleHQpIHtcbiAgY29uc3QgeyBkaXJlY3RlZEdyYXBoIH0gPSBjb250ZXh0O1xuXG4gIGxldCBub25Ucml2aWFsQ3ljbGVzID0gZGlyZWN0ZWRHcmFwaC5maW5kTm9uVHJpdmlhbEN5Y2xlcygpLFxuICAgICAgZ3JlYXRlc3ROb25Ucml2aWFsQ3ljbGUgPSBncmVhdGVzdEN5Y2xlRnJvbUN5Y2xlcyhub25Ucml2aWFsQ3ljbGVzKTtcblxuICByZXR1cm4gZ3JlYXRlc3ROb25Ucml2aWFsQ3ljbGU7XG59XG5cbmZ1bmN0aW9uIHJld3JpdGVJbmRpcmVjdExlZnRSZWN1cnNpb24ocnVsZU5hbWUsIGxlZnRSZWN1cnNpdmVSdWxlTmFtZSwgY29udGV4dCkge1xuICBjb25zdCB7IHJ1bGVNYXAgfSA9IGNvbnRleHQ7XG5cbiAgY29uc3QgcnVsZSA9IHJ1bGVNYXBbcnVsZU5hbWVdLFxuICAgICAgICBsZWZ0UmVjdXJzaXZlUnVsZSA9IHJ1bGVNYXBbbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lXSxcbiAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gZmluZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhsZWZ0UmVjdXJzaXZlUnVsZSwgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCAvLy9cbiAgICAgICAgICAgICAgICBsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzID0gbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lc0Zyb21EZWZpbml0aW9uKGRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIGZpcnN0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lID0gZmlyc3QobGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyk7XG5cbiAgICAgICAgICBpZiAoZmlyc3RMZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPT09IHJ1bGVOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGNvbnRleHQpO1xuXG4gIGNvbnN0IGluZGlyZWN0bHlSZXBlYXRlZFJ1bGUgPSBJbmRpcmVjdGx5UmVwZWF0ZWRSdWxlLmZyb21SdWxlTmFtZUxlZnRSZWN1cnNpdmVSdWxlTmFtZUFuZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlTmFtZSwgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpLFxuICAgICAgICBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSA9IGluZGlyZWN0bHlSZXBlYXRlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gIHJ1bGVNYXBbaW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWVdID0gaW5kaXJlY3RseVJlcGVhdGVkUnVsZTtcblxuICBsZXQgZGVmaW5pdGlvbnM7XG5cbiAgZGVmaW5pdGlvbnMgPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnM7IC8vL1xuXG4gIGxlZnRSZWN1cnNpdmVSdWxlLnJlbW92ZURlZmluaXRpb25zKGRlZmluaXRpb25zKTtcblxuICBkZWZpbml0aW9ucyA9IHJ1bGUuZ2V0RGVmaW5pdGlvbnMoKTtcblxuICBkZWZpbml0aW9ucyA9IGRlZmluaXRpb25zLnJlZHVjZSgoZGVmaW5pdGlvbnMsIGRlZmluaXRpb24pID0+IHsgLy8vXG4gICAgY29uc3QgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lID0gcnVsZU5hbWUsIC8vL1xuICAgICAgICAgIGRlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmUgPSBpc0RlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmUoZGVmaW5pdGlvbiwgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lKTtcblxuICAgIGlmICghZGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZSkge1xuICAgICAgZGVmaW5pdGlvbiA9IERlZmluaXRpb24uZnJvbURlZmluaXRpb25BbmRJbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZShkZWZpbml0aW9uLCBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSk7ICAvLy9cblxuICAgICAgZGVmaW5pdGlvbnMucHVzaChkZWZpbml0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmaW5pdGlvbnM7XG4gIH0sIFtdKTtcblxuICBsZWZ0UmVjdXJzaXZlUnVsZS5hZGREZWZpbml0aW9ucyhkZWZpbml0aW9ucyk7XG59XG5cbiJdLCJuYW1lcyI6WyJlbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24iLCJjb250ZXh0IiwiZ3JlYXRlc3ROb25Ucml2aWFsQ3ljbGUiLCJmaW5kR3JlYXRlc3ROb25Ucml2aWFsQ3ljbGUiLCJydWxlTmFtZXMiLCJmaXJzdExhc3RSdWxlTmFtZSIsImZpcnN0TGFzdCIsInNlY29uZExhc3RSdWxlTmFtZSIsInNlY29uZExhc3QiLCJydWxlTmFtZSIsImxlZnRSZWN1cnNpdmVSdWxlTmFtZSIsInJld3JpdGVJbmRpcmVjdExlZnRSZWN1cnNpb24iLCJyZXdyaXRlRGlyZWN0ZWRHcmFwaCIsImRpcmVjdGVkR3JhcGgiLCJzb3VyY2VWZXJ0ZXgiLCJ0YXJnZXRWZXJ0ZXgiLCJyZW1vdmVFZGdlQnlTb3VyY2VWZXJ0ZXhBbmRUYXJnZXRWZXJ0ZXgiLCJlZGdlcyIsImZpbmRFZGdlc0J5U291cmNlVmVydGV4IiwicmVkdWNlIiwiZWRnZSIsImVkZ2VUcml2aWFsbHlDeWNsaWMiLCJpc1RyaXZpYWxseUN5Y2xpYyIsImdldFRhcmdldFZlcnRleCIsIkVkZ2UiLCJmcm9tU291cmNlVmVydGV4QW5kVGFyZ2V0VmVydGV4IiwicHVzaCIsImFkZEVkZ2VzIiwiZ3JlYXRlc3RDeWNsZUZyb21DeWNsZXMiLCJjeWNsZXMiLCJncmVhdGVzdEN5Y2xlIiwiY3ljbGUiLCJjeWNsZUxlbmd0aCIsImxlbmd0aCIsImdyZWF0ZXN0Q3ljbGVMZW5ndGgiLCJub25Ucml2aWFsQ3ljbGVzIiwiZmluZE5vblRyaXZpYWxDeWNsZXMiLCJydWxlTWFwIiwicnVsZSIsImxlZnRSZWN1cnNpdmVSdWxlIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiZmluZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZGVmaW5pdGlvbiIsImxlZnRSZWN1cnNpdmVSdWxlTmFtZXMiLCJsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzRnJvbURlZmluaXRpb24iLCJmaXJzdExlZnRSZWN1cnNpdmVSdWxlTmFtZSIsImZpcnN0IiwiaW5kaXJlY3RseVJlcGVhdGVkUnVsZSIsIkluZGlyZWN0bHlSZXBlYXRlZFJ1bGUiLCJmcm9tUnVsZU5hbWVMZWZ0UmVjdXJzaXZlUnVsZU5hbWVBbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSIsImdldE5hbWUiLCJkZWZpbml0aW9ucyIsInJlbW92ZURlZmluaXRpb25zIiwiZ2V0RGVmaW5pdGlvbnMiLCJkZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlIiwiaXNEZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlIiwiRGVmaW5pdGlvbiIsImZyb21EZWZpbml0aW9uQW5kSW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUiLCJhZGREZWZpbml0aW9ucyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBVUE7OztlQUF3QkE7Ozt5REFSUDsrREFDTTsrREFDWTtxQkFFVTt1QkFDQTsyQkFDMkM7Ozs7OztBQUV6RSxTQUFTQSwrQkFBK0JDLE9BQU8sRUFBRTtJQUM5RCxJQUFJQywwQkFBMEJDLDRCQUE0QkY7SUFFMUQsTUFBT0MsNEJBQTRCLElBQUksQ0FBRTtRQUN2QyxJQUFNRSxZQUFZRix5QkFDWkcsb0JBQW9CQyxJQUFBQSxnQkFBUyxFQUFDRixZQUM5QkcscUJBQXFCQyxJQUFBQSxpQkFBVSxFQUFDSixZQUNoQ0ssV0FBV0osbUJBQ1hLLHdCQUF3Qkgsb0JBQW9CLEdBQUc7UUFFckRJLDZCQUE2QkYsVUFBVUMsdUJBQXVCVDtRQUU5RFcscUJBQXFCSCxVQUFVQyx1QkFBdUJUO1FBRXREQywwQkFBMEJDLDRCQUE0QkY7SUFDeEQ7QUFDRjtBQUVBLFNBQVNXLHFCQUFxQkgsUUFBUSxFQUFFQyxxQkFBcUIsRUFBRVQsT0FBTyxFQUFFO0lBQ3RFLElBQU0sQUFBRVksZ0JBQWtCWixRQUFsQlk7SUFFUixJQUFJQyxjQUNBQztJQUVKRCxlQUFlSix1QkFBdUIsR0FBRztJQUV6Q0ssZUFBZU4sVUFB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