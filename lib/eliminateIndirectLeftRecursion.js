"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return eliminateIndirectLeftRecursion;
    }
});
var _necessary = require("necessary");
var _reduced = /*#__PURE__*/ _interopRequireDefault(require("./rule/reduced"));
var _repeated = /*#__PURE__*/ _interopRequireDefault(require("./rule/repeated"));
var _left = /*#__PURE__*/ _interopRequireDefault(require("./definition/recursive/left"));
var _directly = /*#__PURE__*/ _interopRequireDefault(require("./definition/recursive/left/directly"));
var _indirectly = /*#__PURE__*/ _interopRequireDefault(require("./definition/recursive/left/indirectly"));
var _definitions = require("./utilities/definitions");
var _ruleName = require("./utilities/ruleName");
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _instanceof(left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
        return !!right[Symbol.hasInstance](left);
    } else {
        return left instanceof right;
    }
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
var push = _necessary.arrayUtilities.push, first = _necessary.arrayUtilities.first, filter = _necessary.arrayUtilities.filter;
function eliminateIndirectLeftRecursion(leftRecursiveDefinitions, ruleMap) {
    var greatestIndirectlyLeftRecursiveDefinition = retrieveGreatestIndirectlyLeftRecursiveDefinition(leftRecursiveDefinitions);
    while(greatestIndirectlyLeftRecursiveDefinition !== null){
        var indirectlyLeftRecursiveDefinition = greatestIndirectlyLeftRecursiveDefinition; ///
        var directlyLeftRecursiveDefinition = retrieveDirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, ruleMap);
        directlyLeftRecursiveDefinition === null ? rewriteIndirectLeftRecursion(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) : rewriteDirectLeftRecursion(indirectlyLeftRecursiveDefinition, directlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap);
        greatestIndirectlyLeftRecursiveDefinition = retrieveGreatestIndirectlyLeftRecursiveDefinition(leftRecursiveDefinitions);
    }
}
function rewriteDirectLeftRecursion(indirectlyLeftRecursiveDefinition, directlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) {
    var _rule;
    var repeatedRuleName = null, reducedRuleName = null, ruleName = indirectlyLeftRecursiveDefinition.getRuleName(), rule = ruleMap[ruleName];
    var repeatedRule = _repeated.default.fromDirectlyLeftRecursiveDefinition(directlyLeftRecursiveDefinition);
    if (repeatedRule !== null) {
        repeatedRuleName = repeatedRule.getName();
        ruleMap[repeatedRuleName] = repeatedRule;
    }
    var reducedRule = _reduced.default.fromRule(rule);
    if (reducedRule !== null) {
        reducedRuleName = reducedRule.getName();
        ruleMap[reducedRuleName] = reducedRule;
    }
    var definitions = rule.getDefinitions(), leftRecursiveDefinition = _left.default.fromReducedRule(reducedRule), indirectlyLeftRecursiveDefinitions = retrieveIndirectlyLeftRecursiveDefinitions(definitions);
    var directlyLeftRecursiveDefinitions = retrieveDirectlyLeftRecursiveDefinitions(definitions), removedLeftRecursiveDefinitions = _toConsumableArray(directlyLeftRecursiveDefinitions).concat(_toConsumableArray(indirectlyLeftRecursiveDefinitions));
    directlyLeftRecursiveDefinition = mergeDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions); ///
    leftRecursiveDefinition = _left.default.fromLeftRecursiveDefinitionAndDirectlyLeftRecursiveDefinition(leftRecursiveDefinition, directlyLeftRecursiveDefinition); ///
    indirectlyLeftRecursiveDefinitions = indirectlyLeftRecursiveDefinitions.map(function(indirectlyLeftRecursiveDefinition) {
        indirectlyLeftRecursiveDefinition = _indirectly.default.fromIndirectlyLeftRecursiveDefinitionAndDirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, directlyLeftRecursiveDefinition); ///
        return indirectlyLeftRecursiveDefinition;
    });
    var replacementDefinitions = _toConsumableArray(indirectlyLeftRecursiveDefinitions).concat([
        leftRecursiveDefinition
    ]), addedLeftRecursiveDefinitions = indirectlyLeftRecursiveDefinitions; ///
    (_rule = rule).replaceAllDefinitions.apply(_rule, _toConsumableArray(replacementDefinitions));
    amendLeftRecursiveDefinitions.apply(void 0, [
        leftRecursiveDefinitions,
        removedLeftRecursiveDefinitions
    ].concat(_toConsumableArray(addedLeftRecursiveDefinitions)));
}
function rewriteIndirectLeftRecursion(indirectlyLeftRecursiveDefinition, leftRecursiveDefinitions, ruleMap) {
    var _rule;
    var leftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinition(), leftRecursiveRuleName = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleName(), least = indirectlyLeftRecursiveDefinition.isLeast();
    var ruleName = indirectlyLeftRecursiveDefinition.getRuleName();
    var repeatedRuleName = (0, _ruleName.repeatedRuleNameFromRuleName)(ruleName), reducedRuleName = (0, _ruleName.reducedRuleNameFromRuleName)(ruleName);
    var repeatedRule = ruleMap[repeatedRuleName] || null, reducedRule = ruleMap[reducedRuleName] || null, rule = ruleMap[ruleName];
    if (repeatedRule === null) {
        repeatedRule = _repeated.default.fromIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition);
        ruleMap[repeatedRuleName] = repeatedRule;
    }
    if (reducedRule === null) {
        reducedRule = _reduced.default.fromRule(rule);
        ruleMap[reducedRuleName] = reducedRule;
    }
    var definitions = rule.getDefinitions(), indirectlyLeftRecursiveDefinitions = retrieveIndirectlyLeftRecursiveDefinitions(definitions, leftRecursiveRuleName);
    indirectlyLeftRecursiveDefinition = mergeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions); ///
    var replacedDefinition = leftRecursiveDefinition, replacementDefinitions = [], LeftRecursiveDefinition = least ? _directly.default : _indirectly.default, replacementDefinition = LeftRecursiveDefinition.fromIndirectlyLeftRecursiveDefinitionLeftRecursiveDefinitionAndRepeatedRuleName(indirectlyLeftRecursiveDefinition, leftRecursiveDefinition, repeatedRuleName), addedLeftRecursiveDefinition = replacementDefinition, removedLeftRecursiveDefinitions = indirectlyLeftRecursiveDefinitions; ///
    replacementDefinitions.push(replacementDefinition);
    if (reducedRuleName !== null) {
        var replacementDefinition1 = LeftRecursiveDefinition.fromLeftRecursiveDefinitionRepeatedRuleNameAndReducedRuleName(leftRecursiveDefinition, repeatedRuleName, reducedRuleName); ///
        replacementDefinitions.push(replacementDefinition1);
    }
    ruleName = leftRecursiveDefinition.getRuleName();
    rule = ruleMap[ruleName];
    (_rule = rule).replaceDefinition.apply(_rule, [
        replacedDefinition
    ].concat(_toConsumableArray(replacementDefinitions)));
    amendLeftRecursiveDefinitions(leftRecursiveDefinitions, removedLeftRecursiveDefinitions, addedLeftRecursiveDefinition);
}
function amendLeftRecursiveDefinitions(leftRecursiveDefinitions, removedLeftRecursiveDefinitions) {
    for(var _len = arguments.length, addedLeftRecursiveDefinitions = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++){
        addedLeftRecursiveDefinitions[_key - 2] = arguments[_key];
    }
    filter(leftRecursiveDefinitions, function(leftRecursiveDefinition) {
        var removedLeftRecursiveDefinitionsIncludesLeftRecursiveDefinition = removedLeftRecursiveDefinitions.includes(leftRecursiveDefinition);
        if (!removedLeftRecursiveDefinitionsIncludesLeftRecursiveDefinition) {
            return true;
        }
    });
    push(leftRecursiveDefinitions, addedLeftRecursiveDefinitions);
}
function mergeDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions) {
    var directlyLeftRecursiveDefinition = (0, _definitions.mergeLeftRecursiveDefinitions)(directlyLeftRecursiveDefinitions, function(parts, ruleName) {
        var directlyLeftRecursiveDefinition = _directly.default.fromPartsAndRuleName(parts, ruleName);
        return directlyLeftRecursiveDefinition;
    });
    return directlyLeftRecursiveDefinition;
}
function mergeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions) {
    var indirectlyLeftRecursiveDefinition = (0, _definitions.mergeLeftRecursiveDefinitions)(indirectlyLeftRecursiveDefinitions, function(parts, ruleName) {
        var indirectlyLeftRecursiveDefinition;
        var firstIndirectlyLeftRecursiveDefinition = first(indirectlyLeftRecursiveDefinitions);
        indirectlyLeftRecursiveDefinition = firstIndirectlyLeftRecursiveDefinition; ///
        var leftRecursiveDefinitions = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinitions();
        indirectlyLeftRecursiveDefinition = _indirectly.default.fromPartsRuleNameAndLeftRecursiveDefinitions(parts, ruleName, leftRecursiveDefinitions);
        return indirectlyLeftRecursiveDefinition;
    });
    return indirectlyLeftRecursiveDefinition;
}
function retrieveDirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, ruleMap) {
    var directlyLeftRecursiveDefinition = null;
    var ruleName = indirectlyLeftRecursiveDefinition.getRuleName(), rule = ruleMap[ruleName], definitions = rule.getDefinitions();
    definitions.some(function(definition) {
        var definitionDirectlyLeftRecursiveDefinition = _instanceof(definition, _directly.default);
        if (definitionDirectlyLeftRecursiveDefinition) {
            directlyLeftRecursiveDefinition = definition; ///
            return true;
        }
    });
    return directlyLeftRecursiveDefinition;
}
function retrieveDirectlyLeftRecursiveDefinitions(definitions) {
    var directlyLeftRecursiveDefinitions = definitions.filter(function(definition) {
        var definitionDirectlyLeftRecursiveDefinition = _instanceof(definition, _directly.default);
        if (definitionDirectlyLeftRecursiveDefinition) {
            return true;
        }
    });
    return directlyLeftRecursiveDefinitions;
}
function retrieveIndirectlyLeftRecursiveDefinitions(definitions) {
    var leftRecursiveRuleName = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
    var indirectlyLeftRecursiveDefinitions = definitions.filter(function(definition) {
        var definitionIndirectlyLeftRecursiveDefinition = _instanceof(definition, _indirectly.default);
        if (definitionIndirectlyLeftRecursiveDefinition) {
            if (leftRecursiveRuleName === null) {
                return true;
            }
            var indirectlyLeftRecursiveDefinition = definition, leftRecursiveRuleNames = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleNames(), firstLeftRecursiveRuleName = first(leftRecursiveRuleNames), ruleName = firstLeftRecursiveRuleName; ///
            if (ruleName === leftRecursiveRuleName) {
                return true;
            }
        }
    });
    return indirectlyLeftRecursiveDefinitions;
}
function retrieveGreatestIndirectlyLeftRecursiveDefinition(leftRecursiveDefinitions) {
    var greatestIndirectlyLeftRecursiveDefinition = null;
    var definitions = leftRecursiveDefinitions, indirectlyLeftRecursiveDefinitions = retrieveIndirectlyLeftRecursiveDefinitions(definitions);
    indirectlyLeftRecursiveDefinitions.forEach(function(indirectlyLeftRecursiveDefinition) {
        if (greatestIndirectlyLeftRecursiveDefinition === null) {
            greatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition; ///
        } else {
            var indirectlyLeftRecursiveDefinitionGreaterThanGreatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition.isGreaterThan(greatestIndirectlyLeftRecursiveDefinition);
            if (indirectlyLeftRecursiveDefinitionGreaterThanGreatestIndirectlyLeftRecursiveDefinition) {
                greatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition; ///
            }
        }
    });
    return greatestIndirectlyLeftRecursiveDefinition;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgUmVkdWNlZFJ1bGUgZnJvbSBcIi4vcnVsZS9yZWR1Y2VkXCI7XG5pbXBvcnQgUmVwZWF0ZWRSdWxlIGZyb20gXCIuL3J1bGUvcmVwZWF0ZWRcIjtcbmltcG9ydCBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZS9sZWZ0XCI7XG5pbXBvcnQgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZS9sZWZ0L2RpcmVjdGx5XCI7XG5pbXBvcnQgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnQvaW5kaXJlY3RseVwiO1xuXG5pbXBvcnQgeyBtZXJnZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyB9IGZyb20gXCIuL3V0aWxpdGllcy9kZWZpbml0aW9uc1wiO1xuaW1wb3J0IHsgcmVkdWNlZFJ1bGVOYW1lRnJvbVJ1bGVOYW1lLCByZXBlYXRlZFJ1bGVOYW1lRnJvbVJ1bGVOYW1lIH0gZnJvbSBcIi4vdXRpbGl0aWVzL3J1bGVOYW1lXCI7XG5cbmNvbnN0IHsgcHVzaCwgZmlyc3QsIGZpbHRlciB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgbGV0IGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gcmV0cmlldmVHcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpO1xuXG4gIHdoaWxlIChncmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiAhPT0gbnVsbCkge1xuICAgIGxldCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBncmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjsgLy8vXG5cbiAgICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gcmV0cmlldmVEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcnVsZU1hcCk7XG5cbiAgICAoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9PT0gbnVsbCkgP1xuICAgICAgcmV3cml0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkgOlxuICAgICAgICByZXdyaXRlRGlyZWN0TGVmdFJlY3Vyc2lvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgICBncmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IHJldHJpZXZlR3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXdyaXRlRGlyZWN0TGVmdFJlY3Vyc2lvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkge1xuICBsZXQgcmVwZWF0ZWRSdWxlTmFtZSA9IG51bGwsXG4gICAgICByZWR1Y2VkUnVsZU5hbWUgPSBudWxsLFxuICAgICAgcnVsZU5hbWUgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZU5hbWUoKSxcbiAgICAgIHJ1bGUgPSBydWxlTWFwW3J1bGVOYW1lXTtcblxuICBjb25zdCByZXBlYXRlZFJ1bGUgPSBSZXBlYXRlZFJ1bGUuZnJvbURpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgaWYgKHJlcGVhdGVkUnVsZSAhPT0gbnVsbCkge1xuICAgIHJlcGVhdGVkUnVsZU5hbWUgPSByZXBlYXRlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gICAgcnVsZU1hcFtyZXBlYXRlZFJ1bGVOYW1lXSA9IHJlcGVhdGVkUnVsZTtcbiAgfVxuXG4gIGNvbnN0IHJlZHVjZWRSdWxlID0gUmVkdWNlZFJ1bGUuZnJvbVJ1bGUocnVsZSk7XG5cbiAgaWYgKHJlZHVjZWRSdWxlICE9PSBudWxsKSB7XG4gICAgcmVkdWNlZFJ1bGVOYW1lID0gcmVkdWNlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gICAgcnVsZU1hcFtyZWR1Y2VkUnVsZU5hbWVdID0gcmVkdWNlZFJ1bGU7XG4gIH1cblxuICBsZXQgZGVmaW5pdGlvbnMgPSBydWxlLmdldERlZmluaXRpb25zKCksXG4gICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SZWR1Y2VkUnVsZShyZWR1Y2VkUnVsZSksXG4gICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRlZmluaXRpb25zKTtcblxuICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IHJldHJpZXZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoZGVmaW5pdGlvbnMpLFxuICAgICAgICByZW1vdmVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gW1xuICAgICAgICAgIC4uLmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLFxuICAgICAgICAgIC4uLmluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNcbiAgICAgICAgXTtcblxuICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbWVyZ2VEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7ICAvLy9cblxuICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21MZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pOyAgLy8vXG5cbiAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMubWFwKChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTsgIC8vL1xuXG4gICAgcmV0dXJuIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbiAgfSk7XG5cbiAgY29uc3QgcmVwbGFjZW1lbnREZWZpbml0aW9ucyA9IFtcbiAgICAgICAgICAuLi5pbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLFxuICAgICAgICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uXG4gICAgICAgIF0sXG4gICAgICAgIGFkZGVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uczsgLy8vXG5cbiAgcnVsZS5yZXBsYWNlQWxsRGVmaW5pdGlvbnMoLi4ucmVwbGFjZW1lbnREZWZpbml0aW9ucyk7XG5cbiAgYW1lbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCByZW1vdmVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAuLi5hZGRlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJld3JpdGVJbmRpcmVjdExlZnRSZWN1cnNpb24oaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oKSxcbiAgICAgICAgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldExlZnRSZWN1cnNpdmVSdWxlTmFtZSgpLFxuICAgICAgICBsZWFzdCA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5pc0xlYXN0KCk7XG5cbiAgbGV0IHJ1bGVOYW1lID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCk7XG5cbiAgY29uc3QgcmVwZWF0ZWRSdWxlTmFtZSA9IHJlcGVhdGVkUnVsZU5hbWVGcm9tUnVsZU5hbWUocnVsZU5hbWUpLFxuICAgICAgICByZWR1Y2VkUnVsZU5hbWUgPSByZWR1Y2VkUnVsZU5hbWVGcm9tUnVsZU5hbWUocnVsZU5hbWUpO1xuXG4gIGxldCByZXBlYXRlZFJ1bGUgPSBydWxlTWFwW3JlcGVhdGVkUnVsZU5hbWVdIHx8IG51bGwsXG4gICAgICByZWR1Y2VkUnVsZSA9IHJ1bGVNYXBbcmVkdWNlZFJ1bGVOYW1lXSB8fCBudWxsLFxuICAgICAgcnVsZSA9IHJ1bGVNYXBbcnVsZU5hbWVdO1xuXG4gIGlmIChyZXBlYXRlZFJ1bGUgPT09IG51bGwpIHtcbiAgICByZXBlYXRlZFJ1bGUgPSBSZXBlYXRlZFJ1bGUuZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gICAgcnVsZU1hcFtyZXBlYXRlZFJ1bGVOYW1lXSA9IHJlcGVhdGVkUnVsZTtcbiAgfVxuXG4gIGlmIChyZWR1Y2VkUnVsZSA9PT0gbnVsbCkge1xuICAgIHJlZHVjZWRSdWxlID0gUmVkdWNlZFJ1bGUuZnJvbVJ1bGUocnVsZSk7XG5cbiAgICBydWxlTWFwW3JlZHVjZWRSdWxlTmFtZV0gPSByZWR1Y2VkUnVsZTtcbiAgfVxuXG4gIGNvbnN0IGRlZmluaXRpb25zID0gcnVsZS5nZXREZWZpbml0aW9ucygpLFxuICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUpO1xuXG4gIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG1lcmdlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTsgIC8vL1xuXG4gIGNvbnN0IHJlcGxhY2VkRGVmaW5pdGlvbiA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCAvLy9cbiAgICAgICAgcmVwbGFjZW1lbnREZWZpbml0aW9ucyA9IFtdLFxuICAgICAgICBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGxlYXN0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sXG4gICAgICAgIHJlcGxhY2VtZW50RGVmaW5pdGlvbiA9IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25MZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZFJlcGVhdGVkUnVsZU5hbWUoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVwZWF0ZWRSdWxlTmFtZSksICAvLy9cbiAgICAgICAgYWRkZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IHJlcGxhY2VtZW50RGVmaW5pdGlvbiwgLy8vXG4gICAgICAgIHJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zOyAvLy9cblxuICByZXBsYWNlbWVudERlZmluaXRpb25zLnB1c2gocmVwbGFjZW1lbnREZWZpbml0aW9uKTtcblxuICBpZiAocmVkdWNlZFJ1bGVOYW1lICE9PSBudWxsKSB7XG4gICAgY29uc3QgcmVwbGFjZW1lbnREZWZpbml0aW9uID0gTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uUmVwZWF0ZWRSdWxlTmFtZUFuZFJlZHVjZWRSdWxlTmFtZShsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVwZWF0ZWRSdWxlTmFtZSwgcmVkdWNlZFJ1bGVOYW1lKTsgIC8vL1xuXG4gICAgcmVwbGFjZW1lbnREZWZpbml0aW9ucy5wdXNoKHJlcGxhY2VtZW50RGVmaW5pdGlvbik7XG4gIH1cblxuICBydWxlTmFtZSA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCk7XG5cbiAgcnVsZSA9IHJ1bGVNYXBbcnVsZU5hbWVdO1xuXG4gIHJ1bGUucmVwbGFjZURlZmluaXRpb24ocmVwbGFjZWREZWZpbml0aW9uLCAuLi5yZXBsYWNlbWVudERlZmluaXRpb25zKTtcblxuICBhbWVuZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIGFkZGVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xufVxuXG5mdW5jdGlvbiBhbWVuZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIC4uLmFkZGVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSB7XG4gIGZpbHRlcihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikgPT4ge1xuICAgIGNvbnN0IHJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNJbmNsdWRlc0xlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gcmVtb3ZlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5pbmNsdWRlcyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICBpZiAoIXJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNJbmNsdWRlc0xlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHB1c2gobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBhZGRlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpIHtcbiAgY29uc3QgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG1lcmdlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAocGFydHMsIHJ1bGVOYW1lKSA9PiB7XG4gICAgY29uc3QgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbVBhcnRzQW5kUnVsZU5hbWUocGFydHMsIHJ1bGVOYW1lKTtcblxuICAgIHJldHVybiBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xuICB9KTtcblxuICByZXR1cm4gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpIHtcbiAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbWVyZ2VMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgKHBhcnRzLCBydWxlTmFtZSkgPT4ge1xuICAgIGxldCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247XG5cbiAgICBjb25zdCBmaXJzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGZpcnN0KGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpO1xuXG4gICAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZmlyc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247IC8vL1xuXG4gICAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucygpO1xuXG4gICAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21QYXJ0c1J1bGVOYW1lQW5kTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKHBhcnRzLCBydWxlTmFtZSwgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICAgIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247XG4gIH0pO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJ1bGVNYXApIHtcbiAgbGV0IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBudWxsO1xuXG4gIGNvbnN0IHJ1bGVOYW1lID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCksXG4gICAgICAgIHJ1bGUgPSBydWxlTWFwW3J1bGVOYW1lXSxcbiAgICAgICAgZGVmaW5pdGlvbnMgPSBydWxlLmdldERlZmluaXRpb25zKCk7XG5cbiAgZGVmaW5pdGlvbnMuc29tZSgoZGVmaW5pdGlvbikgPT4ge1xuICAgIGNvbnN0IGRlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gKGRlZmluaXRpb24gaW5zdGFuY2VvZiBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgIGlmIChkZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGRlZmluaXRpb247IC8vL1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRlZmluaXRpb25zKSB7XG4gIGNvbnN0IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gZGVmaW5pdGlvbnMuZmlsdGVyKChkZWZpbml0aW9uKSA9PiB7XG4gICAgY29uc3QgZGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSAoZGVmaW5pdGlvbiBpbnN0YW5jZW9mIERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gICAgaWYgKGRlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucztcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBudWxsKSB7XG4gIGNvbnN0IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBkZWZpbml0aW9ucy5maWx0ZXIoKGRlZmluaXRpb24pID0+IHtcbiAgICBjb25zdCBkZWZpbml0aW9uSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gKGRlZmluaXRpb24gaW5zdGFuY2VvZiBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gICAgaWYgKGRlZmluaXRpb25JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgICAgIGlmIChsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGRlZmluaXRpb24sICAvLy9cbiAgICAgICAgICAgIGxlZnRSZWN1cnNpdmVSdWxlTmFtZXMgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcygpLFxuICAgICAgICAgICAgZmlyc3RMZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBmaXJzdChsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzKSxcbiAgICAgICAgICAgIHJ1bGVOYW1lID0gZmlyc3RMZWZ0UmVjdXJzaXZlUnVsZU5hbWU7IC8vL1xuXG4gICAgICBpZiAocnVsZU5hbWUgPT09IGxlZnRSZWN1cnNpdmVSdWxlTmFtZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZUdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucykge1xuICBsZXQgZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBudWxsO1xuXG4gIGNvbnN0IGRlZmluaXRpb25zID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAvLy9cbiAgICAgICAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IHJldHJpZXZlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhkZWZpbml0aW9ucyk7XG5cbiAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5mb3JFYWNoKChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBpZiAoZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPT09IG51bGwpIHtcbiAgICAgIGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uOyAvLy9cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uR3JlYXRlclRoYW5HcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5pc0dyZWF0ZXJUaGFuKGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgICAgaWYgKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkdyZWF0ZXJUaGFuR3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgICAgICAgZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247IC8vL1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xufVxuIl0sIm5hbWVzIjpbImVsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbiIsInB1c2giLCJhcnJheVV0aWxpdGllcyIsImZpcnN0IiwiZmlsdGVyIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicnVsZU1hcCIsImdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwicmV0cmlldmVHcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXRyaWV2ZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXdyaXRlSW5kaXJlY3RMZWZ0UmVjdXJzaW9uIiwicmV3cml0ZURpcmVjdExlZnRSZWN1cnNpb24iLCJydWxlIiwicmVwZWF0ZWRSdWxlTmFtZSIsInJlZHVjZWRSdWxlTmFtZSIsInJ1bGVOYW1lIiwiZ2V0UnVsZU5hbWUiLCJyZXBlYXRlZFJ1bGUiLCJSZXBlYXRlZFJ1bGUiLCJmcm9tRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImdldE5hbWUiLCJyZWR1Y2VkUnVsZSIsIlJlZHVjZWRSdWxlIiwiZnJvbVJ1bGUiLCJkZWZpbml0aW9ucyIsImdldERlZmluaXRpb25zIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImZyb21SZWR1Y2VkUnVsZSIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZXRyaWV2ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJldHJpZXZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZW1vdmVkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwibWVyZ2VEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImZyb21MZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJtYXAiLCJJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJlcGxhY2VtZW50RGVmaW5pdGlvbnMiLCJhZGRlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJlcGxhY2VBbGxEZWZpbml0aW9ucyIsImFtZW5kTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiZ2V0TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJsZWZ0UmVjdXJzaXZlUnVsZU5hbWUiLCJnZXRMZWZ0UmVjdXJzaXZlUnVsZU5hbWUiLCJsZWFzdCIsImlzTGVhc3QiLCJyZXBlYXRlZFJ1bGVOYW1lRnJvbVJ1bGVOYW1lIiwicmVkdWNlZFJ1bGVOYW1lRnJvbVJ1bGVOYW1lIiwiZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsIm1lcmdlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJlcGxhY2VkRGVmaW5pdGlvbiIsIkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXBsYWNlbWVudERlZmluaXRpb24iLCJmcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRSZXBlYXRlZFJ1bGVOYW1lIiwiYWRkZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImZyb21MZWZ0UmVjdXJzaXZlRGVmaW5pdGlvblJlcGVhdGVkUnVsZU5hbWVBbmRSZWR1Y2VkUnVsZU5hbWUiLCJyZXBsYWNlRGVmaW5pdGlvbiIsInJlbW92ZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNJbmNsdWRlc0xlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiaW5jbHVkZXMiLCJtZXJnZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInBhcnRzIiwiZnJvbVBhcnRzQW5kUnVsZU5hbWUiLCJmaXJzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImdldExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImZyb21QYXJ0c1J1bGVOYW1lQW5kTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwic29tZSIsImRlZmluaXRpb24iLCJkZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImRlZmluaXRpb25JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzIiwiZ2V0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyIsImZpcnN0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lIiwiZm9yRWFjaCIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkdyZWF0ZXJUaGFuR3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpc0dyZWF0ZXJUaGFuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7Ozs7Ozs7ZUFlV0EsOEJBQThCOzs7eUJBYnZCLFdBQVc7NERBRWxCLGdCQUFnQjs2REFDZixpQkFBaUI7eURBQ04sNkJBQTZCOzZEQUNyQixzQ0FBc0M7K0RBQ3BDLHdDQUF3QzsyQkFFeEMseUJBQXlCO3dCQUNHLHNCQUFzQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFaEcsSUFBUUMsSUFBSSxHQUFvQkMsVUFBYyxlQUFBLENBQXRDRCxJQUFJLEVBQUVFLEtBQUssR0FBYUQsVUFBYyxlQUFBLENBQWhDQyxLQUFLLEVBQUVDLE1BQU0sR0FBS0YsVUFBYyxlQUFBLENBQXpCRSxNQUFNLEFBQW9CO0FBRWhDLFNBQVNKLDhCQUE4QixDQUFDSyx3QkFBd0IsRUFBRUMsT0FBTyxFQUFFO0lBQ3hGLElBQUlDLHlDQUF5QyxHQUFHQyxpREFBaUQsQ0FBQ0gsd0JBQXdCLENBQUMsQUFBQztJQUU1SCxNQUFPRSx5Q0FBeUMsS0FBSyxJQUFJLENBQUU7UUFDekQsSUFBSUUsaUNBQWlDLEdBQUdGLHlDQUF5QyxBQUFDLEVBQUMsR0FBRztRQUV0RixJQUFNRywrQkFBK0IsR0FBR0MsdUNBQXVDLENBQUNGLGlDQUFpQyxFQUFFSCxPQUFPLENBQUMsQUFBQztRQUUzSEksK0JBQStCLEtBQUssSUFBSSxHQUN2Q0UsNEJBQTRCLENBQUNILGlDQUFpQyxFQUFFSix3QkFBd0IsRUFBRUMsT0FBTyxDQUFDLEdBQ2hHTywwQkFBMEIsQ0FBQ0osaUNBQWlDLEVBQUVDLCtCQUErQixFQUFFTCx3QkFBd0IsRUFBRUMsT0FBTyxDQUFDLENBQUM7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