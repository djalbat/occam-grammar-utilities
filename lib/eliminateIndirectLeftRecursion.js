"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    get: function() {
        return eliminateIndirectLeftRecursion;
    },
    enumerable: true
});
var _necessary = require("necessary");
var _reduced = _interopRequireDefault(require("./rule/reduced"));
var _repeated = _interopRequireDefault(require("./rule/repeated"));
var _left = _interopRequireDefault(require("./definition/recursive/left"));
var _directly = _interopRequireDefault(require("./definition/recursive/left/directly"));
var _indirectly = _interopRequireDefault(require("./definition/recursive/left/indirectly"));
var _rules = require("./utilities/rules");
var _ruleNames = require("./utilities/ruleNames");
var _definitions = require("./utilities/definitions");
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
var first = _necessary.arrayUtilities.first, last = _necessary.arrayUtilities.last;
function eliminateIndirectLeftRecursion(leftRecursiveDefinitions, ruleMap) {
    var indirectlyLeftRecursiveRules, indirectlyLeftRecursiveRulesLength;
    indirectlyLeftRecursiveRules = retrieveIndirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap);
    indirectlyLeftRecursiveRulesLength = indirectlyLeftRecursiveRules.length;
    while(indirectlyLeftRecursiveRulesLength > 0){
        indirectlyLeftRecursiveRules.forEach(function(indirectlyLeftRecursiveRule) {
            rewriteIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule, ruleMap);
        });
        indirectlyLeftRecursiveRules = retrieveIndirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap);
        indirectlyLeftRecursiveRulesLength = indirectlyLeftRecursiveRules.length;
    }
}
function rewriteIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule, ruleMap) {
    var reducedLeftRecursiveDefinition = reduceIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule, ruleMap), leftRecursiveRuleNames = (0, _ruleNames.retrieveLeftRecursiveRuleNames)(indirectlyLeftRecursiveRule, _indirectly.default, function(indirectlyLeftRecursiveDefinition) {
        var leftRecursiveRuleNames = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleNames(), firstLeftRecursiveRuleName = first(leftRecursiveRuleNames), leftRecursiveRuleName = firstLeftRecursiveRuleName; ///
        return leftRecursiveRuleName;
    });
    leftRecursiveRuleNames.forEach(function(leftRecursiveRuleName, index) {
        var _implicitlyLeftRecursiveRule;
        var indirectlyLeftRecursiveDefinitions = retrieveIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveRule, leftRecursiveRuleName), indirectlyLeftRecursiveDefinition = mergeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions);
        var repeatedRuleName = null;
        var repeatedRule = _repeated.default.fromIndirectlyLeftRecursiveDefinitionAndIndex(indirectlyLeftRecursiveDefinition, index);
        if (repeatedRule !== null) {
            repeatedRuleName = repeatedRule.getName();
            ruleMap[repeatedRuleName] = repeatedRule;
        }
        var leftRecursiveDefinition;
        var rewrittenIndirectlyLeftRecursiveDefinition = rewriteIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, repeatedRuleName), leftRecursiveDefinitions = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinitions(), lastLeftRecursiveDefinition = last(leftRecursiveDefinitions);
        leftRecursiveDefinition = lastLeftRecursiveDefinition; ///
        var replacedDefinition = leftRecursiveDefinition, replacementDefinitions = rewriteLeftRecursiveDefinition(leftRecursiveDefinitions, rewrittenIndirectlyLeftRecursiveDefinition, reducedLeftRecursiveDefinition), implicitlyLeftRecursiveRule = ruleMap[leftRecursiveRuleName];
        (_implicitlyLeftRecursiveRule = implicitlyLeftRecursiveRule).replaceDefinition.apply(_implicitlyLeftRecursiveRule, [
            replacedDefinition
        ].concat(_toConsumableArray(replacementDefinitions)));
        leftRecursiveDefinition = first(replacementDefinitions); ///
        leftRecursiveDefinitions.push(leftRecursiveDefinition);
    });
}
function rewriteLeftRecursiveDefinition(leftRecursiveDefinitions, rewrittenIndirectlyLeftRecursiveDefinition, reducedLeftRecursiveDefinition) {
    var replacementDefinitions = [];
    var definition = rewrittenIndirectlyLeftRecursiveDefinition, directlyLeftRecursiveDefinition = _indirectly.default.fromLeftRecursiveDefinitionsAndDefinition(leftRecursiveDefinitions, definition);
    replacementDefinitions.push(directlyLeftRecursiveDefinition);
    if (reducedLeftRecursiveDefinition !== null) {
        var definition1 = reducedLeftRecursiveDefinition, leftRecursiveDefinition = _left.default.fromImplicitlyLeftRecursiveDefinitionAndDefinition(leftRecursiveDefinition, definition1);
        replacementDefinitions.push(leftRecursiveDefinition);
    }
    return replacementDefinitions;
}
function reduceIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule, ruleMap) {
    var reducedLeftRecursiveDefinition = null;
    var reducedRule = _reduced.default.fromIndirectlyLeftRecursiveRule(indirectlyLeftRecursiveRule);
    if (reducedRule !== null) {
        var indirectlyLeftRecursiveRuleDefinitions = indirectlyLeftRecursiveRule.getDefinitions(), lastIndirectlyLeftRecursiveRuleDefinition = last(indirectlyLeftRecursiveRuleDefinitions);
        reducedLeftRecursiveDefinition = lastIndirectlyLeftRecursiveRuleDefinition; ///
        var reducedRuleName = reducedRule.getName();
        ruleMap[reducedRuleName] = reducedRule;
    }
    return reducedLeftRecursiveDefinition;
}
function retrieveIndirectlyLeftRecursiveRules(leftRecursiveDefinitions, ruleMap) {
    var indirectlyLeftRecursiveRules = (0, _rules.retrieveLeftRecursiveRules)(leftRecursiveDefinitions, _indirectly.default, ruleMap);
    return indirectlyLeftRecursiveRules;
}
function mergeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions) {
    var indirectlyLeftRecursiveDefinition = (0, _definitions.mergeLeftRecursiveDefinitions)(indirectlyLeftRecursiveDefinitions, function(parts, ruleName) {
        var indirectlyLeftRecursiveDefinition;
        var firstIndirectlyLeftRecursiveDefinition = first(indirectlyLeftRecursiveDefinitions);
        indirectlyLeftRecursiveDefinition = firstIndirectlyLeftRecursiveDefinition; ///
        var leftRecursiveDefinitions = indirectlyLeftRecursiveDefinition.getLeftRecursiveDefinitions();
        indirectlyLeftRecursiveDefinition = _indirectly.default.fromPartsRuleNameAndLeftRecursiveDefinitions(parts, ruleName, leftRecursiveDefinitions);
        return indirectlyLeftRecursiveDefinition;
    });
    return indirectlyLeftRecursiveDefinition;
}
function rewriteIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, repeatedRuleName) {
    var directlyLeftRecursiveDefinition = _directly.default.fromIndirectlyLeftRecursiveDefinitionAndRepeatedRuleName(indirectlyLeftRecursiveDefinition, repeatedRuleName), rewrittenIndirectlyLeftRecursiveDefinition = directlyLeftRecursiveDefinition; ///
    return rewrittenIndirectlyLeftRecursiveDefinition;
}
function retrieveIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveRule, leftRecursiveRuleName) {
    var indirectlyLeftRecursiveDefinitions = (0, _definitions.retrieveLeftRecursiveDefinitions)(indirectlyLeftRecursiveRule, _indirectly.default, function(indirectlyLeftRecursiveDefinition) {
        var leftRecursiveRuleNames = indirectlyLeftRecursiveDefinition.getLeftRecursiveRuleNames(), firstLeftRecursiveRuleName = first(leftRecursiveRuleNames), ruleName = firstLeftRecursiveRuleName; ///
        if (ruleName === leftRecursiveRuleName) {
            return true;
        }
    });
    return indirectlyLeftRecursiveDefinitions;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgUmVkdWNlZFJ1bGUgZnJvbSBcIi4vcnVsZS9yZWR1Y2VkXCI7XG5pbXBvcnQgUmVwZWF0ZWRSdWxlIGZyb20gXCIuL3J1bGUvcmVwZWF0ZWRcIjtcbmltcG9ydCBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZS9sZWZ0XCI7XG5pbXBvcnQgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZS9sZWZ0L2RpcmVjdGx5XCI7XG5pbXBvcnQgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnQvaW5kaXJlY3RseVwiO1xuXG5pbXBvcnQgeyByZXRyaWV2ZUxlZnRSZWN1cnNpdmVSdWxlcyB9IGZyb20gXCIuL3V0aWxpdGllcy9ydWxlc1wiO1xuaW1wb3J0IHsgcmV0cmlldmVMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzIH0gZnJvbSBcIi4vdXRpbGl0aWVzL3J1bGVOYW1lc1wiO1xuaW1wb3J0IHsgbWVyZ2VMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2RlZmluaXRpb25zXCI7XG5cbmNvbnN0IHsgZmlyc3QsIGxhc3QgfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGxldCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzLFxuICAgICAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlc0xlbmd0aDtcblxuICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzID0gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlc0xlbmd0aCA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMubGVuZ3RoO1xuXG4gIHdoaWxlIChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzTGVuZ3RoID4gMCkge1xuICAgIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMuZm9yRWFjaCgoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKSA9PiB7XG4gICAgICByZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgcnVsZU1hcCk7XG4gICAgfSk7XG5cbiAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzID0gcmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzTGVuZ3RoID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcy5sZW5ndGg7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV3cml0ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIHJ1bGVNYXApIHtcbiAgY29uc3QgcmVkdWNlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gcmVkdWNlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgcnVsZU1hcCksXG4gICAgICAgIGxlZnRSZWN1cnNpdmVSdWxlTmFtZXMgPSByZXRyaWV2ZUxlZnRSZWN1cnNpdmVSdWxlTmFtZXMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldExlZnRSZWN1cnNpdmVSdWxlTmFtZXMoKSxcbiAgICAgICAgICAgICAgICBmaXJzdExlZnRSZWN1cnNpdmVSdWxlTmFtZSA9IGZpcnN0KGxlZnRSZWN1cnNpdmVSdWxlTmFtZXMpLFxuICAgICAgICAgICAgICAgIGxlZnRSZWN1cnNpdmVSdWxlTmFtZSA9IGZpcnN0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lOyAvLy9cblxuICAgICAgICAgIHJldHVybiBsZWZ0UmVjdXJzaXZlUnVsZU5hbWU7XG4gICAgICAgIH0pO1xuXG4gIGxlZnRSZWN1cnNpdmVSdWxlTmFtZXMuZm9yRWFjaCgobGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSByZXRyaWV2ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUpLFxuICAgICAgICAgIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG1lcmdlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICAgIGxldCByZXBlYXRlZFJ1bGVOYW1lID0gbnVsbDtcblxuICAgIGNvbnN0IHJlcGVhdGVkUnVsZSA9IFJlcGVhdGVkUnVsZS5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kSW5kZXgoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBpbmRleCk7XG5cbiAgICBpZiAocmVwZWF0ZWRSdWxlICE9PSBudWxsKSB7XG4gICAgICByZXBlYXRlZFJ1bGVOYW1lID0gcmVwZWF0ZWRSdWxlLmdldE5hbWUoKTtcblxuICAgICAgcnVsZU1hcFtyZXBlYXRlZFJ1bGVOYW1lXSA9IHJlcGVhdGVkUnVsZTtcbiAgICB9XG5cbiAgICBsZXQgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb247XG5cbiAgICBjb25zdCByZXdyaXR0ZW5JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSByZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVwZWF0ZWRSdWxlTmFtZSksXG4gICAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucygpLFxuICAgICAgICAgIGxhc3RMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGxhc3QobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbGFzdExlZnRSZWN1cnNpdmVEZWZpbml0aW9uOyAgLy8vXG5cbiAgICBjb25zdCByZXBsYWNlZERlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgLy8vXG4gICAgICAgICAgcmVwbGFjZW1lbnREZWZpbml0aW9ucyA9IHJld3JpdGVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJld3JpdHRlbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVkdWNlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSxcbiAgICAgICAgICBpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUgPSBydWxlTWFwW2xlZnRSZWN1cnNpdmVSdWxlTmFtZV07XG5cbiAgICBpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUucmVwbGFjZURlZmluaXRpb24ocmVwbGFjZWREZWZpbml0aW9uLCAuLi5yZXBsYWNlbWVudERlZmluaXRpb25zKTtcblxuICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZmlyc3QocmVwbGFjZW1lbnREZWZpbml0aW9ucyk7IC8vL1xuXG4gICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLnB1c2gobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmV3cml0ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcmV3cml0dGVuSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCByZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgY29uc3QgcmVwbGFjZW1lbnREZWZpbml0aW9ucyA9IFtdO1xuXG4gIGNvbnN0IGRlZmluaXRpb24gPSByZXdyaXR0ZW5JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIC8vL1xuICAgICAgICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21MZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNBbmREZWZpbml0aW9uKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgZGVmaW5pdGlvbik7XG5cbiAgcmVwbGFjZW1lbnREZWZpbml0aW9ucy5wdXNoKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gIGlmIChyZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gIT09IG51bGwpIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gcmVkdWNlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCAgLy8vXG4gICAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tSW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kRGVmaW5pdGlvbihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgZGVmaW5pdGlvbik7XG5cbiAgICByZXBsYWNlbWVudERlZmluaXRpb25zLnB1c2gobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuICB9XG5cbiAgcmV0dXJuIHJlcGxhY2VtZW50RGVmaW5pdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHJlZHVjZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIHJ1bGVNYXApIHtcbiAgbGV0IHJlZHVjZWRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG51bGw7XG5cbiAgY29uc3QgcmVkdWNlZFJ1bGUgPSBSZWR1Y2VkUnVsZS5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSk7XG5cbiAgaWYgKHJlZHVjZWRSdWxlICE9PSBudWxsKSB7XG4gICAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlRGVmaW5pdGlvbnMgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUuZ2V0RGVmaW5pdGlvbnMoKSxcbiAgICAgICAgICBsYXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlRGVmaW5pdGlvbiA9IGxhc3QoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlRGVmaW5pdGlvbnMpO1xuXG4gICAgcmVkdWNlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbGFzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZURlZmluaXRpb247IC8vL1xuXG4gICAgY29uc3QgcmVkdWNlZFJ1bGVOYW1lID0gcmVkdWNlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gICAgcnVsZU1hcFtyZWR1Y2VkUnVsZU5hbWVdID0gcmVkdWNlZFJ1bGU7XG4gIH1cblxuICByZXR1cm4gcmVkdWNlZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGNvbnN0IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMgPSByZXRyaWV2ZUxlZnRSZWN1cnNpdmVSdWxlcyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcnVsZU1hcCk7XG5cbiAgcmV0dXJuIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXM7XG59XG5cbmZ1bmN0aW9uIG1lcmdlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKSB7XG4gIGNvbnN0IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG1lcmdlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIChwYXJ0cywgcnVsZU5hbWUpID0+IHtcbiAgICBsZXQgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xuXG4gICAgY29uc3QgZmlyc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBmaXJzdChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICAgIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGZpcnN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uOyAvLy9cblxuICAgIGNvbnN0IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoKTtcblxuICAgIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tUGFydHNSdWxlTmFtZUFuZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhwYXJ0cywgcnVsZU5hbWUsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyk7XG5cbiAgICByZXR1cm4gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xuICB9KTtcblxuICByZXR1cm4gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgcmVwZWF0ZWRSdWxlTmFtZSkge1xuICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kUmVwZWF0ZWRSdWxlTmFtZShpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJlcGVhdGVkUnVsZU5hbWUpLFxuICAgICAgICByZXdyaXR0ZW5JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uOyAvLy9cblxuICByZXR1cm4gcmV3cml0dGVuSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUpIHtcbiAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCAoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgY29uc3QgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzKCksXG4gICAgICAgICAgZmlyc3RMZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBmaXJzdChsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzKSxcbiAgICAgICAgICBydWxlTmFtZSA9IGZpcnN0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lOyAvLy9cblxuICAgIGlmIChydWxlTmFtZSA9PT0gbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zO1xufVxuIl0sIm5hbWVzIjpbImVsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbiIsImZpcnN0IiwiYXJyYXlVdGlsaXRpZXMiLCJsYXN0IiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicnVsZU1hcCIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMiLCJpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzTGVuZ3RoIiwicmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsInJld3JpdGVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUiLCJyZWR1Y2VkTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZWR1Y2VJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUiLCJsZWZ0UmVjdXJzaXZlUnVsZU5hbWVzIiwicmV0cmlldmVMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzIiwiSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZ2V0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyIsImZpcnN0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lIiwibGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lIiwiaW5kZXgiLCJpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUiLCJpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV0cmlldmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwibWVyZ2VJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmVwZWF0ZWRSdWxlTmFtZSIsInJlcGVhdGVkUnVsZSIsIlJlcGVhdGVkUnVsZSIsImZyb21JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25BbmRJbmRleCIsImdldE5hbWUiLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJld3JpdHRlbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJld3JpdGVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJnZXRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJsYXN0TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXBsYWNlZERlZmluaXRpb24iLCJyZXBsYWNlbWVudERlZmluaXRpb25zIiwicmV3cml0ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwicmVwbGFjZURlZmluaXRpb24iLCJwdXNoIiwiZGVmaW5pdGlvbiIsImRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zQW5kRGVmaW5pdGlvbiIsIkxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZnJvbUltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkFuZERlZmluaXRpb24iLCJyZWR1Y2VkUnVsZSIsIlJlZHVjZWRSdWxlIiwiZnJvbUluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZURlZmluaXRpb25zIiwiZ2V0RGVmaW5pdGlvbnMiLCJsYXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlRGVmaW5pdGlvbiIsInJlZHVjZWRSdWxlTmFtZSIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZVJ1bGVzIiwibWVyZ2VMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJwYXJ0cyIsInJ1bGVOYW1lIiwiZmlyc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tUGFydHNSdWxlTmFtZUFuZExlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsIkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uQW5kUmVwZWF0ZWRSdWxlTmFtZSIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7Ozs7OztlQWdCV0EsOEJBQThCOzs7O3lCQWR2QixXQUFXOzhDQUVsQixnQkFBZ0I7K0NBQ2YsaUJBQWlCOzJDQUNOLDZCQUE2QjsrQ0FDckIsc0NBQXNDO2lEQUNwQyx3Q0FBd0M7cUJBRTNDLG1CQUFtQjt5QkFDZix1QkFBdUI7MkJBQ1UseUJBQXlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXpHLElBQVFDLEtBQUssR0FBV0MsVUFBYyxlQUFBLENBQTlCRCxLQUFLLEVBQUVFLElBQUksR0FBS0QsVUFBYyxlQUFBLENBQXZCQyxJQUFJLEFBQW9CO0FBRXhCLFNBQVNILDhCQUE4QixDQUFDSSx3QkFBd0IsRUFBRUMsT0FBTyxFQUFFO0lBQ3hGLElBQUlDLDRCQUE0QixFQUM1QkMsa0NBQWtDLEFBQUM7SUFFdkNELDRCQUE0QixHQUFHRSxvQ0FBb0MsQ0FBQ0osd0JBQXdCLEVBQUVDLE9BQU8sQ0FBQyxDQUFDO0lBRXZHRSxrQ0FBa0MsR0FBR0QsNEJBQTRCLENBQUNHLE1BQU0sQ0FBQztJ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