'use strict';

var rulesUtilities = require('./utilities/rules');

var ruleNamesFromRules = rulesUtilities.ruleNamesFromRules;


function eliminateOrphanedRules(rules) {
  var ruleNames = ruleNamesFromRules(rules);

  rules = filterRules(rules, ruleNames); ///

  return rules;
}

module.exports = eliminateOrphanedRules;

function filterRules(rules, ruleNames) {
  rules = rules.filter(function (rule, index) {
    var ruleName = rule.getName(),
        ruleFirstRule = index === 0,
        ruleNamesIncludesRuleName = ruleNames.includes(ruleName);

    if (ruleFirstRule || ruleNamesIncludesRuleName) {
      return true;
    }
  });

  return rules;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2VzNi9lbGltaW5hdGVPcnBoYW5lZFJ1bGVzLmpzIl0sIm5hbWVzIjpbInJ1bGVzVXRpbGl0aWVzIiwicmVxdWlyZSIsInJ1bGVOYW1lc0Zyb21SdWxlcyIsImVsaW1pbmF0ZU9ycGhhbmVkUnVsZXMiLCJydWxlcyIsInJ1bGVOYW1lcyIsImZpbHRlclJ1bGVzIiwibW9kdWxlIiwiZXhwb3J0cyIsImZpbHRlciIsInJ1bGUiLCJpbmRleCIsInJ1bGVOYW1lIiwiZ2V0TmFtZSIsInJ1bGVGaXJzdFJ1bGUiLCJydWxlTmFtZXNJbmNsdWRlc1J1bGVOYW1lIiwiaW5jbHVkZXMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLGlCQUFpQkMsUUFBUSxtQkFBUixDQUF2Qjs7SUFFUUMsa0IsR0FBdUJGLGMsQ0FBdkJFLGtCOzs7QUFFUixTQUFTQyxzQkFBVCxDQUFnQ0MsS0FBaEMsRUFBdUM7QUFDckMsTUFBTUMsWUFBWUgsbUJBQW1CRSxLQUFuQixDQUFsQjs7QUFFQUEsVUFBUUUsWUFBWUYsS0FBWixFQUFtQkMsU0FBbkIsQ0FBUixDQUhxQyxDQUdFOztBQUV2QyxTQUFPRCxLQUFQO0FBQ0Q7O0FBRURHLE9BQU9DLE9BQVAsR0FBaUJMLHNCQUFqQjs7QUFFQSxTQUFTRyxXQUFULENBQXFCRixLQUFyQixFQUE0QkMsU0FBNUIsRUFBdUM7QUFDckNELFVBQVFBLE1BQU1LLE1BQU4sQ0FBYSxVQUFTQyxJQUFULEVBQWVDLEtBQWYsRUFBc0I7QUFDekMsUUFBTUMsV0FBV0YsS0FBS0csT0FBTCxFQUFqQjtBQUFBLFFBQ01DLGdCQUFpQkgsVUFBVSxDQURqQztBQUFBLFFBRU1JLDRCQUE0QlYsVUFBVVcsUUFBVixDQUFtQkosUUFBbkIsQ0FGbEM7O0FBSUEsUUFBSUUsaUJBQWlCQyx5QkFBckIsRUFBZ0Q7QUFDOUMsYUFBTyxJQUFQO0FBQ0Q7QUFDRixHQVJPLENBQVI7O0FBVUEsU0FBT1gsS0FBUDtBQUNEIiwiZmlsZSI6ImVsaW1pbmF0ZU9ycGhhbmVkUnVsZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHJ1bGVzVXRpbGl0aWVzID0gcmVxdWlyZSgnLi91dGlsaXRpZXMvcnVsZXMnKTtcblxuY29uc3QgeyBydWxlTmFtZXNGcm9tUnVsZXMgfSA9IHJ1bGVzVXRpbGl0aWVzO1xuXG5mdW5jdGlvbiBlbGltaW5hdGVPcnBoYW5lZFJ1bGVzKHJ1bGVzKSB7XG4gIGNvbnN0IHJ1bGVOYW1lcyA9IHJ1bGVOYW1lc0Zyb21SdWxlcyhydWxlcyk7XG5cbiAgcnVsZXMgPSBmaWx0ZXJSdWxlcyhydWxlcywgcnVsZU5hbWVzKTsgLy8vXG5cbiAgcmV0dXJuIHJ1bGVzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVsaW1pbmF0ZU9ycGhhbmVkUnVsZXM7XG5cbmZ1bmN0aW9uIGZpbHRlclJ1bGVzKHJ1bGVzLCBydWxlTmFtZXMpIHtcbiAgcnVsZXMgPSBydWxlcy5maWx0ZXIoZnVuY3Rpb24ocnVsZSwgaW5kZXgpIHtcbiAgICBjb25zdCBydWxlTmFtZSA9IHJ1bGUuZ2V0TmFtZSgpLFxuICAgICAgICAgIHJ1bGVGaXJzdFJ1bGUgPSAoaW5kZXggPT09IDApLFxuICAgICAgICAgIHJ1bGVOYW1lc0luY2x1ZGVzUnVsZU5hbWUgPSBydWxlTmFtZXMuaW5jbHVkZXMocnVsZU5hbWUpO1xuXG4gICAgaWYgKHJ1bGVGaXJzdFJ1bGUgfHwgcnVsZU5hbWVzSW5jbHVkZXNSdWxlTmFtZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcnVsZXM7XG59Il19