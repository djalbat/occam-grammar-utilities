"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = eliminateLeftRecursion;
var _reduced = _interopRequireDefault(require("./rule/reduced"));
var _recursive = _interopRequireDefault(require("./definition/recursive"));
var _left = _interopRequireDefault(require("./definition/recursive/left"));
var _directly = _interopRequireDefault(require("./definition/recursive/left/directly"));
var _indirectly = _interopRequireDefault(require("./definition/recursive/left/indirectly"));
var _class = require("./utilities/class");
function eliminateLeftRecursion(startRule, ruleMap) {
    var rule = startRule, recursiveDefinitions = [], leftRecursiveDefinitions = [];
    retrieveLeftRecursiveDefinitions(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
    rewriteLeftRecursiveDefinitions(leftRecursiveDefinitions, ruleMap);
    var reducedRules = retrieveReducedRules(ruleMap);
    rewriteReducedRules(reducedRules, ruleMap);
    var startRuleName = startRule.getName();
    startRule = ruleMap[startRuleName]; ///
    return startRule;
}
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
function rewriteReducedRules(reducedRules, ruleMap) {
    reducedRules.forEach(function(reducedRule) {
        reducedRule.rewrite(ruleMap);
    });
}
function retrieveReducedRules(ruleMap) {
    var rules = Object.values(ruleMap), reducedRules1 = rules.reduce(function(reducedRules, rule) {
        var ruleReducedRule = (0, _class).isInstanceOf(rule, _reduced.default);
        if (ruleReducedRule) {
            var reducedRule = rule; ///
            reducedRules.push(reducedRule);
        }
        return reducedRules;
    }, []);
    return reducedRules1;
}
function rewriteLeftRecursiveDefinitions(leftRecursiveDefinitions, ruleMap) {
    leftRecursiveDefinitions.forEach(function(leftRecursiveDefinition) {
        leftRecursiveDefinition.rewrite(ruleMap);
    });
}
function retrieveLeftRecursiveDefinition(ruleName, definition, recursiveDefinitions, leftRecursiveDefinitions) {
    var leftRecursiveDefinitionMatchesDefinition1 = leftRecursiveDefinitions.some(function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionMatchesDefinition = leftRecursiveDefinition.match(definition);
        if (leftRecursiveDefinitionMatchesDefinition) {
            return true;
        }
    });
    if (leftRecursiveDefinitionMatchesDefinition1) {
        return;
    }
    var leftRecursiveDefinition1 = _directly.default.fromRuleNameAndDefinition(ruleName, definition) || _indirectly.default.fromRuleNameDefinitionAndRecursiveDefinitions(ruleName, definition, recursiveDefinitions);
    if (leftRecursiveDefinition1 !== null) {
        leftRecursiveDefinitions.push(leftRecursiveDefinition1);
    }
}
function retrieveLeftRecursiveDefinitions(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap) {
    var ruleName1 = rule.getName(), definitions = rule.getDefinitions();
    definitions.forEach(function(definition) {
        retrieveLeftRecursiveDefinition(ruleName1, definition, recursiveDefinitions, leftRecursiveDefinitions);
        var recursiveDefinition = _left.default.fromRuleNameAndDefinition(ruleName1, definition) || _recursive.default.fromRuleNameAndDefinition(ruleName1, definition);
        if (recursiveDefinition !== null) {
            var previousRecursiveDefinitions = _toConsumableArray(recursiveDefinitions).concat([
                recursiveDefinition
            ]), previousRecursiveRuleNames = previousRecursiveDefinitions.map(function(previousRecursiveDefinition) {
                return recursiveRuleNameFromRecursiveDefinition(previousRecursiveDefinition);
            }), recursiveRuleNames = recursiveDefinition.getRecursiveRuleNames();
            recursiveRuleNames.forEach(function(recursiveRuleName) {
                var previousRecursiveRuleNamesIncludesRecursiveRuleName = previousRecursiveRuleNames.includes(recursiveRuleName);
                if (!previousRecursiveRuleNamesIncludesRecursiveRuleName) {
                    var ruleName = recursiveRuleName, _$rule = ruleMap[ruleName] || null; ///
                    if (_$rule !== null) {
                        var _$recursiveDefinitions = previousRecursiveDefinitions; ///
                        retrieveLeftRecursiveDefinitions(_$rule, _$recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
                    }
                }
            });
        }
    });
}
function recursiveRuleNameFromRecursiveDefinition(recursiveDefinition) {
    var recursiveDefinitionRuleName = recursiveDefinition.getRuleName(), recursiveRuleName = recursiveDefinitionRuleName; ///
    return recursiveRuleName;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVMZWZ0UmVjdXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgUmVkdWNlZFJ1bGUgZnJvbSBcIi4vcnVsZS9yZWR1Y2VkXCI7XG5pbXBvcnQgUmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZVwiO1xuaW1wb3J0IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnRcIjtcbmltcG9ydCBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnQvZGlyZWN0bHlcIjtcbmltcG9ydCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gZnJvbSBcIi4vZGVmaW5pdGlvbi9yZWN1cnNpdmUvbGVmdC9pbmRpcmVjdGx5XCI7XG5cbmltcG9ydCB7IGlzSW5zdGFuY2VPZiB9IGZyb20gXCIuL3V0aWxpdGllcy9jbGFzc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGltaW5hdGVMZWZ0UmVjdXJzaW9uKHN0YXJ0UnVsZSwgcnVsZU1hcCkge1xuICBjb25zdCBydWxlID0gc3RhcnRSdWxlLCAvLy9cbiAgICAgICAgcmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBbXSxcbiAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gW107XG5cbiAgcmV0cmlldmVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgcmVjdXJzaXZlRGVmaW5pdGlvbnMsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgcmV3cml0ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApO1xuXG4gIGNvbnN0IHJlZHVjZWRSdWxlcyA9IHJldHJpZXZlUmVkdWNlZFJ1bGVzKHJ1bGVNYXApO1xuXG4gIHJld3JpdGVSZWR1Y2VkUnVsZXMocmVkdWNlZFJ1bGVzLCBydWxlTWFwKTtcblxuICBjb25zdCBzdGFydFJ1bGVOYW1lID0gc3RhcnRSdWxlLmdldE5hbWUoKTtcblxuICBzdGFydFJ1bGUgPSBydWxlTWFwW3N0YXJ0UnVsZU5hbWVdOyAvLy9cblxuICByZXR1cm4gc3RhcnRSdWxlO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlUmVkdWNlZFJ1bGVzKHJlZHVjZWRSdWxlcywgcnVsZU1hcCkge1xuICByZWR1Y2VkUnVsZXMuZm9yRWFjaCgocmVkdWNlZFJ1bGUpID0+IHtcbiAgICByZWR1Y2VkUnVsZS5yZXdyaXRlKHJ1bGVNYXApO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVSZWR1Y2VkUnVsZXMocnVsZU1hcCkge1xuICBjb25zdCBydWxlcyA9IE9iamVjdC52YWx1ZXMocnVsZU1hcCksXG4gICAgICAgIHJlZHVjZWRSdWxlcyA9IHJ1bGVzLnJlZHVjZSgocmVkdWNlZFJ1bGVzLCBydWxlKSA9PiB7XG4gICAgICAgICAgY29uc3QgcnVsZVJlZHVjZWRSdWxlID0gaXNJbnN0YW5jZU9mKHJ1bGUsIFJlZHVjZWRSdWxlKTtcblxuICAgICAgICAgIGlmIChydWxlUmVkdWNlZFJ1bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZHVjZWRSdWxlID0gcnVsZTsgLy8vXG5cbiAgICAgICAgICAgIHJlZHVjZWRSdWxlcy5wdXNoKHJlZHVjZWRSdWxlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVkdWNlZFJ1bGVzO1xuICAgICAgICB9LCBbXSk7XG5cbiAgcmV0dXJuIHJlZHVjZWRSdWxlcztcbn1cblxuZnVuY3Rpb24gcmV3cml0ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLmZvckVhY2goKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24ucmV3cml0ZShydWxlTWFwKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24sIHJlY3Vyc2l2ZURlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpIHtcbiAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25NYXRjaGVzRGVmaW5pdGlvbiA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5zb21lKChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikgPT4ge1xuICAgIGNvbnN0IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uTWF0Y2hlc0RlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5tYXRjaChkZWZpbml0aW9uKTtcblxuICAgIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbk1hdGNoZXNEZWZpbml0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbk1hdGNoZXNEZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZUFuZERlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZURlZmluaXRpb25BbmRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlTmFtZSwgZGVmaW5pdGlvbiwgcmVjdXJzaXZlRGVmaW5pdGlvbnMpO1xuXG4gIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiAhPT0gbnVsbCkge1xuICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5wdXNoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCByZWN1cnNpdmVEZWZpbml0aW9ucywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJ1bGVOYW1lID0gcnVsZS5nZXROYW1lKCksXG4gICAgICAgIGRlZmluaXRpb25zID0gcnVsZS5nZXREZWZpbml0aW9ucygpO1xuXG4gIGRlZmluaXRpb25zLmZvckVhY2goKGRlZmluaXRpb24pID0+IHtcbiAgICByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKHJ1bGVOYW1lLCBkZWZpbml0aW9uLCByZWN1cnNpdmVEZWZpbml0aW9ucywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICAgIGNvbnN0IHJlY3Vyc2l2ZURlZmluaXRpb24gPSBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tUnVsZU5hbWVBbmREZWZpbml0aW9uKHJ1bGVOYW1lLCBkZWZpbml0aW9uKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZUFuZERlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24pO1xuXG4gICAgaWYgKHJlY3Vyc2l2ZURlZmluaXRpb24gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBbIC4uLnJlY3Vyc2l2ZURlZmluaXRpb25zLCByZWN1cnNpdmVEZWZpbml0aW9uIF0sXG4gICAgICAgICAgICBwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lcyA9IHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnMubWFwKChwcmV2aW91c1JlY3Vyc2l2ZURlZmluaXRpb24pID0+IHJlY3Vyc2l2ZVJ1bGVOYW1lRnJvbVJlY3Vyc2l2ZURlZmluaXRpb24ocHJldmlvdXNSZWN1cnNpdmVEZWZpbml0aW9uKSksXG4gICAgICAgICAgICByZWN1cnNpdmVSdWxlTmFtZXMgPSByZWN1cnNpdmVEZWZpbml0aW9uLmdldFJlY3Vyc2l2ZVJ1bGVOYW1lcygpO1xuXG4gICAgICByZWN1cnNpdmVSdWxlTmFtZXMuZm9yRWFjaCgocmVjdXJzaXZlUnVsZU5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZXNJbmNsdWRlc1JlY3Vyc2l2ZVJ1bGVOYW1lID0gcHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZXMuaW5jbHVkZXMocmVjdXJzaXZlUnVsZU5hbWUpO1xuXG4gICAgICAgIGlmICghcHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZXNJbmNsdWRlc1JlY3Vyc2l2ZVJ1bGVOYW1lKSB7XG4gICAgICAgICAgY29uc3QgcnVsZU5hbWUgPSByZWN1cnNpdmVSdWxlTmFtZSwgIC8vL1xuICAgICAgICAgICAgICAgIHJ1bGUgPSBydWxlTWFwW3J1bGVOYW1lXSB8fCBudWxsOyAvLy9cblxuICAgICAgICAgIGlmIChydWxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByZWN1cnNpdmVEZWZpbml0aW9ucyA9IHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnM7ICAvLy9cblxuICAgICAgICAgICAgcmV0cmlldmVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgcmVjdXJzaXZlRGVmaW5pdGlvbnMsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZWN1cnNpdmVSdWxlTmFtZUZyb21SZWN1cnNpdmVEZWZpbml0aW9uKHJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgY29uc3QgcmVjdXJzaXZlRGVmaW5pdGlvblJ1bGVOYW1lID0gcmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlTmFtZSgpLFxuICAgICAgICByZWN1cnNpdmVSdWxlTmFtZSA9IHJlY3Vyc2l2ZURlZmluaXRpb25SdWxlTmFtZTsgIC8vL1xuXG4gIHJldHVybiByZWN1cnNpdmVSdWxlTmFtZTtcbn1cbiJdLCJuYW1lcyI6WyJlbGltaW5hdGVMZWZ0UmVjdXJzaW9uIiwic3RhcnRSdWxlIiwicnVsZU1hcCIsInJ1bGUiLCJyZWN1cnNpdmVEZWZpbml0aW9ucyIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV3cml0ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJlZHVjZWRSdWxlcyIsInJldHJpZXZlUmVkdWNlZFJ1bGVzIiwicmV3cml0ZVJlZHVjZWRSdWxlcyIsInN0YXJ0UnVsZU5hbWUiLCJnZXROYW1lIiwiZm9yRWFjaCIsInJlZHVjZWRSdWxlIiwicmV3cml0ZSIsInJ1bGVzIiwiT2JqZWN0IiwidmFsdWVzIiwicmVkdWNlIiwicnVsZVJlZHVjZWRSdWxlIiwiaXNJbnN0YW5jZU9mIiwiUmVkdWNlZFJ1bGUiLCJwdXNoIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwicnVsZU5hbWUiLCJkZWZpbml0aW9uIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25NYXRjaGVzRGVmaW5pdGlvbiIsInNvbWUiLCJtYXRjaCIsIkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tUnVsZU5hbWVBbmREZWZpbml0aW9uIiwiSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZnJvbVJ1bGVOYW1lRGVmaW5pdGlvbkFuZFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiZGVmaW5pdGlvbnMiLCJnZXREZWZpbml0aW9ucyIsInJlY3Vyc2l2ZURlZmluaXRpb24iLCJMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsIlJlY3Vyc2l2ZURlZmluaXRpb24iLCJwcmV2aW91c1JlY3Vyc2l2ZURlZmluaXRpb25zIiwicHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZXMiLCJtYXAiLCJwcmV2aW91c1JlY3Vyc2l2ZURlZmluaXRpb24iLCJyZWN1cnNpdmVSdWxlTmFtZUZyb21SZWN1cnNpdmVEZWZpbml0aW9uIiwicmVjdXJzaXZlUnVsZU5hbWVzIiwiZ2V0UmVjdXJzaXZlUnVsZU5hbWVzIiwicmVjdXJzaXZlUnVsZU5hbWUiLCJwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lc0luY2x1ZGVzUmVjdXJzaXZlUnVsZU5hbWUiLCJpbmNsdWRlcyIsInJlY3Vyc2l2ZURlZmluaXRpb25SdWxlTmFtZSIsImdldFJ1bGVOYW1lIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7Ozs7a0JBVVdBLHNCQUFzQjtBQVJ0QixJQUFBLFFBQWdCLGtDQUFoQixnQkFBZ0IsRUFBQTtBQUNSLElBQUEsVUFBd0Isa0NBQXhCLHdCQUF3QixFQUFBO0FBQ3BCLElBQUEsS0FBNkIsa0NBQTdCLDZCQUE2QixFQUFBO0FBQ3JCLElBQUEsU0FBc0Msa0NBQXRDLHNDQUFzQyxFQUFBO0FBQ3BDLElBQUEsV0FBd0Msa0NBQXhDLHdDQUF3QyxFQUFBO0FBRXpELElBQUEsTUFBbUIsV0FBbkIsbUJBQW1CLENBQUE7QUFFakMsU0FBU0Esc0JBQXNCLENBQUNDLFNBQVMsRUFBRUMsT0FBTyxFQUFFO0lBQ2pFLElBQU1DLElBQUksR0FBR0YsU0FBUyxFQUNoQkcsb0JBQW9CLEdBQUcsRUFBRSxFQUN6QkMsd0JBQXdCLEdBQUcsRUFBRSxBQUFDO0lBRXBDQyxnQ0FBZ0MsQ0FBQ0gsSUFBSSxFQUFFQyxvQkFBb0IsRUFBRUMsd0JBQXdCLEVBQUVILE9BQU8sQ0FBQyxDQUFDO0lBRWhHSywrQkFBK0IsQ0FBQ0Ysd0JBQXdCLEVBQUVILE9BQU8sQ0FBQyxDQUFDO0lBRW5FLElBQU1NLFlBQVksR0FBR0Msb0JBQW9CLENBQUNQLE9BQU8sQ0FBQyxBQUFDO0lBRW5EUSxtQkFBbUIsQ0FBQ0YsWUFBWSxFQUFFTixPQUFPLENBQUMsQ0FBQztJQUUzQyxJQUFNUyxh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