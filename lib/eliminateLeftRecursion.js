"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = eliminateLeftRecursion;
var _eliminateDirectLeftRecursion = _interopRequireDefault(require("./eliminateDirectLeftRecursion"));
var _eliminateIndirectLeftRecursion = _interopRequireDefault(require("./eliminateIndirectLeftRecursion"));
var _retrieveLeftRecursiveDefinitions = _interopRequireDefault(require("./retrieveLeftRecursiveDefinitions"));
function eliminateLeftRecursion(startRule, ruleMap) {
    var rule = startRule, recursiveDefinitions = [], leftRecursiveDefinitions = [];
    (0, _retrieveLeftRecursiveDefinitions).default(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
    // eliminateIndirectLeftRecursion(leftRecursiveDefinitions, ruleMap);
    (0, _eliminateDirectLeftRecursion).default(leftRecursiveDefinitions, ruleMap);
    var startRuleName = startRule.getName();
    startRule = ruleMap[startRuleName]; ///
    return startRule;
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVMZWZ0UmVjdXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgZWxpbWluYXRlRGlyZWN0TGVmdFJlY3Vyc2lvbiBmcm9tIFwiLi9lbGltaW5hdGVEaXJlY3RMZWZ0UmVjdXJzaW9uXCI7XG5pbXBvcnQgZWxpbWluYXRlSW5kaXJlY3RMZWZ0UmVjdXJzaW9uIGZyb20gXCIuL2VsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvblwiO1xuaW1wb3J0IHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIGZyb20gXCIuL3JldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsaW1pbmF0ZUxlZnRSZWN1cnNpb24oc3RhcnRSdWxlLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJ1bGUgPSBzdGFydFJ1bGUsIC8vL1xuICAgICAgICByZWN1cnNpdmVEZWZpbml0aW9ucyA9IFtdLFxuICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBbXTtcblxuICByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCByZWN1cnNpdmVEZWZpbml0aW9ucywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICAvLyBlbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICBlbGltaW5hdGVEaXJlY3RMZWZ0UmVjdXJzaW9uKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgY29uc3Qgc3RhcnRSdWxlTmFtZSA9IHN0YXJ0UnVsZS5nZXROYW1lKCk7XG5cbiAgc3RhcnRSdWxlID0gcnVsZU1hcFtzdGFydFJ1bGVOYW1lXTsgLy8vXG5cbiAgcmV0dXJuIHN0YXJ0UnVsZTtcbn1cbiJdLCJuYW1lcyI6WyJlbGltaW5hdGVMZWZ0UmVjdXJzaW9uIiwic3RhcnRSdWxlIiwicnVsZU1hcCIsInJ1bGUiLCJyZWN1cnNpdmVEZWZpbml0aW9ucyIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiZWxpbWluYXRlRGlyZWN0TGVmdFJlY3Vyc2lvbiIsInN0YXJ0UnVsZU5hbWUiLCJnZXROYW1lIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7Ozs7a0JBTVdBLHNCQUFzQjtBQUpMLElBQUEsNkJBQWdDLGtDQUFoQyxnQ0FBZ0MsRUFBQTtBQUM5QixJQUFBLCtCQUFrQyxrQ0FBbEMsa0NBQWtDLEVBQUE7QUFDaEMsSUFBQSxpQ0FBb0Msa0NBQXBDLG9DQUFvQyxFQUFBO0FBRWxFLFNBQVNBLHNCQUFzQixDQUFDQyxTQUFTLEVBQUVDLE9BQU8sRUFBRTtJQUNqRSxJQUFNQyxJQUFJLEdBQUdGLFNBQVMsRUFDaEJHLG9CQUFvQixHQUFHLEVBQUUsRUFDekJDLHdCQUF3QixHQUFHLEVBQUUsQUFBQztJQUVwQ0MsQ0FBQUEsR0FBQUEsaUNBQWdDLEFBQStELENBQUEsUUFBL0QsQ0FBQ0gsSUFBSSxFQUFFQyxvQkFBb0IsRUFBRUMsd0JBQXdCLEVBQUVILE9BQU8sQ0FBQyxDQUFDO0lBRWhHLHFFQUFxRTtJQUVyRUssQ0FBQUEsR0FBQUEsNkJBQTRCLEFBQW1DLENBQUEsUUFBbkMsQ0FBQ0Ysd0JBQXdCLEVBQUVILE9BQU8sQ0FBQyxDQUFDO0lBRWhFLElBQU1NLGFBQWEsR0FBR1AsU0FBUyxDQUFDUSxPQUFPLEVBQUUsQUFBQztJQUUxQ1IsU0FBUyxHQUFHQyxPQUFPLENBQUNNLGFBQWEsQ0FBQyxDQUFDLENBQUMsR0FBRztJQUV2QyxPQUFPUCxTQUFTLENBQUM7Q0FDbEIifQ==