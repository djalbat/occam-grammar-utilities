"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = eliminateLeftRecursion;
var _occamParsers = require("occam-parsers");
var _necessary = require("necessary");
var _reduced = _interopRequireDefault(require("./rule/reduced"));
var _repeated = _interopRequireDefault(require("./rule/repeated"));
var _recursive = _interopRequireDefault(require("./definition/recursive"));
var _left = _interopRequireDefault(require("./definition/recursive/left"));
var _directly = _interopRequireDefault(require("./definition/recursive/left/directly"));
var _indirectly = _interopRequireDefault(require("./definition/recursive/left/indirectly"));
var _implicitly = _interopRequireDefault(require("./definition/recursive/left/implicitly"));
var _class = require("./utilities/class");
var _parts = require("./utilities/parts");
var _rule = require("./utilities/rule");
function eliminateLeftRecursion(startRule, ruleMap) {
    var rule = startRule, recursiveDefinitions = [], leftRecursiveDefinitions = [], directlyLeftRecursiveRules = [];
    retrieveLeftRecursiveDefinitions(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
    eliminateIndirectLeftRecursion(leftRecursiveDefinitions, ruleMap);
    retrieveDirectlyLeftRecursiveRules(directlyLeftRecursiveRules, leftRecursiveDefinitions, ruleMap);
    eliminateDirectLeftRecursion(directlyLeftRecursiveRules, ruleMap);
    var startRuleName = startRule.getName();
    startRule = ruleMap[startRuleName]; ///
    return startRule;
}
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
var ChoiceOfPartsPart = _occamParsers.Parts.ChoiceOfPartsPart, find = _necessary.arrayUtilities.find, tail = _necessary.arrayUtilities.tail, first = _necessary.arrayUtilities.first;
function eliminateDirectLeftRecursion(directlyLeftRecursiveRules, ruleMap) {
    directlyLeftRecursiveRules.forEach(function(directlyLeftRecursiveRule) {
        var rule = directlyLeftRecursiveRule, definitions = rule.getDefinitions(), directlyLeftRecursiveDefinitions = find(definitions, function(definition) {
            var definitionDirectlyLeftRecursiveDefinition = (0, _class).isInstanceOf(definition, _directly.default);
            if (definitionDirectlyLeftRecursiveDefinition) {
                return true;
            }
        }), directlyLeftRecursiveDefinition = mergeDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions);
        directlyLeftRecursiveDefinition.rewrite(ruleMap);
        rule.removeAllDefinitions();
        rule.addDefinition(directlyLeftRecursiveDefinition);
    });
}
function eliminateIndirectLeftRecursion(leftRecursiveDefinitions, ruleMap) {
    var indirectlyLeftRecursiveDefinitions = leftRecursiveDefinitions.filter(function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionIndirectlyLeftRecursiveDefinition = (0, _class).isInstanceOf(leftRecursiveDefinition, _indirectly.default);
        if (leftRecursiveDefinitionIndirectlyLeftRecursiveDefinition) {
            return true;
        }
    });
    indirectlyLeftRecursiveDefinitions.forEach(function(indirectlyLeftRecursiveDefinition) {
        var implicitlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getImplicitlyLeftRecursiveDefinition(), indirectlyLeftRecursiveRule = (0, _rule).ruleFromLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, ruleMap), implicitlyLeftRecursiveRule = (0, _rule).ruleFromLeftRecursiveDefinition(implicitlyLeftRecursiveDefinition, ruleMap), indirectlyLeftRecursiveRuleDirectlyLeftRecursive = (0, _rule).isRuleDirectlyLeftRecursive(indirectlyLeftRecursiveRule), implicitlyLeftRecursiveRuleDirectlyLeftRecursive = (0, _rule).isRuleDirectlyLeftRecursive(implicitlyLeftRecursiveRule);
        if (indirectlyLeftRecursiveRuleDirectlyLeftRecursive && implicitlyLeftRecursiveRuleDirectlyLeftRecursive) {
            var indirectlyLeftRecursiveDefinitionString = indirectlyLeftRecursiveDefinition.asString(), implicitlyLeftRecursiveDefinitionString = implicitlyLeftRecursiveDefinition.asString();
            throw new Error("The rules containing the '".concat(indirectlyLeftRecursiveDefinitionString, "' indirectly left recursive and ").concat(implicitlyLeftRecursiveDefinitionString, " implicitly left recursive definitions are both additionally directly recursive and therefore cannot be rewritten."));
        }
        var directlyLeftRecursiveRule = indirectlyLeftRecursiveRuleDirectlyLeftRecursive ? indirectlyLeftRecursiveRule : implicitlyLeftRecursiveRule, nonDirectlyLeftRecursiveRule = indirectlyLeftRecursiveRuleDirectlyLeftRecursive ? implicitlyLeftRecursiveRule : indirectlyLeftRecursiveRule; ///
        reduceNonDirectlyLeftRecursiveRule(nonDirectlyLeftRecursiveRule, ruleMap);
        var nonDirectlyLeftRecursiveDefinitions = retrieveNonDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveRule, nonDirectlyLeftRecursiveRule);
        rewriteNonDirectlyLeftRecursiveDefinitions(nonDirectlyLeftRecursiveDefinitions, nonDirectlyLeftRecursiveRule, ruleMap);
        reduceDirectlyLeftRecursiveRule(directlyLeftRecursiveRule, ruleMap);
    });
}
function reduceDirectlyLeftRecursiveRule(directlyLeftRecursiveRule, ruleMap) {
    var reducedRule = _reduced.default.fromDirectlyLeftRecursiveRule(directlyLeftRecursiveRule), reducedRuleName = reducedRule.getName();
    ruleMap[reducedRuleName] = reducedRule;
}
function retrieveLeftRecursiveDefinition(rule, definition, recursiveDefinitions, leftRecursiveDefinitions, ruleMap) {
    var recursiveDefinition;
    var ruleName = rule.getName(), definitionRecursiveDefinition = (0, _class).isInstanceOf(definition, _recursive.default);
    if (definitionRecursiveDefinition) {
        recursiveDefinition = definition; ///
    } else {
        var leftRecursiveDefinition = _indirectly.default.fromRuleNameDefinitionAndRecursiveDefinitions(ruleName, definition, recursiveDefinitions) || _directly.default.fromRuleNameAndDefinition(ruleName, definition) || _left.default.fromRuleNameAndDefinition(ruleName, definition);
        if (leftRecursiveDefinition !== null) {
            leftRecursiveDefinitions.push(leftRecursiveDefinition);
            recursiveDefinition = leftRecursiveDefinition; ///
        } else {
            recursiveDefinition = _recursive.default.fromRuleNameAndDefinition(ruleName, definition);
        }
        if (recursiveDefinition !== null) {
            var replacedDefinition = definition, replacementDefinition = recursiveDefinition; ///
            rule.replaceDefinition(replacedDefinition, replacementDefinition);
            var recursiveDefinitionIndirectlyLeftRecursiveDefinition = (0, _class).isInstanceOf(recursiveDefinition, _indirectly.default);
            if (recursiveDefinitionIndirectlyLeftRecursiveDefinition) {
                var indirectlyLeftRecursiveDefinition = recursiveDefinition, implicitlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition.getImplicitlyLeftRecursiveDefinition(), leftRecursiveDefinition1 = implicitlyLeftRecursiveDefinition.getLeftRecursiveDefinition(), ruleName1 = implicitlyLeftRecursiveDefinition.getRuleName(), replacedDefinition1 = leftRecursiveDefinition1, replacementDefinition1 = implicitlyLeftRecursiveDefinition; ///
                rule = ruleMap[ruleName1];
                rule.replaceDefinition(replacedDefinition1, replacementDefinition1);
            }
        }
    }
    return recursiveDefinition;
}
function retrieveLeftRecursiveDefinitions(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap) {
    var definitions = rule.getDefinitions();
    definitions.forEach(function(definition) {
        var recursiveDefinition = retrieveLeftRecursiveDefinition(rule, definition, recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
        if (recursiveDefinition !== null) {
            var previousRecursiveDefinitions = _toConsumableArray(recursiveDefinitions).concat([
                recursiveDefinition
            ]), previousRecursiveRuleNames = previousRecursiveDefinitions.map(function(previousRecursiveDefinition) {
                var previousRecursiveDefinitionRuleName = previousRecursiveDefinition.getRuleName(), previousRecursiveRuleName = previousRecursiveDefinitionRuleName; ///
                return previousRecursiveRuleName;
            }), recursiveRuleNames = recursiveDefinition.getRecursiveRuleNames();
            recursiveRuleNames.forEach(function(recursiveRuleName) {
                var previousRecursiveRuleNamesIncludesRecursiveRuleName = previousRecursiveRuleNames.includes(recursiveRuleName);
                if (!previousRecursiveRuleNamesIncludesRecursiveRuleName) {
                    var ruleName = recursiveRuleName, _$rule = ruleMap[ruleName] || null; ///
                    if (_$rule !== null) {
                        var _$recursiveDefinitions = previousRecursiveDefinitions; ///
                        retrieveLeftRecursiveDefinitions(_$rule, _$recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
                    }
                }
            });
        }
    });
}
function reduceNonDirectlyLeftRecursiveRule(nonDirectlyLeftRecursiveRule, ruleMap) {
    var reducedRule = _reduced.default.fromNonDirectlyLeftRecursiveRule(nonDirectlyLeftRecursiveRule), repeatedRule = _repeated.default.fromNonDirectlyLeftRecursiveRule(nonDirectlyLeftRecursiveRule), reducedRuleName = reducedRule.getName(), repeatedRuleName = repeatedRule.getName();
    ruleMap[reducedRuleName] = reducedRule;
    ruleMap[repeatedRuleName] = repeatedRuleName;
}
function retrieveDirectlyLeftRecursiveRules(directlyLeftRecursiveRules, leftRecursiveDefinitions, ruleMap) {
    leftRecursiveDefinitions.forEach(function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionDirectlyLeftRecursiveDefinition = (0, _class).isInstanceOf(leftRecursiveDefinition, _directly.default), leftRecursiveDefinitionIndirectlyLeftRecursiveDefinition = (0, _class).isInstanceOf(leftRecursiveDefinition, _indirectly.default), leftRecursiveDefinitionImplicitlyLeftRecursiveDefinition = (0, _class).isInstanceOf(leftRecursiveDefinition, _implicitly.default);
        if (leftRecursiveDefinitionDirectlyLeftRecursiveDefinition || leftRecursiveDefinitionIndirectlyLeftRecursiveDefinition || leftRecursiveDefinitionImplicitlyLeftRecursiveDefinition) {
            var ruleName = leftRecursiveDefinition.getRuleName(), rule = ruleMap[ruleName], definitions = rule.getDefinitions(), ruleDirectlyLeftRecursiveRule = definitions.some(function(definition) {
                var definitionDirectlyLeftRecursiveDefinition = (0, _class).isInstanceOf(definition, _directly.default);
                if (definitionDirectlyLeftRecursiveDefinition) {
                    return true;
                }
            });
            if (ruleDirectlyLeftRecursiveRule) {
                var directlyLeftRecursiveRule = rule, directlyLeftRecursiveRulesIncludesDirectlyLeftRecursiveRule = directlyLeftRecursiveRules.includes(directlyLeftRecursiveRule);
                if (!directlyLeftRecursiveRulesIncludesDirectlyLeftRecursiveRule) {
                    directlyLeftRecursiveRules.push(directlyLeftRecursiveRule);
                }
            }
        }
    });
}
function mergeDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions) {
    var directlyLeftRecursiveDefinition;
    var firstDirectlyLeftRecursiveDefinition = first(directlyLeftRecursiveDefinitions), directlyLeftRecursiveDefinitionsLength = directlyLeftRecursiveDefinitions.length;
    if (directlyLeftRecursiveDefinitionsLength === 1) {
        directlyLeftRecursiveDefinition = firstDirectlyLeftRecursiveDefinition; ///
    } else {
        var parts;
        parts = firstDirectlyLeftRecursiveDefinition.getParts(); ///
        var firstPart = first(parts), part = firstPart; ///
        var singleParts = directlyLeftRecursiveDefinitions.map(function(directlyLeftRecursiveDefinition) {
            directlyLeftRecursiveDefinition.removeFirstPart();
            var parts = directlyLeftRecursiveDefinition.getParts(), singlePart = (0, _parts).singlePartFromParts(parts);
            return singlePart;
        });
        parts = singleParts; ///
        var choiceOfPartsPart = new ChoiceOfPartsPart(parts);
        parts = [
            part,
            choiceOfPartsPart
        ];
        var ruleName = firstDirectlyLeftRecursiveDefinition.getRuleName();
        directlyLeftRecursiveDefinition = _directly.default.fromRuleNameAndParts(ruleName, parts);
    }
    return directlyLeftRecursiveDefinition;
}
function rewriteNonDirectlyLeftRecursiveDefinition(nonDirectlyLeftRecursiveDefinition, nonDirectlyLeftRecursiveRule, ruleMap) {
    var _rule;
    var definitions = nonDirectlyLeftRecursiveRule.getDefinitions(), rewrittenDefinitions = definitions.map(function(definition, index) {
        var Definition = index === 0 ? _directly.default : _left.default;
        var definitionParts = definition.getParts(), nonDirectlyLeftRecursiveDefinitionParts = nonDirectlyLeftRecursiveDefinition.getParts();
        definitionParts = (0, _parts).cloneParts(definitionParts); ///
        nonDirectlyLeftRecursiveDefinitionParts = tail((0, _parts).cloneParts(nonDirectlyLeftRecursiveDefinitionParts)); ///
        var parts = _toConsumableArray(definitionParts).concat(_toConsumableArray(nonDirectlyLeftRecursiveDefinitionParts));
        var ruleName = nonDirectlyLeftRecursiveDefinition.getRuleName(), recursiveRuleNames = null, leftRecursiveRuleNames = null; ///
        definition = new Definition(parts, ruleName, recursiveRuleNames, leftRecursiveRuleNames); ///
        var rewrittenDefinition = definition; ///
        return rewrittenDefinition;
    }), ruleName = nonDirectlyLeftRecursiveDefinition.getRuleName(), rule = ruleMap[ruleName], replacedDefinition = nonDirectlyLeftRecursiveDefinition, replacementDefinitions = rewrittenDefinitions; ///
    (_rule = rule).replaceDefinition.apply(_rule, [
        replacedDefinition
    ].concat(_toConsumableArray(replacementDefinitions)));
}
function rewriteNonDirectlyLeftRecursiveDefinitions(nonDirectlyLeftRecursiveDefinitions, nonDirectlyLeftRecursiveRule, ruleMap) {
    nonDirectlyLeftRecursiveDefinitions.forEach(function(nonDirectlyLeftRecursiveDefinition) {
        rewriteNonDirectlyLeftRecursiveDefinition(nonDirectlyLeftRecursiveDefinition, nonDirectlyLeftRecursiveRule, ruleMap);
    });
}
function retrieveNonDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveRule, nonDirectlyLeftRecursiveRule) {
    var nonDirectlyLeftRecursiveRuleName = nonDirectlyLeftRecursiveRule.getName(), rule = directlyLeftRecursiveRule, ruleName = nonDirectlyLeftRecursiveRuleName, definitions = rule.getDefinitions(), nonDirectlyLeftRecursiveDefinitions = definitions.filter(function(definition) {
        var definitionLeftRecursiveDefinition = (0, _class).isInstanceOf(definition, _left.default);
        if (definitionLeftRecursiveDefinition) {
            var leftRecursiveDefinition = definition, leftRecursiveRuleNames = leftRecursiveDefinition.getLeftRecursiveRuleNames(), firstLeftRecursiveRuleName = first(leftRecursiveRuleNames), leftRecursiveRuleName = firstLeftRecursiveRuleName; ///
            if (leftRecursiveRuleName === ruleName) {
                return true;
            }
        }
    });
    return nonDirectlyLeftRecursiveDefinitions;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVMZWZ0UmVjdXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBQYXJ0cyB9IGZyb20gXCJvY2NhbS1wYXJzZXJzXCI7XG5pbXBvcnQgeyBhcnJheVV0aWxpdGllcyB9IGZyb20gXCJuZWNlc3NhcnlcIjtcblxuaW1wb3J0IFJlZHVjZWRSdWxlIGZyb20gXCIuL3J1bGUvcmVkdWNlZFwiO1xuaW1wb3J0IFJlcGVhdGVkUnVsZSBmcm9tIFwiLi9ydWxlL3JlcGVhdGVkXCI7XG5pbXBvcnQgUmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZVwiO1xuaW1wb3J0IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnRcIjtcbmltcG9ydCBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnQvZGlyZWN0bHlcIjtcbmltcG9ydCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gZnJvbSBcIi4vZGVmaW5pdGlvbi9yZWN1cnNpdmUvbGVmdC9pbmRpcmVjdGx5XCI7XG5pbXBvcnQgSW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnQvaW1wbGljaXRseVwiO1xuXG5pbXBvcnQgeyBpc0luc3RhbmNlT2YgfSBmcm9tIFwiLi91dGlsaXRpZXMvY2xhc3NcIjtcbmltcG9ydCB7IGNsb25lUGFydHMsIHNpbmdsZVBhcnRGcm9tUGFydHMgfSBmcm9tIFwiLi91dGlsaXRpZXMvcGFydHNcIjtcbmltcG9ydCB7IGlzUnVsZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZSwgcnVsZUZyb21MZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiB9IGZyb20gXCIuL3V0aWxpdGllcy9ydWxlXCI7XG5cbmNvbnN0IHsgQ2hvaWNlT2ZQYXJ0c1BhcnQgfSA9IFBhcnRzLFxuICAgICAgeyBmaW5kLCB0YWlsLCBmaXJzdCB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsaW1pbmF0ZUxlZnRSZWN1cnNpb24oc3RhcnRSdWxlLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJ1bGUgPSBzdGFydFJ1bGUsIC8vL1xuICAgICAgICByZWN1cnNpdmVEZWZpbml0aW9ucyA9IFtdLFxuICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBbXSxcbiAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMgPSBbXTtcblxuICByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCByZWN1cnNpdmVEZWZpbml0aW9ucywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICBlbGltaW5hdGVJbmRpcmVjdExlZnRSZWN1cnNpb24obGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICByZXRyaWV2ZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApO1xuXG4gIGVsaW1pbmF0ZURpcmVjdExlZnRSZWN1cnNpb24oZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMsIHJ1bGVNYXApO1xuXG4gIGNvbnN0IHN0YXJ0UnVsZU5hbWUgPSBzdGFydFJ1bGUuZ2V0TmFtZSgpO1xuXG4gIHN0YXJ0UnVsZSA9IHJ1bGVNYXBbc3RhcnRSdWxlTmFtZV07IC8vL1xuXG4gIHJldHVybiBzdGFydFJ1bGU7XG59XG5cbmZ1bmN0aW9uIGVsaW1pbmF0ZURpcmVjdExlZnRSZWN1cnNpb24oZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMsIHJ1bGVNYXApIHtcbiAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMuZm9yRWFjaCgoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSkgPT4ge1xuICAgIGNvbnN0IHJ1bGUgPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCAvLy9cbiAgICAgICAgICBkZWZpbml0aW9ucyA9IHJ1bGUuZ2V0RGVmaW5pdGlvbnMoKSxcbiAgICAgICAgICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGZpbmQoZGVmaW5pdGlvbnMsIChkZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGlzSW5zdGFuY2VPZihkZWZpbml0aW9uLCBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgICAgICAgICAgaWYgKGRlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBtZXJnZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICAgIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24ucmV3cml0ZShydWxlTWFwKTtcblxuICAgIHJ1bGUucmVtb3ZlQWxsRGVmaW5pdGlvbnMoKTtcblxuICAgIHJ1bGUuYWRkRGVmaW5pdGlvbihkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5maWx0ZXIoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpc0luc3RhbmNlT2YobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICBpZiAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5mb3JFYWNoKChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBjb25zdCBpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0SW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKCksXG4gICAgICAgICAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlID0gcnVsZUZyb21MZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIHJ1bGVNYXApLFxuICAgICAgICAgIGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZSA9IHJ1bGVGcm9tTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24oaW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLCBydWxlTWFwKSxcbiAgICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVEaXJlY3RseUxlZnRSZWN1cnNpdmUgPSBpc1J1bGVEaXJlY3RseUxlZnRSZWN1cnNpdmUoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKSxcbiAgICAgICAgICBpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVEaXJlY3RseUxlZnRSZWN1cnNpdmUgPSBpc1J1bGVEaXJlY3RseUxlZnRSZWN1cnNpdmUoaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlKTtcblxuICAgIGlmIChpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVEaXJlY3RseUxlZnRSZWN1cnNpdmUgJiYgaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlKSB7XG4gICAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25TdHJpbmcgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uYXNTdHJpbmcoKSxcbiAgICAgICAgICAgIGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvblN0cmluZyA9IGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5hc1N0cmluZygpO1xuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBydWxlcyBjb250YWluaW5nIHRoZSAnJHtpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25TdHJpbmd9JyBpbmRpcmVjdGx5IGxlZnQgcmVjdXJzaXZlIGFuZCAke2ltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvblN0cmluZ30gaW1wbGljaXRseSBsZWZ0IHJlY3Vyc2l2ZSBkZWZpbml0aW9ucyBhcmUgYm90aCBhZGRpdGlvbmFsbHkgZGlyZWN0bHkgcmVjdXJzaXZlIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIHJld3JpdHRlbi5gKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUgOiAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgIC8vL1xuICAgICAgICAgIG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVEaXJlY3RseUxlZnRSZWN1cnNpdmUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlUnVsZSA6ICAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZTsgLy8vXG5cbiAgICByZWR1Y2VOb25EaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIHJ1bGVNYXApO1xuXG4gICAgY29uc3Qgbm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSByZXRyaWV2ZU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUpO1xuXG4gICAgcmV3cml0ZU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBub25EaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCBydWxlTWFwKTtcblxuICAgIHJlZHVjZURpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgcnVsZU1hcCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZWR1Y2VEaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIHJ1bGVNYXApIHtcbiAgY29uc3QgcmVkdWNlZFJ1bGUgPSBSZWR1Y2VkUnVsZS5mcm9tRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZShkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKSxcbiAgICAgICAgcmVkdWNlZFJ1bGVOYW1lID0gcmVkdWNlZFJ1bGUuZ2V0TmFtZSgpO1xuXG4gIHJ1bGVNYXBbcmVkdWNlZFJ1bGVOYW1lXSA9IHJlZHVjZWRSdWxlO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKHJ1bGUsIGRlZmluaXRpb24sIHJlY3Vyc2l2ZURlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgbGV0IHJlY3Vyc2l2ZURlZmluaXRpb247XG5cbiAgY29uc3QgcnVsZU5hbWUgPSBydWxlLmdldE5hbWUoKSxcbiAgICAgICAgZGVmaW5pdGlvblJlY3Vyc2l2ZURlZmluaXRpb24gPSBpc0luc3RhbmNlT2YoZGVmaW5pdGlvbiwgUmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgaWYgKGRlZmluaXRpb25SZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgcmVjdXJzaXZlRGVmaW5pdGlvbiA9IGRlZmluaXRpb247IC8vL1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZURlZmluaXRpb25BbmRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlTmFtZSwgZGVmaW5pdGlvbiwgcmVjdXJzaXZlRGVmaW5pdGlvbnMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZUFuZERlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5mcm9tUnVsZU5hbWVBbmREZWZpbml0aW9uKHJ1bGVOYW1lLCBkZWZpbml0aW9uKTtcblxuICAgIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiAhPT0gbnVsbCkge1xuICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLnB1c2gobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gICAgICByZWN1cnNpdmVEZWZpbml0aW9uID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb247ICAvLy9cbiAgICB9IGVsc2Uge1xuICAgICAgcmVjdXJzaXZlRGVmaW5pdGlvbiA9IFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbVJ1bGVOYW1lQW5kRGVmaW5pdGlvbihydWxlTmFtZSwgZGVmaW5pdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKHJlY3Vyc2l2ZURlZmluaXRpb24gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHJlcGxhY2VkRGVmaW5pdGlvbiA9IGRlZmluaXRpb24sIC8vL1xuICAgICAgICAgICAgcmVwbGFjZW1lbnREZWZpbml0aW9uID0gcmVjdXJzaXZlRGVmaW5pdGlvbjsgIC8vL1xuXG4gICAgICBydWxlLnJlcGxhY2VEZWZpbml0aW9uKHJlcGxhY2VkRGVmaW5pdGlvbiwgcmVwbGFjZW1lbnREZWZpbml0aW9uKTtcblxuICAgICAgY29uc3QgcmVjdXJzaXZlRGVmaW5pdGlvbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGlzSW5zdGFuY2VPZihyZWN1cnNpdmVEZWZpbml0aW9uLCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuXG4gICAgICBpZiAocmVjdXJzaXZlRGVmaW5pdGlvbkluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSByZWN1cnNpdmVEZWZpbml0aW9uLCAvLy9cbiAgICAgICAgICAgICAgaW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldEltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbigpLFxuICAgICAgICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbigpLFxuICAgICAgICAgICAgICBydWxlTmFtZSA9IGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlTmFtZSgpLFxuICAgICAgICAgICAgICByZXBsYWNlZERlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgLy8vXG4gICAgICAgICAgICAgIHJlcGxhY2VtZW50RGVmaW5pdGlvbiA9IGltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjsgIC8vL1xuXG4gICAgICAgIHJ1bGUgPSBydWxlTWFwW3J1bGVOYW1lXTtcblxuICAgICAgICBydWxlLnJlcGxhY2VEZWZpbml0aW9uKHJlcGxhY2VkRGVmaW5pdGlvbiwgcmVwbGFjZW1lbnREZWZpbml0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgcmVjdXJzaXZlRGVmaW5pdGlvbnMsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkge1xuICBjb25zdCBkZWZpbml0aW9ucyA9IHJ1bGUuZ2V0RGVmaW5pdGlvbnMoKTtcblxuICBkZWZpbml0aW9ucy5mb3JFYWNoKChkZWZpbml0aW9uKSA9PiB7XG4gICAgY29uc3QgcmVjdXJzaXZlRGVmaW5pdGlvbiA9IHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24ocnVsZSwgZGVmaW5pdGlvbiwgcmVjdXJzaXZlRGVmaW5pdGlvbnMsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgICBpZiAocmVjdXJzaXZlRGVmaW5pdGlvbiAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNSZWN1cnNpdmVEZWZpbml0aW9ucyA9IFsgLi4ucmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJlY3Vyc2l2ZURlZmluaXRpb24gXSxcbiAgICAgICAgICAgIHByZXZpb3VzUmVjdXJzaXZlUnVsZU5hbWVzID0gcHJldmlvdXNSZWN1cnNpdmVEZWZpbml0aW9ucy5tYXAoKHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1JlY3Vyc2l2ZURlZmluaXRpb25SdWxlTmFtZSA9IHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlTmFtZSgpLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lID0gcHJldmlvdXNSZWN1cnNpdmVEZWZpbml0aW9uUnVsZU5hbWU7ICAvLy9cblxuICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcmVjdXJzaXZlUnVsZU5hbWVzID0gcmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSZWN1cnNpdmVSdWxlTmFtZXMoKTtcblxuICAgICAgcmVjdXJzaXZlUnVsZU5hbWVzLmZvckVhY2goKHJlY3Vyc2l2ZVJ1bGVOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzUmVjdXJzaXZlUnVsZU5hbWVzSW5jbHVkZXNSZWN1cnNpdmVSdWxlTmFtZSA9IHByZXZpb3VzUmVjdXJzaXZlUnVsZU5hbWVzLmluY2x1ZGVzKHJlY3Vyc2l2ZVJ1bGVOYW1lKTtcblxuICAgICAgICBpZiAoIXByZXZpb3VzUmVjdXJzaXZlUnVsZU5hbWVzSW5jbHVkZXNSZWN1cnNpdmVSdWxlTmFtZSkge1xuICAgICAgICAgIGNvbnN0IHJ1bGVOYW1lID0gcmVjdXJzaXZlUnVsZU5hbWUsICAvLy9cbiAgICAgICAgICAgICAgICBydWxlID0gcnVsZU1hcFtydWxlTmFtZV0gfHwgbnVsbDsgLy8vXG5cbiAgICAgICAgICBpZiAocnVsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBwcmV2aW91c1JlY3Vyc2l2ZURlZmluaXRpb25zOyAgLy8vXG5cbiAgICAgICAgICAgIHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKHJ1bGUsIHJlY3Vyc2l2ZURlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVkdWNlTm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZShub25EaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJlZHVjZWRSdWxlID0gUmVkdWNlZFJ1bGUuZnJvbU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUobm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSksXG4gICAgICAgIHJlcGVhdGVkUnVsZSA9IFJlcGVhdGVkUnVsZS5mcm9tTm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZShub25EaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKSxcbiAgICAgICAgcmVkdWNlZFJ1bGVOYW1lID0gcmVkdWNlZFJ1bGUuZ2V0TmFtZSgpLFxuICAgICAgICByZXBlYXRlZFJ1bGVOYW1lID0gcmVwZWF0ZWRSdWxlLmdldE5hbWUoKTtcblxuICBydWxlTWFwW3JlZHVjZWRSdWxlTmFtZV0gPSByZWR1Y2VkUnVsZTtcblxuICBydWxlTWFwW3JlcGVhdGVkUnVsZU5hbWVdID0gcmVwZWF0ZWRSdWxlTmFtZTtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVEaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcyhkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlcywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5mb3JFYWNoKChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikgPT4ge1xuICAgIGNvbnN0IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGlzSW5zdGFuY2VPZihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiksXG4gICAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpc0luc3RhbmNlT2YobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiksXG4gICAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25JbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpc0luc3RhbmNlT2YobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIEltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICBpZiAobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIHx8IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIHx8IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uSW1wbGljaXRseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICBjb25zdCBydWxlTmFtZSA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCksXG4gICAgICAgICAgICBydWxlID0gcnVsZU1hcFtydWxlTmFtZV0sXG4gICAgICAgICAgICBkZWZpbml0aW9ucyA9IHJ1bGUuZ2V0RGVmaW5pdGlvbnMoKSxcbiAgICAgICAgICAgIHJ1bGVEaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlID0gZGVmaW5pdGlvbnMuc29tZSgoZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGlzSW5zdGFuY2VPZihkZWZpbml0aW9uLCBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgICAgICAgICAgICBpZiAoZGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgIGlmIChydWxlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSkge1xuICAgICAgICBjb25zdCBkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlID0gcnVsZSwgLy8vXG4gICAgICAgICAgICAgIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzSW5jbHVkZXNEaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMuaW5jbHVkZXMoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSk7XG5cbiAgICAgICAgaWYgKCFkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlc0luY2x1ZGVzRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSkge1xuXG4gICAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMucHVzaChkaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpIHtcbiAgbGV0IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247XG5cbiAgY29uc3QgZmlyc3REaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZmlyc3QoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpLFxuICAgICAgICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0xlbmd0aCA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLmxlbmd0aDtcblxuICBpZiAoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNMZW5ndGggPT09IDEpIHtcbiAgICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZmlyc3REaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uOyAvLy9cbiAgfSBlbHNlIHtcbiAgICBsZXQgcGFydHM7XG5cbiAgICBwYXJ0cyA9IGZpcnN0RGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRQYXJ0cygpOyAgLy8vXG5cbiAgICBjb25zdCBmaXJzdFBhcnQgPSBmaXJzdChwYXJ0cyksXG4gICAgICAgICAgcGFydCA9IGZpcnN0UGFydDsgLy8vXG5cbiAgICBjb25zdCBzaW5nbGVQYXJ0cyA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLm1hcCgoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikgPT4ge1xuICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5yZW1vdmVGaXJzdFBhcnQoKTtcblxuICAgICAgY29uc3QgcGFydHMgPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFBhcnRzKCksXG4gICAgICAgICAgICBzaW5nbGVQYXJ0ID0gc2luZ2xlUGFydEZyb21QYXJ0cyhwYXJ0cyk7XG5cbiAgICAgIHJldHVybiBzaW5nbGVQYXJ0O1xuICAgIH0pO1xuXG4gICAgcGFydHMgPSBzaW5nbGVQYXJ0czsgIC8vL1xuXG4gICAgY29uc3QgY2hvaWNlT2ZQYXJ0c1BhcnQgPSBuZXcgQ2hvaWNlT2ZQYXJ0c1BhcnQocGFydHMpO1xuXG4gICAgcGFydHMgPSBbIC8vL1xuICAgICAgcGFydCxcbiAgICAgIGNob2ljZU9mUGFydHNQYXJ0XG4gICAgXVxuXG4gICAgY29uc3QgcnVsZU5hbWUgPSBmaXJzdERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZU5hbWUoKTtcblxuICAgIGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZUFuZFBhcnRzKHJ1bGVOYW1lLCBwYXJ0cyk7XG4gIH1cblxuICByZXR1cm4gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gcmV3cml0ZU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24obm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgcnVsZU1hcCkge1xuICBjb25zdCBkZWZpbml0aW9ucyA9IG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUuZ2V0RGVmaW5pdGlvbnMoKSxcbiAgICAgICAgcmV3cml0dGVuRGVmaW5pdGlvbnMgPSBkZWZpbml0aW9ucy5tYXAoKGRlZmluaXRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgRGVmaW5pdGlvbiA9IChpbmRleCA9PT0gMCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGVmdFJlY3Vyc2l2ZURlZmluaXRpb247XG5cbiAgICAgICAgICBsZXQgZGVmaW5pdGlvblBhcnRzID0gZGVmaW5pdGlvbi5nZXRQYXJ0cygpLFxuICAgICAgICAgICAgICBub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uUGFydHMgPSBub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFBhcnRzKCk7XG5cbiAgICAgICAgICBkZWZpbml0aW9uUGFydHMgPSBjbG9uZVBhcnRzKGRlZmluaXRpb25QYXJ0cyk7ICAvLy9cblxuICAgICAgICAgIG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25QYXJ0cyA9IHRhaWwoY2xvbmVQYXJ0cyhub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uUGFydHMpKTsgIC8vL1xuXG4gICAgICAgICAgY29uc3QgcGFydHMgPSBbXG4gICAgICAgICAgICAuLi5kZWZpbml0aW9uUGFydHMsXG4gICAgICAgICAgICAuLi5ub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uUGFydHNcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgY29uc3QgcnVsZU5hbWUgPSBub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCksXG4gICAgICAgICAgICAgICAgcmVjdXJzaXZlUnVsZU5hbWVzID0gbnVsbCwgIC8vL1xuICAgICAgICAgICAgICAgIGxlZnRSZWN1cnNpdmVSdWxlTmFtZXMgPSBudWxsOyAgLy8vXG5cbiAgICAgICAgICBkZWZpbml0aW9uID0gbmV3IERlZmluaXRpb24ocGFydHMsIHJ1bGVOYW1lLCByZWN1cnNpdmVSdWxlTmFtZXMsIGxlZnRSZWN1cnNpdmVSdWxlTmFtZXMpOyAvLy9cblxuICAgICAgICAgIGNvbnN0IHJld3JpdHRlbkRlZmluaXRpb24gPSBkZWZpbml0aW9uOyAvLy9cblxuICAgICAgICAgIHJldHVybiByZXdyaXR0ZW5EZWZpbml0aW9uO1xuICAgICAgICB9KSxcbiAgICAgICAgcnVsZU5hbWUgPSBub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCksXG4gICAgICAgIHJ1bGUgPSBydWxlTWFwW3J1bGVOYW1lXSxcbiAgICAgICAgcmVwbGFjZWREZWZpbml0aW9uID0gbm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgIC8vL1xuICAgICAgICByZXBsYWNlbWVudERlZmluaXRpb25zID0gcmV3cml0dGVuRGVmaW5pdGlvbnM7ICAvLy9cblxuICBydWxlLnJlcGxhY2VEZWZpbml0aW9uKHJlcGxhY2VkRGVmaW5pdGlvbiwgLi4ucmVwbGFjZW1lbnREZWZpbml0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJld3JpdGVOb25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgbm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgcnVsZU1hcCkge1xuICBub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5mb3JFYWNoKChub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgcmV3cml0ZU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24obm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgbm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSwgcnVsZU1hcCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUpIHtcbiAgY29uc3Qgbm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBub25EaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlLmdldE5hbWUoKSxcbiAgICAgICAgcnVsZSA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUsIC8vL1xuICAgICAgICBydWxlTmFtZSA9IG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lLCAgLy8vXG4gICAgICAgIGRlZmluaXRpb25zID0gcnVsZS5nZXREZWZpbml0aW9ucygpLFxuICAgICAgICBub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGRlZmluaXRpb25zLmZpbHRlcigoZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlZmluaXRpb25MZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGlzSW5zdGFuY2VPZihkZWZpbml0aW9uLCBMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICAgICAgICBpZiAoZGVmaW5pdGlvbkxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGRlZmluaXRpb24sIC8vL1xuICAgICAgICAgICAgICAgICAgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldExlZnRSZWN1cnNpdmVSdWxlTmFtZXMoKSxcbiAgICAgICAgICAgICAgICAgIGZpcnN0TGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lID0gZmlyc3QobGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyksXG4gICAgICAgICAgICAgICAgICBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBmaXJzdExlZnRSZWN1cnNpdmVSdWxlTmFtZTsgLy8vXG5cbiAgICAgICAgICAgIGlmIChsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPT09IHJ1bGVOYW1lKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgcmV0dXJuIG5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zO1xufVxuIl0sIm5hbWVzIjpbImVsaW1pbmF0ZUxlZnRSZWN1cnNpb24iLCJzdGFydFJ1bGUiLCJydWxlTWFwIiwicnVsZSIsInJlY3Vyc2l2ZURlZmluaXRpb25zIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMiLCJyZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImVsaW1pbmF0ZUluZGlyZWN0TGVmdFJlY3Vyc2lvbiIsInJldHJpZXZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZXMiLCJlbGltaW5hdGVEaXJlY3RMZWZ0UmVjdXJzaW9uIiwic3RhcnRSdWxlTmFtZSIsImdldE5hbWUiLCJDaG9pY2VPZlBhcnRzUGFydCIsIlBhcnRzIiwiZmluZCIsImFycmF5VXRpbGl0aWVzIiwidGFpbCIsImZpcnN0IiwiZm9yRWFjaCIsImRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUiLCJkZWZpbml0aW9ucyIsImdldERlZmluaXRpb25zIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJkZWZpbml0aW9uIiwiZGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpc0luc3RhbmNlT2YiLCJEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsIm1lcmdlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZXdyaXRlIiwicmVtb3ZlQWxsRGVmaW5pdGlvbnMiLCJhZGREZWZpbml0aW9uIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImZpbHRlciIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25JbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJnZXRJbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUiLCJydWxlRnJvbUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlIiwiaXNSdWxlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlIiwiaW1wbGljaXRseUxlZnRSZWN1cnNpdmVSdWxlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlIiwiaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uU3RyaW5nIiwiYXNTdHJpbmciLCJpbXBsaWNpdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25TdHJpbmciLCJFcnJvciIsIm5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGUiLCJyZWR1Y2VOb25EaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlIiwibm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZXRyaWV2ZU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV3cml0ZU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmVkdWNlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsInJlZHVjZWRSdWxlIiwiUmVkdWNlZFJ1bGUiLCJmcm9tRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsInJlZHVjZWRSdWxlTmFtZSIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZWN1cnNpdmVEZWZpbml0aW9uIiwicnVsZU5hbWUiLCJkZWZpbml0aW9uUmVjdXJzaXZlRGVmaW5pdGlvbiIsIlJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tUnVsZU5hbWVEZWZpbml0aW9uQW5kUmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJmcm9tUnVsZU5hbWVBbmREZWZpbml0aW9uIiwiTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJwdXNoIiwicmVwbGFjZWREZWZpbml0aW9uIiwicmVwbGFjZW1lbnREZWZpbml0aW9uIiwicmVwbGFjZURlZmluaXRpb24iLCJyZWN1cnNpdmVEZWZpbml0aW9uSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZ2V0TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJnZXRSdWxlTmFtZSIsInByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lcyIsIm1hcCIsInByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbiIsInByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvblJ1bGVOYW1lIiwicHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZSIsInJlY3Vyc2l2ZVJ1bGVOYW1lcyIsImdldFJlY3Vyc2l2ZVJ1bGVOYW1lcyIsInJlY3Vyc2l2ZVJ1bGVOYW1lIiwicHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZXNJbmNsdWRlc1JlY3Vyc2l2ZVJ1bGVOYW1lIiwiaW5jbHVkZXMiLCJmcm9tTm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZSIsInJlcGVhdGVkUnVsZSIsIlJlcGVhdGVkUnVsZSIsInJlcGVhdGVkUnVsZU5hbWUiLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsIkltcGxpY2l0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJ1bGVEaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlIiwic29tZSIsImRpcmVjdGx5TGVmdFJlY3Vyc2l2ZVJ1bGVzSW5jbHVkZXNEaXJlY3RseUxlZnRSZWN1cnNpdmVSdWxlIiwiZmlyc3REaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNMZW5ndGgiLCJsZW5ndGgiLCJwYXJ0cyIsImdldFBhcnRzIiwiZmlyc3RQYXJ0IiwicGFydCIsInNpbmdsZVBhcnRzIiwicmVtb3ZlRmlyc3RQYXJ0Iiwic2luZ2xlUGFydCIsInNpbmdsZVBhcnRGcm9tUGFydHMiLCJjaG9pY2VPZlBhcnRzUGFydCIsImZyb21SdWxlTmFtZUFuZFBhcnRzIiwicmV3cml0ZU5vbkRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwicmV3cml0dGVuRGVmaW5pdGlvbnMiLCJpbmRleCIsIkRlZmluaXRpb24iLCJkZWZpbml0aW9uUGFydHMiLCJub25EaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uUGFydHMiLCJjbG9uZVBhcnRzIiwibGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lcyIsInJld3JpdHRlbkRlZmluaXRpb24iLCJyZXBsYWNlbWVudERlZmluaXRpb25zIiwibm9uRGlyZWN0bHlMZWZ0UmVjdXJzaXZlUnVsZU5hbWUiLCJkZWZpbml0aW9uTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJnZXRMZWZ0UmVjdXJzaXZlUnVsZU5hbWVzIiwiZmlyc3RMZWZ0UmVjdXJzaXZlUnVsZU5hbWUiLCJsZWZ0UmVjdXJzaXZlUnVsZU5hbWUiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7OztrQkFvQldBLHNCQUFzQjtBQWxCeEIsSUFBQSxhQUFlLFdBQWYsZUFBZSxDQUFBO0FBQ04sSUFBQSxVQUFXLFdBQVgsV0FBVyxDQUFBO0FBRWxCLElBQUEsUUFBZ0Isa0NBQWhCLGdCQUFnQixFQUFBO0FBQ2YsSUFBQSxTQUFpQixrQ0FBakIsaUJBQWlCLEVBQUE7QUFDVixJQUFBLFVBQXdCLGtDQUF4Qix3QkFBd0IsRUFBQTtBQUNwQixJQUFBLEtBQTZCLGtDQUE3Qiw2QkFBNkIsRUFBQTtBQUNyQixJQUFBLFNBQXNDLGtDQUF0QyxzQ0FBc0MsRUFBQTtBQUNwQyxJQUFBLFdBQXdDLGtDQUF4Qyx3Q0FBd0MsRUFBQTtBQUN4QyxJQUFBLFdBQXdDLGtDQUF4Qyx3Q0FBd0MsRUFBQTtBQUV6RCxJQUFBLE1BQW1CLFdBQW5CLG1CQUFtQixDQUFBO0FBQ0EsSUFBQSxNQUFtQixXQUFuQixtQkFBbUIsQ0FBQTtBQUNVLElBQUEsS0FBa0IsV0FBbEIsa0JBQWtCLENBQUE7QUFLaEYsU0FBU0Esc0JBQXNCLENBQUNDLFNBQVMsRUFBRUMsT0FBTyxFQUFFO0lBQ2pFLElBQU1DLElBQUksR0FBR0YsU0FBUyxFQUNoQkcsb0JBQW9CLEdBQUcsRUFBRSxFQUN6QkMsd0JBQXdCLEdBQUcsRUFBRSxFQUM3QkMsMEJBQTBCLEdBQUcsRUFBRSxBQUFDO0lBRXRDQyxnQ0FBZ0MsQ0FBQ0os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