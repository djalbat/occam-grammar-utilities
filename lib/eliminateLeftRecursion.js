"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = eliminateLeftRecursion;
var _rewritten = _interopRequireDefault(require("./rule/rewritten"));
var _recursive = _interopRequireDefault(require("./definition/recursive"));
var _rewritten1 = _interopRequireDefault(require("./definition/rewritten"));
var _directly = _interopRequireDefault(require("./definition/leftRecursive/directly"));
var _class = require("./utilities/class");
function eliminateLeftRecursion(startRule, ruleMap) {
    var rule = startRule, recursiveDefinitions = [], leftRecursiveDefinitions = [];
    retrieveLeftRecursiveDefinitions(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
    rewriteLeftRecursiveDefinitions(leftRecursiveDefinitions, ruleMap);
    var rewrittenRules = retrieveRewrittenRules(ruleMap);
    pruneRewrittenRules(rewrittenRules, ruleMap);
    var startRuleName = startRule.getName();
    startRule = ruleMap[startRuleName]; ///
    return startRule;
}
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
function pruneRewrittenRules(rewrittenRules, ruleMap) {
    rewrittenRules.forEach(function(rewrittenRule) {
        rewrittenRule.prune(ruleMap, _rewritten1.default);
    });
}
function retrieveRewrittenRules(ruleMap) {
    var rules = Object.values(ruleMap), rewrittenRules1 = rules.reduce(function(rewrittenRules, rule) {
        var ruleRewrittenRule = (0, _class).isInstanceOf(rule, _rewritten.default);
        if (ruleRewrittenRule) {
            var rewrittenRule = rule; ///
            rewrittenRules.push(rewrittenRule);
        }
        return rewrittenRules;
    }, []);
    return rewrittenRules1;
}
function rewriteLeftRecursiveDefinitions(leftRecursiveDefinitions, ruleMap) {
    leftRecursiveDefinitions.forEach(function(leftRecursiveDefinition) {
        leftRecursiveDefinition.rewrite(ruleMap);
    });
}
function retrieveLeftRecursiveDefinition(ruleName, definition, recursiveDefinitions, leftRecursiveDefinitions) {
    var leftRecursiveDefinitionMatchesDefinition1 = leftRecursiveDefinitions.some(function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionMatchesDefinition = leftRecursiveDefinition.match(definition);
        if (leftRecursiveDefinitionMatchesDefinition) {
            return true;
        }
    });
    if (leftRecursiveDefinitionMatchesDefinition1) {
        return;
    }
    var leftRecursiveDefinition1 = _directly.default.fromRuleNameAndDefinition(ruleName, definition); /// ||
    /// IndirectlyLeftRecursiveDefinition.fromRuleNameDefinitionAndRecursiveDefinitions(ruleName, definition, recursiveDefinitions); */
    if (leftRecursiveDefinition1 !== null) {
        leftRecursiveDefinitions.push(leftRecursiveDefinition1);
    }
}
function retrieveLeftRecursiveDefinitions(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap) {
    var ruleName1 = rule.getName(), definitions = rule.getDefinitions();
    definitions.forEach(function(definition) {
        retrieveLeftRecursiveDefinition(ruleName1, definition, recursiveDefinitions, leftRecursiveDefinitions);
        var recursiveDefinition = _recursive.default.fromRuleNameAndDefinition(ruleName1, definition);
        if (recursiveDefinition !== null) {
            var previousRecursiveDefinitions = _toConsumableArray(recursiveDefinitions).concat([
                recursiveDefinition
            ]), previousRecursiveRuleNames = previousRecursiveDefinitions.map(function(previousRecursiveDefinition) {
                return recursiveRuleNameFromRecursiveDefinition(previousRecursiveDefinition);
            }), recursiveRuleNames = recursiveDefinition.getRecursiveRuleNames();
            recursiveRuleNames.forEach(function(recursiveRuleName) {
                var previousRecursiveRuleNamesIncludesRecursiveRuleName = previousRecursiveRuleNames.includes(recursiveRuleName);
                if (!previousRecursiveRuleNamesIncludesRecursiveRuleName) {
                    var ruleName = recursiveRuleName, _$rule = ruleMap[ruleName] || null; ///
                    if (_$rule !== null) {
                        var _$recursiveDefinitions = previousRecursiveDefinitions; ///
                        retrieveLeftRecursiveDefinitions(_$rule, _$recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
                    }
                }
            });
        }
    });
}
function recursiveRuleNameFromRecursiveDefinition(recursiveDefinition) {
    var recursiveDefinitionRuleName = recursiveDefinition.getRuleName(), recursiveRuleName = recursiveDefinitionRuleName; ///
    return recursiveRuleName;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVMZWZ0UmVjdXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgUmV3cml0dGVuUnVsZSBmcm9tIFwiLi9ydWxlL3Jld3JpdHRlblwiO1xuaW1wb3J0IFJlY3Vyc2l2ZURlZmluaXRpb24gZnJvbSBcIi4vZGVmaW5pdGlvbi9yZWN1cnNpdmVcIjtcbmltcG9ydCBSZXdyaXR0ZW5EZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmV3cml0dGVuXCI7XG5pbXBvcnQgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL2xlZnRSZWN1cnNpdmUvZGlyZWN0bHlcIjtcbi8vIGltcG9ydCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gZnJvbSBcIi4vZGVmaW5pdGlvbi9sZWZ0UmVjdXJzaXZlL2luZGlyZWN0bHlcIjtcblxuaW1wb3J0IHsgaXNJbnN0YW5jZU9mIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2NsYXNzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsaW1pbmF0ZUxlZnRSZWN1cnNpb24oc3RhcnRSdWxlLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJ1bGUgPSBzdGFydFJ1bGUsIC8vL1xuICAgICAgICByZWN1cnNpdmVEZWZpbml0aW9ucyA9IFtdLFxuICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBbXTtcblxuICByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCByZWN1cnNpdmVEZWZpbml0aW9ucywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICByZXdyaXRlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG5cbiAgY29uc3QgcmV3cml0dGVuUnVsZXMgPSByZXRyaWV2ZVJld3JpdHRlblJ1bGVzKHJ1bGVNYXApO1xuXG4gIHBydW5lUmV3cml0dGVuUnVsZXMocmV3cml0dGVuUnVsZXMsIHJ1bGVNYXApO1xuXG4gIGNvbnN0IHN0YXJ0UnVsZU5hbWUgPSBzdGFydFJ1bGUuZ2V0TmFtZSgpO1xuXG4gIHN0YXJ0UnVsZSA9IHJ1bGVNYXBbc3RhcnRSdWxlTmFtZV07IC8vL1xuXG4gIHJldHVybiBzdGFydFJ1bGU7XG59XG5cbmZ1bmN0aW9uIHBydW5lUmV3cml0dGVuUnVsZXMocmV3cml0dGVuUnVsZXMsIHJ1bGVNYXApIHtcbiAgcmV3cml0dGVuUnVsZXMuZm9yRWFjaCgocmV3cml0dGVuUnVsZSkgPT4ge1xuICAgIHJld3JpdHRlblJ1bGUucHJ1bmUocnVsZU1hcCwgUmV3cml0dGVuRGVmaW5pdGlvbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXRyaWV2ZVJld3JpdHRlblJ1bGVzKHJ1bGVNYXApIHtcbiAgY29uc3QgcnVsZXMgPSBPYmplY3QudmFsdWVzKHJ1bGVNYXApLFxuICAgICAgICByZXdyaXR0ZW5SdWxlcyA9IHJ1bGVzLnJlZHVjZSgocmV3cml0dGVuUnVsZXMsIHJ1bGUpID0+IHtcbiAgICAgICAgICBjb25zdCBydWxlUmV3cml0dGVuUnVsZSA9IGlzSW5zdGFuY2VPZihydWxlLCBSZXdyaXR0ZW5SdWxlKTtcblxuICAgICAgICAgIGlmIChydWxlUmV3cml0dGVuUnVsZSkge1xuICAgICAgICAgICAgY29uc3QgcmV3cml0dGVuUnVsZSA9IHJ1bGU7IC8vL1xuXG4gICAgICAgICAgICByZXdyaXR0ZW5SdWxlcy5wdXNoKHJld3JpdHRlblJ1bGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZXdyaXR0ZW5SdWxlcztcbiAgICAgICAgfSwgW10pO1xuXG4gIHJldHVybiByZXdyaXR0ZW5SdWxlcztcbn1cblxuZnVuY3Rpb24gcmV3cml0ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLmZvckVhY2goKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24ucmV3cml0ZShydWxlTWFwKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24sIHJlY3Vyc2l2ZURlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpIHtcbiAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25NYXRjaGVzRGVmaW5pdGlvbiA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5zb21lKChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikgPT4ge1xuICAgIGNvbnN0IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uTWF0Y2hlc0RlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5tYXRjaChkZWZpbml0aW9uKTtcblxuICAgIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbk1hdGNoZXNEZWZpbml0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbk1hdGNoZXNEZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZUFuZERlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24pOyAvLy8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8gSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZURlZmluaXRpb25BbmRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlTmFtZSwgZGVmaW5pdGlvbiwgcmVjdXJzaXZlRGVmaW5pdGlvbnMpOyAqL1xuXG4gIGlmIChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiAhPT0gbnVsbCkge1xuICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5wdXNoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCByZWN1cnNpdmVEZWZpbml0aW9ucywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJ1bGVOYW1lID0gcnVsZS5nZXROYW1lKCksXG4gICAgICAgIGRlZmluaXRpb25zID0gcnVsZS5nZXREZWZpbml0aW9ucygpO1xuXG4gIGRlZmluaXRpb25zLmZvckVhY2goKGRlZmluaXRpb24pID0+IHtcbiAgICByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKHJ1bGVOYW1lLCBkZWZpbml0aW9uLCByZWN1cnNpdmVEZWZpbml0aW9ucywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKTtcblxuICAgIGNvbnN0IHJlY3Vyc2l2ZURlZmluaXRpb24gPSBSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZUFuZERlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24pO1xuXG4gICAgaWYgKHJlY3Vyc2l2ZURlZmluaXRpb24gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnMgPSBbIC4uLnJlY3Vyc2l2ZURlZmluaXRpb25zLCByZWN1cnNpdmVEZWZpbml0aW9uIF0sXG4gICAgICAgICAgICBwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lcyA9IHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnMubWFwKChwcmV2aW91c1JlY3Vyc2l2ZURlZmluaXRpb24pID0+IHJlY3Vyc2l2ZVJ1bGVOYW1lRnJvbVJlY3Vyc2l2ZURlZmluaXRpb24ocHJldmlvdXNSZWN1cnNpdmVEZWZpbml0aW9uKSksXG4gICAgICAgICAgICByZWN1cnNpdmVSdWxlTmFtZXMgPSByZWN1cnNpdmVEZWZpbml0aW9uLmdldFJlY3Vyc2l2ZVJ1bGVOYW1lcygpO1xuXG4gICAgICByZWN1cnNpdmVSdWxlTmFtZXMuZm9yRWFjaCgocmVjdXJzaXZlUnVsZU5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZXNJbmNsdWRlc1JlY3Vyc2l2ZVJ1bGVOYW1lID0gcHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZXMuaW5jbHVkZXMocmVjdXJzaXZlUnVsZU5hbWUpO1xuXG4gICAgICAgIGlmICghcHJldmlvdXNSZWN1cnNpdmVSdWxlTmFtZXNJbmNsdWRlc1JlY3Vyc2l2ZVJ1bGVOYW1lKSB7XG4gICAgICAgICAgY29uc3QgcnVsZU5hbWUgPSByZWN1cnNpdmVSdWxlTmFtZSwgIC8vL1xuICAgICAgICAgICAgICAgIHJ1bGUgPSBydWxlTWFwW3J1bGVOYW1lXSB8fCBudWxsOyAvLy9cblxuICAgICAgICAgIGlmIChydWxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByZWN1cnNpdmVEZWZpbml0aW9ucyA9IHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnM7ICAvLy9cblxuICAgICAgICAgICAgcmV0cmlldmVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgcmVjdXJzaXZlRGVmaW5pdGlvbnMsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZWN1cnNpdmVSdWxlTmFtZUZyb21SZWN1cnNpdmVEZWZpbml0aW9uKHJlY3Vyc2l2ZURlZmluaXRpb24pIHtcbiAgY29uc3QgcmVjdXJzaXZlRGVmaW5pdGlvblJ1bGVOYW1lID0gcmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlTmFtZSgpLFxuICAgICAgICByZWN1cnNpdmVSdWxlTmFtZSA9IHJlY3Vyc2l2ZURlZmluaXRpb25SdWxlTmFtZTsgIC8vL1xuXG4gIHJldHVybiByZWN1cnNpdmVSdWxlTmFtZTtcbn1cbiJdLCJuYW1lcyI6WyJlbGltaW5hdGVMZWZ0UmVjdXJzaW9uIiwic3RhcnRSdWxlIiwicnVsZU1hcCIsInJ1bGUiLCJyZWN1cnNpdmVEZWZpbml0aW9ucyIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV3cml0ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInJld3JpdHRlblJ1bGVzIiwicmV0cmlldmVSZXdyaXR0ZW5SdWxlcyIsInBydW5lUmV3cml0dGVuUnVsZXMiLCJzdGFydFJ1bGVOYW1lIiwiZ2V0TmFtZSIsImZvckVhY2giLCJyZXdyaXR0ZW5SdWxlIiwicHJ1bmUiLCJSZXdyaXR0ZW5EZWZpbml0aW9uIiwicnVsZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJydWxlUmV3cml0dGVuUnVsZSIsImlzSW5zdGFuY2VPZiIsIlJld3JpdHRlblJ1bGUiLCJwdXNoIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZXdyaXRlIiwicmV0cmlldmVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJ1bGVOYW1lIiwiZGVmaW5pdGlvbiIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9uTWF0Y2hlc0RlZmluaXRpb24iLCJzb21lIiwibWF0Y2giLCJEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZnJvbVJ1bGVOYW1lQW5kRGVmaW5pdGlvbiIsImRlZmluaXRpb25zIiwiZ2V0RGVmaW5pdGlvbnMiLCJyZWN1cnNpdmVEZWZpbml0aW9uIiwiUmVjdXJzaXZlRGVmaW5pdGlvbiIsInByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lcyIsIm1hcCIsInByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbiIsInJlY3Vyc2l2ZVJ1bGVOYW1lRnJvbVJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZWN1cnNpdmVSdWxlTmFtZXMiLCJnZXRSZWN1cnNpdmVSdWxlTmFtZXMiLCJyZWN1cnNpdmVSdWxlTmFtZSIsInByZXZpb3VzUmVjdXJzaXZlUnVsZU5hbWVzSW5jbHVkZXNSZWN1cnNpdmVSdWxlTmFtZSIsImluY2x1ZGVzIiwicmVjdXJzaXZlRGVmaW5pdGlvblJ1bGVOYW1lIiwiZ2V0UnVsZU5hbWUiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7OztrQkFVV0Esc0JBQXNCO0FBUnBCLElBQUEsVUFBa0Isa0NBQWxCLGtCQUFrQixFQUFBO0FBQ1osSUFBQSxVQUF3QixrQ0FBeEIsd0JBQXdCLEVBQUE7QUFDeEIsSUFBQSxXQUF3QixrQ0FBeEIsd0JBQXdCLEVBQUE7QUFDWixJQUFBLFNBQXFDLGtDQUFyQyxxQ0FBcUMsRUFBQTtBQUdwRCxJQUFBLE1BQW1CLFdBQW5CLG1CQUFtQixDQUFBO0FBRWpDLFNBQVNBLHNCQUFzQixDQUFDQyxTQUFTLEVBQUVDLE9BQU8sRUFBRTtJQUNqRSxJQUFNQyxJQUFJLEdBQUdGLFNBQVMsRUFDaEJHLG9CQUFvQixHQUFHLEVBQUUsRUFDekJDLHdCQUF3QixHQUFHLEVBQUUsQUFBQztJQUVwQ0MsZ0NBQWdDLENBQUNILElBQUksRUFBRUMsb0JBQW9CLEVBQUVDLHdCQUF3QixFQUFFSCxPQUFPLENBQUMsQ0FBQztJQUVoR0ssK0JBQStCLENBQUNGLHdCQUF3QixFQUFFSCxPQUFPLENBQUMsQ0FBQztJQUVuRSxJQUFNTSxjQUFjLEdBQUdDLHNCQUFzQixDQUFDUCxPQUFPLENBQUMsQUFBQztJQUV2RFEsbUJBQW1CLENBQUNGLGNBQWMsRUFBRU4sT0FBTyxDQUFDLENBQUM7SUFFN0MsSUFBTVMsYUFBYSxHQUFHVixTQUFTLENBQUNXLE9BQU8sRUFBRSxBQUFDO0lBRTFDWCxTQUFTLEdBQUdDLE9BQU8sQ0FBQ1MsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFHO0lBRXZDLE9BQU9WLFNBQVMsQ0FBQztDQUNsQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVE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