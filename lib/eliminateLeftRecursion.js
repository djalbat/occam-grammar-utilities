"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = eliminateLeftRecursion;
var _reduced = _interopRequireDefault(require("./rule/reduced"));
var _recursive = _interopRequireDefault(require("./definition/recursive"));
var _left = _interopRequireDefault(require("./definition/recursive/left"));
var _directly = _interopRequireDefault(require("./definition/recursive/left/directly"));
var _indirectly = _interopRequireDefault(require("./definition/recursive/left/indirectly"));
var _class = require("./utilities/class");
function eliminateLeftRecursion(startRule, ruleMap) {
    var rule = startRule, reducedRules = [], recursiveDefinitions = [], leftRecursiveDefinitions = [];
    retrieveLeftRecursiveDefinitions(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
    rewriteLeftRecursiveDefinitions(leftRecursiveDefinitions, ruleMap);
    retrieveReducedRules(reducedRules, ruleMap);
    rewriteReducedRules(reducedRules, ruleMap);
    var startRuleName = startRule.getName();
    startRule = ruleMap[startRuleName]; ///
    return startRule;
}
function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) return _arrayLikeToArray(arr);
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterableToArray(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
}
function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
function rewriteReducedRules(reducedRules, ruleMap) {
    reducedRules.forEach(function(reducedRule) {
        reducedRule.rewrite(ruleMap);
    });
}
function retrieveReducedRules(reducedRules, ruleMap) {
    var rules = Object.values(ruleMap);
    rules.forEach(function(rule) {
        var ruleReducedRule = (0, _class).isInstanceOf(rule, _reduced.default);
        if (ruleReducedRule) {
            var reducedRule = rule; ///
            reducedRules.push(reducedRule);
        }
    });
}
function rewriteLeftRecursiveDefinitions(leftRecursiveDefinitions, ruleMap) {
    leftRecursiveDefinitions.forEach(function(leftRecursiveDefinition) {
        leftRecursiveDefinition.rewrite(ruleMap);
    });
}
function retrieveLeftRecursiveDefinition(ruleName, definition, recursiveDefinitions, leftRecursiveDefinitions) {
    var leftRecursiveDefinitionMatchesDefinition1 = leftRecursiveDefinitions.some(function(leftRecursiveDefinition) {
        var leftRecursiveDefinitionMatchesDefinition = leftRecursiveDefinition.match(definition);
        if (leftRecursiveDefinitionMatchesDefinition) {
            return true;
        }
    });
    if (leftRecursiveDefinitionMatchesDefinition1) {
        return;
    }
    var leftRecursiveDefinition1 = _directly.default.fromRuleNameAndDefinition(ruleName, definition) || _indirectly.default.fromRuleNameDefinitionAndRecursiveDefinitions(ruleName, definition, recursiveDefinitions);
    if (leftRecursiveDefinition1 !== null) {
        leftRecursiveDefinitions.push(leftRecursiveDefinition1);
    }
}
function retrieveLeftRecursiveDefinitions(rule, recursiveDefinitions, leftRecursiveDefinitions, ruleMap) {
    var ruleName1 = rule.getName(), definitions = rule.getDefinitions();
    definitions.forEach(function(definition) {
        retrieveLeftRecursiveDefinition(ruleName1, definition, recursiveDefinitions, leftRecursiveDefinitions);
        var recursiveDefinition = _left.default.fromRuleNameAndDefinition(ruleName1, definition) || _recursive.default.fromRuleNameAndDefinition(ruleName1, definition);
        if (recursiveDefinition !== null) {
            var previousRecursiveDefinitions = _toConsumableArray(recursiveDefinitions).concat([
                recursiveDefinition
            ]), previousRecursiveRuleNames = previousRecursiveDefinitions.map(function(previousRecursiveDefinition) {
                return recursiveRuleNameFromRecursiveDefinition(previousRecursiveDefinition);
            }), recursiveRuleNames = recursiveDefinition.getRecursiveRuleNames();
            recursiveRuleNames.forEach(function(recursiveRuleName) {
                var previousRecursiveRuleNamesIncludesRecursiveRuleName = previousRecursiveRuleNames.includes(recursiveRuleName);
                if (!previousRecursiveRuleNamesIncludesRecursiveRuleName) {
                    var ruleName = recursiveRuleName, _$rule = ruleMap[ruleName] || null; ///
                    if (_$rule !== null) {
                        var _$recursiveDefinitions = previousRecursiveDefinitions; ///
                        retrieveLeftRecursiveDefinitions(_$rule, _$recursiveDefinitions, leftRecursiveDefinitions, ruleMap);
                    }
                }
            });
        }
    });
}
function recursiveRuleNameFromRecursiveDefinition(recursiveDefinition) {
    var recursiveDefinitionRuleName = recursiveDefinition.getRuleName(), recursiveRuleName = recursiveDefinitionRuleName; ///
    return recursiveRuleName;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbGltaW5hdGVMZWZ0UmVjdXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgUmVkdWNlZFJ1bGUgZnJvbSBcIi4vcnVsZS9yZWR1Y2VkXCI7XG5pbXBvcnQgUmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi9kZWZpbml0aW9uL3JlY3Vyc2l2ZVwiO1xuaW1wb3J0IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnRcIjtcbmltcG9ydCBEaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGZyb20gXCIuL2RlZmluaXRpb24vcmVjdXJzaXZlL2xlZnQvZGlyZWN0bHlcIjtcbmltcG9ydCBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gZnJvbSBcIi4vZGVmaW5pdGlvbi9yZWN1cnNpdmUvbGVmdC9pbmRpcmVjdGx5XCI7XG5cbmltcG9ydCB7IGlzSW5zdGFuY2VPZiB9IGZyb20gXCIuL3V0aWxpdGllcy9jbGFzc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGltaW5hdGVMZWZ0UmVjdXJzaW9uKHN0YXJ0UnVsZSwgcnVsZU1hcCkge1xuICBjb25zdCBydWxlID0gc3RhcnRSdWxlLCAvLy9cbiAgICAgICAgcmVkdWNlZFJ1bGVzID0gW10sXG4gICAgICAgIHJlY3Vyc2l2ZURlZmluaXRpb25zID0gW10sXG4gICAgICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IFtdO1xuXG4gIHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKHJ1bGUsIHJlY3Vyc2l2ZURlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApO1xuXG4gIHJld3JpdGVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMobGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcblxuICByZXRyaWV2ZVJlZHVjZWRSdWxlcyhyZWR1Y2VkUnVsZXMsIHJ1bGVNYXApO1xuXG4gIHJld3JpdGVSZWR1Y2VkUnVsZXMocmVkdWNlZFJ1bGVzLCBydWxlTWFwKTtcblxuICBjb25zdCBzdGFydFJ1bGVOYW1lID0gc3RhcnRSdWxlLmdldE5hbWUoKTtcblxuICBzdGFydFJ1bGUgPSBydWxlTWFwW3N0YXJ0UnVsZU5hbWVdOyAvLy9cblxuICByZXR1cm4gc3RhcnRSdWxlO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlUmVkdWNlZFJ1bGVzKHJlZHVjZWRSdWxlcywgcnVsZU1hcCkge1xuICByZWR1Y2VkUnVsZXMuZm9yRWFjaCgocmVkdWNlZFJ1bGUpID0+IHtcbiAgICByZWR1Y2VkUnVsZS5yZXdyaXRlKHJ1bGVNYXApO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVSZWR1Y2VkUnVsZXMocmVkdWNlZFJ1bGVzLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJ1bGVzID0gT2JqZWN0LnZhbHVlcyhydWxlTWFwKTtcblxuICBydWxlcy5mb3JFYWNoKChydWxlKSA9PiB7XG4gICAgY29uc3QgcnVsZVJlZHVjZWRSdWxlID0gaXNJbnN0YW5jZU9mKHJ1bGUsIFJlZHVjZWRSdWxlKTtcblxuICAgIGlmIChydWxlUmVkdWNlZFJ1bGUpIHtcbiAgICAgIGNvbnN0IHJlZHVjZWRSdWxlID0gcnVsZTsgLy8vXG5cbiAgICAgIHJlZHVjZWRSdWxlcy5wdXNoKHJlZHVjZWRSdWxlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucywgcnVsZU1hcCkge1xuICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMuZm9yRWFjaCgobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHtcbiAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5yZXdyaXRlKHJ1bGVNYXApO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmV0cmlldmVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihydWxlTmFtZSwgZGVmaW5pdGlvbiwgcmVjdXJzaXZlRGVmaW5pdGlvbnMsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucykge1xuICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbk1hdGNoZXNEZWZpbml0aW9uID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLnNvbWUoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgY29uc3QgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25NYXRjaGVzRGVmaW5pdGlvbiA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLm1hdGNoKGRlZmluaXRpb24pO1xuXG4gICAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uTWF0Y2hlc0RlZmluaXRpb24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uTWF0Y2hlc0RlZmluaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbVJ1bGVOYW1lQW5kRGVmaW5pdGlvbihydWxlTmFtZSwgZGVmaW5pdGlvbikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbVJ1bGVOYW1lRGVmaW5pdGlvbkFuZFJlY3Vyc2l2ZURlZmluaXRpb25zKHJ1bGVOYW1lLCBkZWZpbml0aW9uLCByZWN1cnNpdmVEZWZpbml0aW9ucyk7XG5cbiAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uICE9PSBudWxsKSB7XG4gICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLnB1c2gobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKHJ1bGUsIHJlY3Vyc2l2ZURlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJ1bGVNYXApIHtcbiAgY29uc3QgcnVsZU5hbWUgPSBydWxlLmdldE5hbWUoKSxcbiAgICAgICAgZGVmaW5pdGlvbnMgPSBydWxlLmdldERlZmluaXRpb25zKCk7XG5cbiAgZGVmaW5pdGlvbnMuZm9yRWFjaCgoZGVmaW5pdGlvbikgPT4ge1xuICAgIHJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24sIHJlY3Vyc2l2ZURlZmluaXRpb25zLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMpO1xuXG4gICAgY29uc3QgcmVjdXJzaXZlRGVmaW5pdGlvbiA9IExlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmZyb21SdWxlTmFtZUFuZERlZmluaXRpb24ocnVsZU5hbWUsIGRlZmluaXRpb24pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlY3Vyc2l2ZURlZmluaXRpb24uZnJvbVJ1bGVOYW1lQW5kRGVmaW5pdGlvbihydWxlTmFtZSwgZGVmaW5pdGlvbik7XG5cbiAgICBpZiAocmVjdXJzaXZlRGVmaW5pdGlvbiAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNSZWN1cnNpdmVEZWZpbml0aW9ucyA9IFsgLi4ucmVjdXJzaXZlRGVmaW5pdGlvbnMsIHJlY3Vyc2l2ZURlZmluaXRpb24gXSxcbiAgICAgICAgICAgIHByZXZpb3VzUmVjdXJzaXZlUnVsZU5hbWVzID0gcHJldmlvdXNSZWN1cnNpdmVEZWZpbml0aW9ucy5tYXAoKHByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbikgPT4gcmVjdXJzaXZlUnVsZU5hbWVGcm9tUmVjdXJzaXZlRGVmaW5pdGlvbihwcmV2aW91c1JlY3Vyc2l2ZURlZmluaXRpb24pKSxcbiAgICAgICAgICAgIHJlY3Vyc2l2ZVJ1bGVOYW1lcyA9IHJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UmVjdXJzaXZlUnVsZU5hbWVzKCk7XG5cbiAgICAgIHJlY3Vyc2l2ZVJ1bGVOYW1lcy5mb3JFYWNoKChyZWN1cnNpdmVSdWxlTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lc0luY2x1ZGVzUmVjdXJzaXZlUnVsZU5hbWUgPSBwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lcy5pbmNsdWRlcyhyZWN1cnNpdmVSdWxlTmFtZSk7XG5cbiAgICAgICAgaWYgKCFwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lc0luY2x1ZGVzUmVjdXJzaXZlUnVsZU5hbWUpIHtcbiAgICAgICAgICBjb25zdCBydWxlTmFtZSA9IHJlY3Vyc2l2ZVJ1bGVOYW1lLCAgLy8vXG4gICAgICAgICAgICAgICAgcnVsZSA9IHJ1bGVNYXBbcnVsZU5hbWVdIHx8IG51bGw7IC8vL1xuXG4gICAgICAgICAgaWYgKHJ1bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3Vyc2l2ZURlZmluaXRpb25zID0gcHJldmlvdXNSZWN1cnNpdmVEZWZpbml0aW9uczsgIC8vL1xuXG4gICAgICAgICAgICByZXRyaWV2ZUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCByZWN1cnNpdmVEZWZpbml0aW9ucywgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBydWxlTWFwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlY3Vyc2l2ZVJ1bGVOYW1lRnJvbVJlY3Vyc2l2ZURlZmluaXRpb24ocmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICBjb25zdCByZWN1cnNpdmVEZWZpbml0aW9uUnVsZU5hbWUgPSByZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGVOYW1lKCksXG4gICAgICAgIHJlY3Vyc2l2ZVJ1bGVOYW1lID0gcmVjdXJzaXZlRGVmaW5pdGlvblJ1bGVOYW1lOyAgLy8vXG5cbiAgcmV0dXJuIHJlY3Vyc2l2ZVJ1bGVOYW1lO1xufVxuIl0sIm5hbWVzIjpbImVsaW1pbmF0ZUxlZnRSZWN1cnNpb24iLCJzdGFydFJ1bGUiLCJydWxlTWFwIiwicnVsZSIsInJlZHVjZWRSdWxlcyIsInJlY3Vyc2l2ZURlZmluaXRpb25zIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV0cmlldmVMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZXdyaXRlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV0cmlldmVSZWR1Y2VkUnVsZXMiLCJyZXdyaXRlUmVkdWNlZFJ1bGVzIiwic3RhcnRSdWxlTmFtZSIsImdldE5hbWUiLCJmb3JFYWNoIiwicmVkdWNlZFJ1bGUiLCJyZXdyaXRlIiwicnVsZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJydWxlUmVkdWNlZFJ1bGUiLCJpc0luc3RhbmNlT2YiLCJSZWR1Y2VkUnVsZSIsInB1c2giLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsInJldHJpZXZlTGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJydWxlTmFtZSIsImRlZmluaXRpb24iLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbk1hdGNoZXNEZWZpbml0aW9uIiwic29tZSIsIm1hdGNoIiwiRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImZyb21SdWxlTmFtZUFuZERlZmluaXRpb24iLCJJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJmcm9tUnVsZU5hbWVEZWZpbml0aW9uQW5kUmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJkZWZpbml0aW9ucyIsImdldERlZmluaXRpb25zIiwicmVjdXJzaXZlRGVmaW5pdGlvbiIsIkxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiUmVjdXJzaXZlRGVmaW5pdGlvbiIsInByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJwcmV2aW91c1JlY3Vyc2l2ZVJ1bGVOYW1lcyIsIm1hcCIsInByZXZpb3VzUmVjdXJzaXZlRGVmaW5pdGlvbiIsInJlY3Vyc2l2ZVJ1bGVOYW1lRnJvbVJlY3Vyc2l2ZURlZmluaXRpb24iLCJyZWN1cnNpdmVSdWxlTmFtZXMiLCJnZXRSZWN1cnNpdmVSdWxlTmFtZXMiLCJyZWN1cnNpdmVSdWxlTmFtZSIsInByZXZpb3VzUmVjdXJzaXZlUnVsZU5hbWVzSW5jbHVkZXNSZWN1cnNpdmVSdWxlTmFtZSIsImluY2x1ZGVzIiwicmVjdXJzaXZlRGVmaW5pdGlvblJ1bGVOYW1lIiwiZ2V0UnVsZU5hbWUiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7OztrQkFVV0Esc0JBQXNCO0FBUnRCLElBQUEsUUFBZ0Isa0NBQWhCLGdCQUFnQixFQUFBO0FBQ1IsSUFBQSxVQUF3QixrQ0FBeEIsd0JBQXdCLEVBQUE7QUFDcEIsSUFBQSxLQUE2QixrQ0FBN0IsNkJBQTZCLEVBQUE7QUFDckIsSUFBQSxTQUFzQyxrQ0FBdEMsc0NBQXNDLEVBQUE7QUFDcEMsSUFBQSxXQUF3QyxrQ0FBeEMsd0NBQXdDLEVBQUE7QUFFekQsSUFBQSxNQUFtQixXQUFuQixtQkFBbUIsQ0FBQTtBQUVqQyxTQUFTQSxzQkFBc0IsQ0FBQ0MsU0FBUyxFQUFFQyxPQUFPLEVBQUU7SUFDakUsSUFBTUMsSUFBSSxHQUFHRixTQUFTLEVBQ2hCRyxZQUFZLEdBQUcsRUFBRSxFQUNqQkMsb0JBQW9CLEdBQUcsRUFBRSxFQUN6QkMsd0JBQXdCLEdBQUcsRUFBRSxBQUFDO0lBRXBDQyxnQ0FBZ0MsQ0FBQ0osSUFBSSxFQUFFRSxvQkFBb0IsRUFBRUMsd0JBQXdCLEVBQUVKLE9BQU8sQ0FBQyxDQUFDO0lBRWhHTSwrQkFBK0IsQ0FBQ0Ysd0JBQXdCLEVBQUVKLE9BQU8sQ0FBQyxDQUFDO0lBRW5FTyxvQkFBb0IsQ0FBQ0wsWUFBWSxFQUFFRixPQUFPLENBQUMsQ0FBQztJQUU1Q1EsbUJBQW1CLENBQUNOLFlBQVksRUFBRUYsT0FBTyxDQUFDLENBQUM7SUFFM0MsSUFBTVMsYUFBYSxHQUFHVixTQUFTLENBQUNXLE9BQU8sRUFBRSxBQUFDO0lBRTFDWCxTQUFTLEdBQUdDLE9BQU8sQ0FBQ1MsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFH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