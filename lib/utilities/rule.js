'use strict';

var definitionUtilities = require('../utilities/definition');

var isDefinitionImmediatelyLeftRecursive = definitionUtilities.isDefinitionImmediatelyLeftRecursive;


function findRuleByName(name, rules) {
  var rule = rules.find(function (rule) {
    var ruleName = rule.getName();

    if (ruleName === name) {
      return true;
    }
  }) || null; ///

  return rule;
}

function deleteRuleByName(name, rules) {
  var rule = findRuleByName(name, rules),
      index = rules.indexOf(rule),
      start = index,
      ///
  deleteCount = 1;

  rules.splice(start, deleteCount);
}

function isRuleImmediatelyLeftRecursive(rule, ruleName) {
  var definitions = rule.getDefinitions(),
      ruleImmediatelyLeftRecursive = definitions.some(function (definition) {
    var definitionLeftRecursive = isDefinitionImmediatelyLeftRecursive(definition, ruleName);

    if (definitionLeftRecursive) {
      return true;
    }
  });

  return ruleImmediatelyLeftRecursive;
}

module.exports = {
  findRuleByName: findRuleByName,
  deleteRuleByName: deleteRuleByName,
  isRuleImmediatelyLeftRecursive: isRuleImmediatelyLeftRecursive
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvcnVsZS5qcyJdLCJuYW1lcyI6WyJkZWZpbml0aW9uVXRpbGl0aWVzIiwicmVxdWlyZSIsImlzRGVmaW5pdGlvbkltbWVkaWF0ZWx5TGVmdFJlY3Vyc2l2ZSIsImZpbmRSdWxlQnlOYW1lIiwibmFtZSIsInJ1bGVzIiwicnVsZSIsImZpbmQiLCJydWxlTmFtZSIsImdldE5hbWUiLCJkZWxldGVSdWxlQnlOYW1lIiwiaW5kZXgiLCJpbmRleE9mIiwic3RhcnQiLCJkZWxldGVDb3VudCIsInNwbGljZSIsImlzUnVsZUltbWVkaWF0ZWx5TGVmdFJlY3Vyc2l2ZSIsImRlZmluaXRpb25zIiwiZ2V0RGVmaW5pdGlvbnMiLCJydWxlSW1tZWRpYXRlbHlMZWZ0UmVjdXJzaXZlIiwic29tZSIsImRlZmluaXRpb24iLCJkZWZpbml0aW9uTGVmdFJlY3Vyc2l2ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLHNCQUFzQkMsUUFBUSx5QkFBUixDQUE1Qjs7SUFFUUMsb0MsR0FBeUNGLG1CLENBQXpDRSxvQzs7O0FBRVIsU0FBU0MsY0FBVCxDQUF3QkMsSUFBeEIsRUFBOEJDLEtBQTlCLEVBQXFDO0FBQ25DLE1BQU1DLE9BQU9ELE1BQU1FLElBQU4sQ0FBVyxVQUFTRCxJQUFULEVBQWU7QUFDckMsUUFBTUUsV0FBV0YsS0FBS0csT0FBTCxFQUFqQjs7QUFFQSxRQUFJRCxhQUFhSixJQUFqQixFQUF1QjtBQUNyQixhQUFPLElBQVA7QUFDRDtBQUNGLEdBTlksS0FNUCxJQU5OLENBRG1DLENBT3ZCOztBQUVaLFNBQU9FLElBQVA7QUFDRDs7QUFFRCxTQUFTSSxnQkFBVCxDQUEwQk4sSUFBMUIsRUFBZ0NDLEtBQWhDLEVBQXVDO0FBQ3JDLE1BQU1DLE9BQU9ILGVBQWVDLElBQWYsRUFBcUJDLEtBQXJCLENBQWI7QUFBQSxNQUNNTSxRQUFRTixNQUFNTyxPQUFOLENBQWNOLElBQWQsQ0FEZDtBQUFBLE1BRU1PLFFBQVFGLEtBRmQ7QUFBQSxNQUVzQjtBQUNoQkcsZ0JBQWMsQ0FIcEI7O0FBS0FULFFBQU1VLE1BQU4sQ0FBYUYsS0FBYixFQUFvQkMsV0FBcEI7QUFDRDs7QUFFRCxTQUFTRSw4QkFBVCxDQUF3Q1YsSUFBeEMsRUFBOENFLFFBQTlDLEVBQXdEO0FBQ3RELE1BQU1TLGNBQWNYLEtBQUtZLGNBQUwsRUFBcEI7QUFBQSxNQUNNQywrQkFBK0JGLFlBQVlHLElBQVosQ0FBaUIsVUFBQ0MsVUFBRCxFQUFnQjtBQUM5RCxRQUFNQywwQkFBMEJwQixxQ0FBcUNtQixVQUFyQyxFQUFpRGIsUUFBakQsQ0FBaEM7O0FBRUEsUUFBSWMsdUJBQUosRUFBNkI7QUFDM0IsYUFBTyxJQUFQO0FBQ0Q7QUFDRixHQU44QixDQURyQzs7QUFTQSxTQUFPSCw0QkFBUDtBQUNEOztBQUVESSxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZyQixnQ0FEZTtBQUVmTyxvQ0FGZTtBQUdmTTtBQUhlLENBQWpCIiwiZmlsZSI6InJ1bGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGRlZmluaXRpb25VdGlsaXRpZXMgPSByZXF1aXJlKCcuLi91dGlsaXRpZXMvZGVmaW5pdGlvbicpO1xuXG5jb25zdCB7IGlzRGVmaW5pdGlvbkltbWVkaWF0ZWx5TGVmdFJlY3Vyc2l2ZSB9ID0gZGVmaW5pdGlvblV0aWxpdGllcztcblxuZnVuY3Rpb24gZmluZFJ1bGVCeU5hbWUobmFtZSwgcnVsZXMpIHtcbiAgY29uc3QgcnVsZSA9IHJ1bGVzLmZpbmQoZnVuY3Rpb24ocnVsZSkge1xuICAgIGNvbnN0IHJ1bGVOYW1lID0gcnVsZS5nZXROYW1lKCk7XG5cbiAgICBpZiAocnVsZU5hbWUgPT09IG5hbWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSkgfHwgbnVsbDsgLy8vXG5cbiAgcmV0dXJuIHJ1bGU7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVJ1bGVCeU5hbWUobmFtZSwgcnVsZXMpIHtcbiAgY29uc3QgcnVsZSA9IGZpbmRSdWxlQnlOYW1lKG5hbWUsIHJ1bGVzKSxcbiAgICAgICAgaW5kZXggPSBydWxlcy5pbmRleE9mKHJ1bGUpLFxuICAgICAgICBzdGFydCA9IGluZGV4LCAgLy8vXG4gICAgICAgIGRlbGV0ZUNvdW50ID0gMTtcblxuICBydWxlcy5zcGxpY2Uoc3RhcnQsIGRlbGV0ZUNvdW50KTtcbn1cblxuZnVuY3Rpb24gaXNSdWxlSW1tZWRpYXRlbHlMZWZ0UmVjdXJzaXZlKHJ1bGUsIHJ1bGVOYW1lKSB7XG4gIGNvbnN0IGRlZmluaXRpb25zID0gcnVsZS5nZXREZWZpbml0aW9ucygpLFxuICAgICAgICBydWxlSW1tZWRpYXRlbHlMZWZ0UmVjdXJzaXZlID0gZGVmaW5pdGlvbnMuc29tZSgoZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlZmluaXRpb25MZWZ0UmVjdXJzaXZlID0gaXNEZWZpbml0aW9uSW1tZWRpYXRlbHlMZWZ0UmVjdXJzaXZlKGRlZmluaXRpb24sIHJ1bGVOYW1lKTtcblxuICAgICAgICAgIGlmIChkZWZpbml0aW9uTGVmdFJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICByZXR1cm4gcnVsZUltbWVkaWF0ZWx5TGVmdFJlY3Vyc2l2ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZpbmRSdWxlQnlOYW1lLFxuICBkZWxldGVSdWxlQnlOYW1lLFxuICBpc1J1bGVJbW1lZGlhdGVseUxlZnRSZWN1cnNpdmVcbn07XG4iXX0=