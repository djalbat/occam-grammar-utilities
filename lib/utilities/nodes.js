"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    rewriteIndirectlyRepeatedNodes: function() {
        return rewriteIndirectlyRepeatedNodes;
    },
    rewriteDirectlyRepeatedNodes: function() {
        return rewriteDirectlyRepeatedNodes;
    },
    rewriteReducedNodes: function() {
        return rewriteReducedNodes;
    }
});
var _necessary = require("necessary");
var _occamparsers = require("occam-parsers");
var _reduced = /*#__PURE__*/ _interop_require_default(require("../node/reduced"));
var _rewritten = /*#__PURE__*/ _interop_require_default(require("../node/rewritten"));
var _directly = /*#__PURE__*/ _interop_require_default(require("../node/repeated/directly"));
var _indirectly = /*#__PURE__*/ _interop_require_default(require("../node/repeated/indirectly"));
var _ruleName = require("../utilities/ruleName");
function _array_like_to_array(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];
    return arr2;
}
function _array_without_holes(arr) {
    if (Array.isArray(arr)) return _array_like_to_array(arr);
}
function _instanceof(left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
        return !!right[Symbol.hasInstance](left);
    } else {
        return left instanceof right;
    }
}
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _iterable_to_array(iter) {
    if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
function _non_iterable_spread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _to_consumable_array(arr) {
    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();
}
function _unsupported_iterable_to_array(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _array_like_to_array(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(n);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);
}
var front = _necessary.arrayUtilities.front, first = _necessary.arrayUtilities.first, push = _necessary.arrayUtilities.push, clear = _necessary.arrayUtilities.clear, filter = _necessary.arrayUtilities.filter, backwardsSome = _necessary.arrayUtilities.backwardsSome;
function rewriteIndirectlyRepeatedNodes(nonTerminalNode) {
    var childNodes = nonTerminalNode.getChildNodes(), indirectlyRepeatedNodes = findIndirectlyRepeatedNodes(childNodes);
    backwardsSome(indirectlyRepeatedNodes, function(indirectlyRepeatedNode) {
        var parentNode = nonTerminalNode, rewrittenNode = rewrittenNodeFromNonTerminalNodeAndIndirectlyRepeatedNode(nonTerminalNode, indirectlyRepeatedNode), replacementChildNodes = replacementChildNodesFromRewrittenNodeAndIndirectlyRepeatedNode(rewrittenNode, indirectlyRepeatedNode);
        var indirectlyRepeatedNodeRuleName = indirectlyRepeatedNode.getRuleName(), indirectlyRepeatedRuleName = indirectlyRepeatedNodeRuleName, nonTerminalNodeRuleName = nonTerminalNode.getRuleName(), leftRecursiveRuleName = (0, _ruleName.leftRecursiveRuleNameFromIndirectlyRepeatedRuleName)(indirectlyRepeatedRuleName), ruleName = (0, _ruleName.ruleNameFromIndirectlyRepeatedRuleName)(indirectlyRepeatedRuleName);
        if (nonTerminalNodeRuleName === ruleName) {
            var precedence = indirectlyRepeatedNode.getPrecedence();
            nonTerminalNode.rewritePrecedence(precedence);
        }
        if (leftRecursiveRuleName === nonTerminalNodeRuleName) {
            var precedence1 = nonTerminalNode.getPrecedence();
            rewrittenNode.rewritePrecedence(precedence1);
        }
        replaceAllChildNodes(parentNode, replacementChildNodes);
        nonTerminalNode = rewrittenNode; ///
    });
    var parentNode = nonTerminalNode; ///
    return parentNode;
}
function rewriteDirectlyRepeatedNodes(nonTerminalNode) {
    var _loop = function() {
        var replacementChildNodes = [], replacedChildNodes = directlyRepeatedNodes, parentNode = nonTerminalNode; ///
        directlyRepeatedNodes.forEach(function(directlyRepeatedNode) {
            var directlyRepeatedNodesChildNodes = directlyRepeatedNode.getChildNodes();
            push(replacementChildNodes, directlyRepeatedNodesChildNodes);
        });
        replaceChildNodes(parentNode, replacedChildNodes, replacementChildNodes);
        directlyRepeatedNodes = findDirectlyRepeatedNodes(childNodes);
        directlyRepeatedNodesLength = directlyRepeatedNodes.length;
    };
    var childNodes = nonTerminalNode.getChildNodes();
    var directlyRepeatedNodes, directlyRepeatedNodesLength;
    directlyRepeatedNodes = findDirectlyRepeatedNodes(childNodes);
    directlyRepeatedNodesLength = directlyRepeatedNodes.length;
    while(directlyRepeatedNodesLength > 0)_loop();
}
function rewriteReducedNodes(nonTerminalNode) {
    var childNodes = nonTerminalNode.getChildNodes();
    var firstChildNode = first(childNodes), firstChildNodeReducedNode = _instanceof(firstChildNode, _reduced.default);
    if (firstChildNodeReducedNode) {
        var parentNode = nonTerminalNode, reducedNode = firstChildNode, replacedChildNode = reducedNode, reducedNodeRuleName = reducedNode.getRuleName(), parentNodeRuleName = parentNode.getRuleName(), reducedRuleName = reducedNodeRuleName, parentRuleName = parentNodeRuleName, ruleName = (0, _ruleName.ruleNameFromReducedRuleName)(reducedRuleName), replacementChildNodes = []; ///
        if (ruleName === parentRuleName) {
            var reducedNodeChildNodes = reducedNode.getChildNodes();
            push(replacementChildNodes, reducedNodeChildNodes);
        } else {
            var childNodes1 = reducedNode.getChildNodes(), precedence = reducedNode.getPrecedence(), _$nonTerminalNode = _occamparsers.NonTerminalNode.fromRuleNameChildNodesAndPrecedence(ruleName, childNodes1, precedence), replacementChildNode = _$nonTerminalNode; ///
            replacementChildNodes.push(replacementChildNode);
        }
        replaceChildNode(parentNode, replacedChildNode, replacementChildNodes);
    }
}
function replaceChildNode(parentNode, replacedChildNode, replacementChildNodes) {
    var _childNodes;
    var childNodes = parentNode.getChildNodes(), index = childNodes.indexOf(replacedChildNode), start = index, deleteCount = 1;
    (_childNodes = childNodes).splice.apply(_childNodes, [
        start,
        deleteCount
    ].concat(_to_consumable_array(replacementChildNodes)));
}
function replaceChildNodes(parentNode, replacedChildNodes, replacementChildNodes) {
    var _childNodes;
    var replacedChildNodesLength = replacedChildNodes.length;
    if (replacedChildNodesLength === 0) {
        return;
    }
    var firstReplacedChildNode = first(replacedChildNodes), childNodes = parentNode.getChildNodes(), firstIndex = childNodes.indexOf(firstReplacedChildNode), start = firstIndex, deleteCount = replacedChildNodesLength; ///
    (_childNodes = childNodes).splice.apply(_childNodes, [
        start,
        deleteCount
    ].concat(_to_consumable_array(replacementChildNodes)));
}
function replaceAllChildNodes(parentNode, replacementChildNodes) {
    var childNodes = parentNode.getChildNodes();
    clear(childNodes);
    push(childNodes, replacementChildNodes);
}
function findDirectlyRepeatedNodes(childNodes) {
    var directlyRepeatedNodes = findRepeatedNonTerminalNodes(childNodes, function(childNode) {
        var childNodeDirectlyRepeatedNode = _instanceof(childNode, _directly.default);
        if (childNodeDirectlyRepeatedNode) {
            return true;
        }
    });
    return directlyRepeatedNodes;
}
function findIndirectlyRepeatedNodes(childNodes) {
    var indirectlyRepeatedNodes = findRepeatedNonTerminalNodes(childNodes, function(childNode) {
        var childNodeIndirectlyRepeatedNode = _instanceof(childNode, _indirectly.default);
        if (childNodeIndirectlyRepeatedNode) {
            return true;
        }
    });
    return indirectlyRepeatedNodes;
}
function findRepeatedNonTerminalNodes(childNodes, callback) {
    var repeatedNonTerminalNodes = [], lastIndex = childNodes.findLastIndex(callback);
    if (lastIndex !== null) {
        for(var index = lastIndex; index >= 0; index--){
            var childNode = childNodes[index], childNodeRepeatedNonTerminalNode = callback(childNode);
            if (!childNodeRepeatedNonTerminalNode) {
                break;
            }
            var repeatedNonTerminalNode = childNode; ///
            repeatedNonTerminalNodes.unshift(repeatedNonTerminalNode);
        }
    }
    return repeatedNonTerminalNodes;
}
function rewrittenNodeFromNonTerminalNodeAndIndirectlyRepeatedNode(nonTerminalNode, indirectlyRepeatedNode) {
    var ruleName, childNodes;
    childNodes = nonTerminalNode.getChildNodes();
    var indirectlyRepeatedNodeRuleName = indirectlyRepeatedNode.getRuleName(), indirectlyRepeatedRuleName = indirectlyRepeatedNodeRuleName, nonTerminalNodeRuleName = nonTerminalNode.getRuleName(), leftRecursiveRuleName = (0, _ruleName.leftRecursiveRuleNameFromIndirectlyRepeatedRuleName)(indirectlyRepeatedRuleName), frontChildNodes = front(childNodes);
    ruleName = (0, _ruleName.ruleNameFromIndirectlyRepeatedRuleName)(indirectlyRepeatedRuleName);
    if (nonTerminalNodeRuleName === ruleName) {
        var precedence = indirectlyRepeatedNode.getPrecedence();
        nonTerminalNode.rewritePrecedence(precedence);
    }
    ruleName = leftRecursiveRuleName; ///
    childNodes = frontChildNodes; ///
    var rewrittenNode = _rewritten.default.fromRuleNameAndChildNodes(ruleName, childNodes);
    return rewrittenNode;
}
function replacementChildNodesFromRewrittenNodeAndIndirectlyRepeatedNode(rewrittenNode, indirectlyRepeatedNode) {
    var indirectlyRepeatedNodeChildNodes = indirectlyRepeatedNode.getChildNodes(), replacementChildNodes = [
        rewrittenNode
    ].concat(_to_consumable_array(indirectlyRepeatedNodeChildNodes));
    filter(replacementChildNodes, function(replacementChildNode) {
        var replacementChildNodeEpsilonNode = _instanceof(replacementChildNode, _occamparsers.EpsilonNode);
        if (!replacementChildNodeEpsilonNode) {
            return true;
        }
    });
    return replacementChildNodes;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvbm9kZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuaW1wb3J0IHsgRXBzaWxvbk5vZGUsIE5vblRlcm1pbmFsTm9kZSB9IGZyb20gXCJvY2NhbS1wYXJzZXJzXCI7XG5cbmltcG9ydCBSZWR1Y2VkTm9kZSBmcm9tIFwiLi4vbm9kZS9yZWR1Y2VkXCI7XG5pbXBvcnQgUmV3cml0dGVuTm9kZSBmcm9tIFwiLi4vbm9kZS9yZXdyaXR0ZW5cIjtcbmltcG9ydCBEaXJlY3RseVJlcGVhdGVkTm9kZSBmcm9tIFwiLi4vbm9kZS9yZXBlYXRlZC9kaXJlY3RseVwiO1xuaW1wb3J0IEluZGlyZWN0bHlSZXBlYXRlZE5vZGUgZnJvbSBcIi4uL25vZGUvcmVwZWF0ZWQvaW5kaXJlY3RseVwiO1xuXG5pbXBvcnQgeyBydWxlTmFtZUZyb21SZWR1Y2VkUnVsZU5hbWUsIHJ1bGVOYW1lRnJvbUluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lLCBsZWZ0UmVjdXJzaXZlUnVsZU5hbWVGcm9tSW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3J1bGVOYW1lXCI7XG5cbmNvbnN0IHsgZnJvbnQsIGZpcnN0LCBwdXNoLCBjbGVhciwgZmlsdGVyLCBiYWNrd2FyZHNTb21lIH0gPSBhcnJheVV0aWxpdGllcztcblxuZXhwb3J0IGZ1bmN0aW9uIHJld3JpdGVJbmRpcmVjdGx5UmVwZWF0ZWROb2Rlcyhub25UZXJtaW5hbE5vZGUpIHtcbiAgY29uc3QgY2hpbGROb2RlcyA9IG5vblRlcm1pbmFsTm9kZS5nZXRDaGlsZE5vZGVzKCksXG4gICAgICAgIGluZGlyZWN0bHlSZXBlYXRlZE5vZGVzID0gZmluZEluZGlyZWN0bHlSZXBlYXRlZE5vZGVzKGNoaWxkTm9kZXMpO1xuXG4gIGJhY2t3YXJkc1NvbWUoaW5kaXJlY3RseVJlcGVhdGVkTm9kZXMsIChpbmRpcmVjdGx5UmVwZWF0ZWROb2RlKSA9PiB7XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vblRlcm1pbmFsTm9kZSwgLy8vXG4gICAgICAgICAgcmV3cml0dGVuTm9kZSA9IHJld3JpdHRlbk5vZGVGcm9tTm9uVGVybWluYWxOb2RlQW5kSW5kaXJlY3RseVJlcGVhdGVkTm9kZShub25UZXJtaW5hbE5vZGUsIGluZGlyZWN0bHlSZXBlYXRlZE5vZGUpLFxuICAgICAgICAgIHJlcGxhY2VtZW50Q2hpbGROb2RlcyA9IHJlcGxhY2VtZW50Q2hpbGROb2Rlc0Zyb21SZXdyaXR0ZW5Ob2RlQW5kSW5kaXJlY3RseVJlcGVhdGVkTm9kZShyZXdyaXR0ZW5Ob2RlLCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlKTtcblxuICAgIGNvbnN0IGluZGlyZWN0bHlSZXBlYXRlZE5vZGVSdWxlTmFtZSA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGUuZ2V0UnVsZU5hbWUoKSxcbiAgICAgICAgICBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGVSdWxlTmFtZSwgIC8vL1xuICAgICAgICAgIG5vblRlcm1pbmFsTm9kZVJ1bGVOYW1lID0gbm9uVGVybWluYWxOb2RlLmdldFJ1bGVOYW1lKCksXG4gICAgICAgICAgbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lID0gbGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lRnJvbUluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lKGluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lKSxcbiAgICAgICAgICBydWxlTmFtZSA9IHJ1bGVOYW1lRnJvbUluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lKGluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lKTtcblxuICAgIGlmIChub25UZXJtaW5hbE5vZGVSdWxlTmFtZSA9PT0gcnVsZU5hbWUpIHtcbiAgICAgIGNvbnN0IHByZWNlZGVuY2UgPSBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlLmdldFByZWNlZGVuY2UoKTtcblxuICAgICAgbm9uVGVybWluYWxOb2RlLnJld3JpdGVQcmVjZWRlbmNlKHByZWNlZGVuY2UpO1xuICAgIH1cblxuICAgIGlmIChsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPT09IG5vblRlcm1pbmFsTm9kZVJ1bGVOYW1lKSB7XG4gICAgICBjb25zdCBwcmVjZWRlbmNlID0gbm9uVGVybWluYWxOb2RlLmdldFByZWNlZGVuY2UoKTtcblxuICAgICAgcmV3cml0dGVuTm9kZS5yZXdyaXRlUHJlY2VkZW5jZShwcmVjZWRlbmNlKTtcbiAgICB9XG5cbiAgICByZXBsYWNlQWxsQ2hpbGROb2RlcyhwYXJlbnROb2RlLCByZXBsYWNlbWVudENoaWxkTm9kZXMpO1xuXG4gICAgbm9uVGVybWluYWxOb2RlID0gcmV3cml0dGVuTm9kZTsgIC8vL1xuICB9KTtcblxuICBjb25zdCBwYXJlbnROb2RlID0gbm9uVGVybWluYWxOb2RlOyAvLy9cblxuICByZXR1cm4gcGFyZW50Tm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJld3JpdGVEaXJlY3RseVJlcGVhdGVkTm9kZXMobm9uVGVybWluYWxOb2RlKSB7XG4gIGNvbnN0IGNoaWxkTm9kZXMgPSBub25UZXJtaW5hbE5vZGUuZ2V0Q2hpbGROb2RlcygpO1xuXG4gIGxldCBkaXJlY3RseVJlcGVhdGVkTm9kZXMsXG4gICAgICBkaXJlY3RseVJlcGVhdGVkTm9kZXNMZW5ndGg7XG5cbiAgZGlyZWN0bHlSZXBlYXRlZE5vZGVzID0gZmluZERpcmVjdGx5UmVwZWF0ZWROb2RlcyhjaGlsZE5vZGVzKTtcblxuICBkaXJlY3RseVJlcGVhdGVkTm9kZXNMZW5ndGggPSBkaXJlY3RseVJlcGVhdGVkTm9kZXMubGVuZ3RoO1xuXG4gIHdoaWxlIChkaXJlY3RseVJlcGVhdGVkTm9kZXNMZW5ndGggPiAwKSB7XG4gICAgY29uc3QgcmVwbGFjZW1lbnRDaGlsZE5vZGVzID0gW10sXG4gICAgICAgICAgcmVwbGFjZWRDaGlsZE5vZGVzID0gZGlyZWN0bHlSZXBlYXRlZE5vZGVzLCAvLy9cbiAgICAgICAgICBwYXJlbnROb2RlID0gbm9uVGVybWluYWxOb2RlOyAvLy9cblxuICAgIGRpcmVjdGx5UmVwZWF0ZWROb2Rlcy5mb3JFYWNoKChkaXJlY3RseVJlcGVhdGVkTm9kZSkgPT4ge1xuICAgICAgY29uc3QgZGlyZWN0bHlSZXBlYXRlZE5vZGVzQ2hpbGROb2RlcyA9IGRpcmVjdGx5UmVwZWF0ZWROb2RlLmdldENoaWxkTm9kZXMoKTtcblxuICAgICAgcHVzaChyZXBsYWNlbWVudENoaWxkTm9kZXMsIGRpcmVjdGx5UmVwZWF0ZWROb2Rlc0NoaWxkTm9kZXMpO1xuICAgIH0pO1xuXG4gICAgcmVwbGFjZUNoaWxkTm9kZXMocGFyZW50Tm9kZSwgcmVwbGFjZWRDaGlsZE5vZGVzLCByZXBsYWNlbWVudENoaWxkTm9kZXMpO1xuXG4gICAgZGlyZWN0bHlSZXBlYXRlZE5vZGVzID0gZmluZERpcmVjdGx5UmVwZWF0ZWROb2RlcyhjaGlsZE5vZGVzKTtcblxuICAgIGRpcmVjdGx5UmVwZWF0ZWROb2Rlc0xlbmd0aCA9IGRpcmVjdGx5UmVwZWF0ZWROb2Rlcy5sZW5ndGg7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJld3JpdGVSZWR1Y2VkTm9kZXMobm9uVGVybWluYWxOb2RlKSB7XG4gIGxldCBjaGlsZE5vZGVzID0gbm9uVGVybWluYWxOb2RlLmdldENoaWxkTm9kZXMoKTtcblxuICBjb25zdCBmaXJzdENoaWxkTm9kZSA9IGZpcnN0KGNoaWxkTm9kZXMpLFxuICAgICAgICBmaXJzdENoaWxkTm9kZVJlZHVjZWROb2RlID0gKGZpcnN0Q2hpbGROb2RlIGluc3RhbmNlb2YgUmVkdWNlZE5vZGUpO1xuXG4gIGlmIChmaXJzdENoaWxkTm9kZVJlZHVjZWROb2RlKSB7XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vblRlcm1pbmFsTm9kZSwgLy8vXG4gICAgICAgICAgcmVkdWNlZE5vZGUgPSBmaXJzdENoaWxkTm9kZSwgLy8vXG4gICAgICAgICAgcmVwbGFjZWRDaGlsZE5vZGUgPSByZWR1Y2VkTm9kZSwgLy8vXG4gICAgICAgICAgcmVkdWNlZE5vZGVSdWxlTmFtZSA9IHJlZHVjZWROb2RlLmdldFJ1bGVOYW1lKCksXG4gICAgICAgICAgcGFyZW50Tm9kZVJ1bGVOYW1lID0gcGFyZW50Tm9kZS5nZXRSdWxlTmFtZSgpLFxuICAgICAgICAgIHJlZHVjZWRSdWxlTmFtZSA9IHJlZHVjZWROb2RlUnVsZU5hbWUsICAvLy9cbiAgICAgICAgICBwYXJlbnRSdWxlTmFtZSA9IHBhcmVudE5vZGVSdWxlTmFtZSwgIC8vL1xuICAgICAgICAgIHJ1bGVOYW1lID0gcnVsZU5hbWVGcm9tUmVkdWNlZFJ1bGVOYW1lKHJlZHVjZWRSdWxlTmFtZSksXG4gICAgICAgICAgcmVwbGFjZW1lbnRDaGlsZE5vZGVzID0gW107IC8vL1xuXG4gICAgaWYgKHJ1bGVOYW1lID09PSBwYXJlbnRSdWxlTmFtZSkge1xuICAgICAgY29uc3QgcmVkdWNlZE5vZGVDaGlsZE5vZGVzID0gcmVkdWNlZE5vZGUuZ2V0Q2hpbGROb2RlcygpO1xuXG4gICAgICBwdXNoKHJlcGxhY2VtZW50Q2hpbGROb2RlcywgcmVkdWNlZE5vZGVDaGlsZE5vZGVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY2hpbGROb2RlcyA9IHJlZHVjZWROb2RlLmdldENoaWxkTm9kZXMoKSxcbiAgICAgICAgICAgIHByZWNlZGVuY2UgPSByZWR1Y2VkTm9kZS5nZXRQcmVjZWRlbmNlKCksXG4gICAgICAgICAgICBub25UZXJtaW5hbE5vZGUgPSBOb25UZXJtaW5hbE5vZGUuZnJvbVJ1bGVOYW1lQ2hpbGROb2Rlc0FuZFByZWNlZGVuY2UocnVsZU5hbWUsIGNoaWxkTm9kZXMsIHByZWNlZGVuY2UpLFxuICAgICAgICAgICAgcmVwbGFjZW1lbnRDaGlsZE5vZGUgPSBub25UZXJtaW5hbE5vZGU7ICAvLy9cblxuICAgICAgcmVwbGFjZW1lbnRDaGlsZE5vZGVzLnB1c2gocmVwbGFjZW1lbnRDaGlsZE5vZGUpO1xuICAgIH1cblxuICAgIHJlcGxhY2VDaGlsZE5vZGUocGFyZW50Tm9kZSwgcmVwbGFjZWRDaGlsZE5vZGUsIHJlcGxhY2VtZW50Q2hpbGROb2Rlcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVwbGFjZUNoaWxkTm9kZShwYXJlbnROb2RlLCByZXBsYWNlZENoaWxkTm9kZSwgcmVwbGFjZW1lbnRDaGlsZE5vZGVzKSB7XG4gIGNvbnN0IGNoaWxkTm9kZXMgPSBwYXJlbnROb2RlLmdldENoaWxkTm9kZXMoKSxcbiAgICAgICAgaW5kZXggPSBjaGlsZE5vZGVzLmluZGV4T2YocmVwbGFjZWRDaGlsZE5vZGUpLFxuICAgICAgICBzdGFydCA9IGluZGV4LCAgLy8vXG4gICAgICAgIGRlbGV0ZUNvdW50ID0gMTtcblxuICBjaGlsZE5vZGVzLnNwbGljZShzdGFydCwgZGVsZXRlQ291bnQsIC4uLnJlcGxhY2VtZW50Q2hpbGROb2Rlcyk7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VDaGlsZE5vZGVzKHBhcmVudE5vZGUsIHJlcGxhY2VkQ2hpbGROb2RlcywgcmVwbGFjZW1lbnRDaGlsZE5vZGVzKSB7XG4gIGNvbnN0IHJlcGxhY2VkQ2hpbGROb2Rlc0xlbmd0aCA9IHJlcGxhY2VkQ2hpbGROb2Rlcy5sZW5ndGg7XG5cbiAgaWYgKHJlcGxhY2VkQ2hpbGROb2Rlc0xlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGZpcnN0UmVwbGFjZWRDaGlsZE5vZGUgPSBmaXJzdChyZXBsYWNlZENoaWxkTm9kZXMpLFxuICAgICAgICBjaGlsZE5vZGVzID0gcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVzKCksXG4gICAgICAgIGZpcnN0SW5kZXggPSBjaGlsZE5vZGVzLmluZGV4T2YoZmlyc3RSZXBsYWNlZENoaWxkTm9kZSksXG4gICAgICAgIHN0YXJ0ID0gZmlyc3RJbmRleCwgLy8vXG4gICAgICAgIGRlbGV0ZUNvdW50ID0gcmVwbGFjZWRDaGlsZE5vZGVzTGVuZ3RoOyAvLy9cblxuICBjaGlsZE5vZGVzLnNwbGljZShzdGFydCwgZGVsZXRlQ291bnQsIC4uLnJlcGxhY2VtZW50Q2hpbGROb2Rlcyk7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VBbGxDaGlsZE5vZGVzKHBhcmVudE5vZGUsIHJlcGxhY2VtZW50Q2hpbGROb2Rlcykge1xuICBjb25zdCBjaGlsZE5vZGVzID0gcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVzKCk7XG5cbiAgY2xlYXIoY2hpbGROb2Rlcyk7XG5cbiAgcHVzaChjaGlsZE5vZGVzLCByZXBsYWNlbWVudENoaWxkTm9kZXMpO1xufVxuXG5mdW5jdGlvbiBmaW5kRGlyZWN0bHlSZXBlYXRlZE5vZGVzKGNoaWxkTm9kZXMpIHtcbiAgY29uc3QgZGlyZWN0bHlSZXBlYXRlZE5vZGVzID0gZmluZFJlcGVhdGVkTm9uVGVybWluYWxOb2RlcyhjaGlsZE5vZGVzLCAoY2hpbGROb2RlKSA9PiB7IC8vL1xuICAgIGNvbnN0IGNoaWxkTm9kZURpcmVjdGx5UmVwZWF0ZWROb2RlID0gKGNoaWxkTm9kZSBpbnN0YW5jZW9mIERpcmVjdGx5UmVwZWF0ZWROb2RlKTtcblxuICAgIGlmIChjaGlsZE5vZGVEaXJlY3RseVJlcGVhdGVkTm9kZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZGlyZWN0bHlSZXBlYXRlZE5vZGVzO1xufVxuXG5mdW5jdGlvbiBmaW5kSW5kaXJlY3RseVJlcGVhdGVkTm9kZXMoY2hpbGROb2Rlcykge1xuICBjb25zdCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlcyA9IGZpbmRSZXBlYXRlZE5vblRlcm1pbmFsTm9kZXMoY2hpbGROb2RlcywgKGNoaWxkTm9kZSkgPT4geyAvLy9cbiAgICBjb25zdCBjaGlsZE5vZGVJbmRpcmVjdGx5UmVwZWF0ZWROb2RlID0gKGNoaWxkTm9kZSBpbnN0YW5jZW9mIEluZGlyZWN0bHlSZXBlYXRlZE5vZGUpO1xuXG4gICAgaWYgKGNoaWxkTm9kZUluZGlyZWN0bHlSZXBlYXRlZE5vZGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGluZGlyZWN0bHlSZXBlYXRlZE5vZGVzO1xufVxuXG5mdW5jdGlvbiBmaW5kUmVwZWF0ZWROb25UZXJtaW5hbE5vZGVzKGNoaWxkTm9kZXMsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IHJlcGVhdGVkTm9uVGVybWluYWxOb2RlcyA9IFtdLFxuICAgICAgICBsYXN0SW5kZXggPSBjaGlsZE5vZGVzLmZpbmRMYXN0SW5kZXgoY2FsbGJhY2spO1xuXG4gIGlmIChsYXN0SW5kZXggIT09IG51bGwpIHtcbiAgICBmb3IgKGxldCBpbmRleCA9IGxhc3RJbmRleDsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgY29uc3QgY2hpbGROb2RlID0gY2hpbGROb2Rlc1tpbmRleF0sXG4gICAgICAgICAgICBjaGlsZE5vZGVSZXBlYXRlZE5vblRlcm1pbmFsTm9kZSA9IGNhbGxiYWNrKGNoaWxkTm9kZSk7XG5cbiAgICAgIGlmICghY2hpbGROb2RlUmVwZWF0ZWROb25UZXJtaW5hbE5vZGUpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlcGVhdGVkTm9uVGVybWluYWxOb2RlID0gY2hpbGROb2RlOyAgLy8vXG5cbiAgICAgIHJlcGVhdGVkTm9uVGVybWluYWxOb2Rlcy51bnNoaWZ0KHJlcGVhdGVkTm9uVGVybWluYWxOb2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVwZWF0ZWROb25UZXJtaW5hbE5vZGVzO1xufVxuXG5mdW5jdGlvbiByZXdyaXR0ZW5Ob2RlRnJvbU5vblRlcm1pbmFsTm9kZUFuZEluZGlyZWN0bHlSZXBlYXRlZE5vZGUobm9uVGVybWluYWxOb2RlLCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlKSB7XG4gIGxldCBydWxlTmFtZSxcbiAgICAgIGNoaWxkTm9kZXM7XG5cbiAgY2hpbGROb2RlcyA9IG5vblRlcm1pbmFsTm9kZS5nZXRDaGlsZE5vZGVzKCk7XG5cbiAgY29uc3QgaW5kaXJlY3RseVJlcGVhdGVkTm9kZVJ1bGVOYW1lID0gaW5kaXJlY3RseVJlcGVhdGVkTm9kZS5nZXRSdWxlTmFtZSgpLFxuICAgICAgICBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGVSdWxlTmFtZSwgIC8vL1xuICAgICAgICBub25UZXJtaW5hbE5vZGVSdWxlTmFtZSA9IG5vblRlcm1pbmFsTm9kZS5nZXRSdWxlTmFtZSgpLFxuICAgICAgICBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBsZWZ0UmVjdXJzaXZlUnVsZU5hbWVGcm9tSW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUoaW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUpLFxuICAgICAgICBmcm9udENoaWxkTm9kZXMgPSBmcm9udChjaGlsZE5vZGVzKTtcblxuICBydWxlTmFtZSA9IHJ1bGVOYW1lRnJvbUluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lKGluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lKTtcblxuICBpZiAobm9uVGVybWluYWxOb2RlUnVsZU5hbWUgPT09IHJ1bGVOYW1lKSB7XG4gICAgY29uc3QgcHJlY2VkZW5jZSA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGUuZ2V0UHJlY2VkZW5jZSgpO1xuXG4gICAgbm9uVGVybWluYWxOb2RlLnJld3JpdGVQcmVjZWRlbmNlKHByZWNlZGVuY2UpO1xuICB9XG5cbiAgcnVsZU5hbWUgPSBsZWZ0UmVjdXJzaXZlUnVsZU5hbWU7IC8vL1xuXG4gIGNoaWxkTm9kZXMgPSBmcm9udENoaWxkTm9kZXM7IC8vL1xuXG4gIGNvbnN0IHJld3JpdHRlbk5vZGUgPSBSZXdyaXR0ZW5Ob2RlLmZyb21SdWxlTmFtZUFuZENoaWxkTm9kZXMocnVsZU5hbWUsIGNoaWxkTm9kZXMpO1xuXG4gIHJldHVybiByZXdyaXR0ZW5Ob2RlO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlbWVudENoaWxkTm9kZXNGcm9tUmV3cml0dGVuTm9kZUFuZEluZGlyZWN0bHlSZXBlYXRlZE5vZGUocmV3cml0dGVuTm9kZSwgaW5kaXJlY3RseVJlcGVhdGVkTm9kZSkge1xuICBjb25zdCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlQ2hpbGROb2RlcyA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGUuZ2V0Q2hpbGROb2RlcygpLFxuICAgICAgICByZXBsYWNlbWVudENoaWxkTm9kZXMgPSBbXG4gICAgICAgICAgcmV3cml0dGVuTm9kZSxcbiAgICAgICAgICAuLi5pbmRpcmVjdGx5UmVwZWF0ZWROb2RlQ2hpbGROb2Rlc1xuICAgICAgICBdO1xuXG4gIGZpbHRlcihyZXBsYWNlbWVudENoaWxkTm9kZXMsIChyZXBsYWNlbWVudENoaWxkTm9kZSkgPT4ge1xuICAgIGNvbnN0IHJlcGxhY2VtZW50Q2hpbGROb2RlRXBzaWxvbk5vZGUgPSAocmVwbGFjZW1lbnRDaGlsZE5vZGUgaW5zdGFuY2VvZiBFcHNpbG9uTm9kZSk7XG5cbiAgICBpZiAoIXJlcGxhY2VtZW50Q2hpbGROb2RlRXBzaWxvbk5vZGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlcGxhY2VtZW50Q2hpbGROb2Rlcztcbn1cbiJdLCJuYW1lcyI6WyJyZXdyaXRlSW5kaXJlY3RseVJlcGVhdGVkTm9kZXMiLCJyZXdyaXRlRGlyZWN0bHlSZXBlYXRlZE5vZGVzIiwicmV3cml0ZVJlZHVjZWROb2RlcyIsImZyb250IiwiYXJyYXlVdGlsaXRpZXMiLCJmaXJzdCIsInB1c2giLCJjbGVhciIsImZpbHRlciIsImJhY2t3YXJkc1NvbWUiLCJub25UZXJtaW5hbE5vZGUiLCJjaGlsZE5vZGVzIiwiZ2V0Q2hpbGROb2RlcyIsImluZGlyZWN0bHlSZXBlYXRlZE5vZGVzIiwiZmluZEluZGlyZWN0bHlSZXBlYXRlZE5vZGVzIiwiaW5kaXJlY3RseVJlcGVhdGVkTm9kZSIsInBhcmVudE5vZGUiLCJyZXdyaXR0ZW5Ob2RlIiwicmV3cml0dGVuTm9kZUZyb21Ob25UZXJtaW5hbE5vZGVBbmRJbmRpcmVjdGx5UmVwZWF0ZWROb2RlIiwicmVwbGFjZW1lbnRDaGlsZE5vZGVzIiwicmVwbGFjZW1lbnRDaGlsZE5vZGVzRnJvbVJld3JpdHRlbk5vZGVBbmRJbmRpcmVjdGx5UmVwZWF0ZWROb2RlIiwiaW5kaXJlY3RseVJlcGVhdGVkTm9kZVJ1bGVOYW1lIiwiZ2V0UnVsZU5hbWUiLCJpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSIsIm5vblRlcm1pbmFsTm9kZVJ1bGVOYW1lIiwibGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lIiwibGVmdFJlY3Vyc2l2ZVJ1bGVOYW1lRnJvbUluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lIiwicnVsZU5hbWUiLCJydWxlTmFtZUZyb21JbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSIsInByZWNlZGVuY2UiLCJnZXRQcmVjZWRlbmNlIiwicmV3cml0ZVByZWNlZGVuY2UiLCJyZXBsYWNlQWxsQ2hpbGROb2RlcyIsInJlcGxhY2VkQ2hpbGROb2RlcyIsImRpcmVjdGx5UmVwZWF0ZWROb2RlcyIsImZvckVhY2giLCJkaXJlY3RseVJlcGVhdGVkTm9kZSIsImRpcmVjdGx5UmVwZWF0ZWROb2Rlc0NoaWxkTm9kZXMiLCJyZXBsYWNlQ2hpbGROb2RlcyIsImZpbmREaXJlY3RseVJlcGVhdGVkTm9kZXMiLCJkaXJlY3RseVJlcGVhdGVkTm9kZXNMZW5ndGgiLCJsZW5ndGgiLCJmaXJzdENoaWxkTm9kZSIsImZpcnN0Q2hpbGROb2RlUmVkdWNlZE5vZGUiLCJSZWR1Y2VkTm9kZSIsInJlZHVjZWROb2RlIiwicmVwbGFjZWRDaGlsZE5vZGUiLCJyZWR1Y2VkTm9kZVJ1bGVOYW1lIiwicGFyZW50Tm9kZVJ1bGVOYW1lIiwicmVkdWNlZFJ1bGVOYW1lIiwicGFyZW50UnVsZU5hbWUiLCJydWxlTmFtZUZyb21SZWR1Y2VkUnVsZU5hbWUiLCJyZWR1Y2VkTm9kZUNoaWxkTm9kZXMiLCJOb25UZXJtaW5hbE5vZGUiLCJmcm9tUnVsZU5hbWVDaGlsZE5vZGVzQW5kUHJlY2VkZW5jZSIsInJlcGxhY2VtZW50Q2hpbGROb2RlIiwicmVwbGFjZUNoaWxkTm9kZSIsImluZGV4IiwiaW5kZXhPZiIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJzcGxpY2UiLCJyZXBsYWNlZENoaWxkTm9kZXNMZW5ndGgiLCJmaXJzdFJlcGxhY2VkQ2hpbGROb2RlIiwiZmlyc3RJbmRleCIsImZpbmRSZXBlYXRlZE5vblRlcm1pbmFsTm9kZXMiLCJjaGlsZE5vZGUiLCJjaGlsZE5vZGVEaXJlY3RseVJlcGVhdGVkTm9kZSIsIkRpcmVjdGx5UmVwZWF0ZWROb2RlIiwiY2hpbGROb2RlSW5kaXJlY3RseVJlcGVhdGVkTm9kZSIsIkluZGlyZWN0bHlSZXBlYXRlZE5vZGUiLCJjYWxsYmFjayIsInJlcGVhdGVkTm9uVGVybWluYWxOb2RlcyIsImxhc3RJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJjaGlsZE5vZGVSZXBlYXRlZE5vblRlcm1pbmFsTm9kZSIsInJlcGVhdGVkTm9uVGVybWluYWxOb2RlIiwidW5zaGlmdCIsImZyb250Q2hpbGROb2RlcyIsIlJld3JpdHRlbk5vZGUiLCJmcm9tUnVsZU5hbWVBbmRDaGlsZE5vZGVzIiwiaW5kaXJlY3RseVJlcGVhdGVkTm9kZUNoaWxkTm9kZXMiLCJyZXBsYWNlbWVudENoaWxkTm9kZUVwc2lsb25Ob2RlIiwiRXBzaWxvbk5vZGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztJQWNnQkEsOEJBQThCO2VBQTlCQTs7SUFxQ0FDLDRCQUE0QjtlQUE1QkE7O0lBNkJBQyxtQkFBbUI7ZUFBbkJBOzs7eUJBOUVlOzRCQUNjOzhEQUVyQjtnRUFDRTsrREFDTztpRUFDRTt3QkFFc0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXpJLElBQVFDLFFBQXFEQyx5QkFBYyxDQUFuRUQsT0FBT0UsUUFBOENELHlCQUFjLENBQTVEQyxPQUFPQyxPQUF1Q0YseUJBQWMsQ0FBckRFLE1BQU1DLFFBQWlDSCx5QkFBYyxDQUEvQ0csT0FBT0MsU0FBMEJKLHlCQUFjLENBQXhDSSxRQUFRQyxn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