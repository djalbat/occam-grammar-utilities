"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    rewriteDirectlyRepeatedNodes: function() {
        return rewriteDirectlyRepeatedNodes;
    },
    rewriteIndirectlyRepeatedNodes: function() {
        return rewriteIndirectlyRepeatedNodes;
    },
    rewriteReducedNodes: function() {
        return rewriteReducedNodes;
    }
});
var _necessary = require("necessary");
var _occamparsers = require("occam-parsers");
var _reduced = /*#__PURE__*/ _interop_require_default(require("../node/reduced"));
var _directly = /*#__PURE__*/ _interop_require_default(require("../node/repeated/directly"));
var _indirectly = /*#__PURE__*/ _interop_require_default(require("../node/repeated/indirectly"));
var _ruleName = require("../utilities/ruleName");
var _array = require("necessary/lib/utilities/array");
function _instanceof(left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
        return !!right[Symbol.hasInstance](left);
    } else {
        return left instanceof right;
    }
}
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
var push = _necessary.arrayUtilities.push;
function rewriteReducedNodes(nonTerminalNode) {
    var reducedChildNode;
    var firstChildNodeReducedNode = nonTerminalNode.someChildNode(function(childNode, index) {
        if (index === 0) {
            if (_instanceof(childNode, _reduced.default)) {
                reducedChildNode = childNode; ///
                return true;
            }
        }
    });
    if (!firstChildNodeReducedNode) {
        return;
    }
    var parentNode = nonTerminalNode, replacedChildNode = reducedChildNode, replacedChildNodeOpacity = replacedChildNode.getOpacity(), replacedChildNodeRuleName = replacedChildNode.getRuleName(), replacedChildNodePrecedence = replacedChildNode.getPrecedence(), replacedChildNodeChildNodes = replacedChildNode.removeChildNodes(), parentNodeRuleName = parentNode.getRuleName(), reducedRuleName = replacedChildNodeRuleName, parentRuleName = parentNodeRuleName, precedence = replacedChildNodePrecedence, opacity = replacedChildNodeOpacity, ruleName = (0, _ruleName.ruleNameFromReducedRuleName)(reducedRuleName);
    var replacementChildNodes;
    if (ruleName === parentRuleName) {
        replacementChildNodes = replacedChildNodeChildNodes; ///
        parentNode.setPrecedence(precedence);
    } else {
        var childNodes = replacedChildNodeChildNodes, _$nonTerminalNode = _occamparsers.NonTerminalNode.fromRuleNameChildNodesAndOpacity(ruleName, childNodes, opacity), replacementChildNode = _$nonTerminalNode; ///
        replacementChildNode.setPrecedence(precedence);
        replacementChildNodes = [
            replacementChildNode
        ];
    }
    parentNode.replaceChildNode(replacedChildNode, replacementChildNodes);
}
function rewriteDirectlyRepeatedNodes(nonTerminalNode) {
    var directlyRepeatedNodesReplaced;
    directlyRepeatedNodesReplaced = replaceDirectlyRepeatedNodes(nonTerminalNode);
    while(directlyRepeatedNodesReplaced){
        directlyRepeatedNodesReplaced = replaceDirectlyRepeatedNodes(nonTerminalNode);
    }
}
function rewriteIndirectlyRepeatedNodes(nonTerminalNode) {
    var parentNode = nonTerminalNode; ///
    var indirectlyRepeatedNodes = findIndirectlyRepeatedNodes(nonTerminalNode);
    indirectlyRepeatedNodes.forEach(function(indirectlyRepeatedNode) {
        var leftRecursiveNode = leftRecursiveNodeFromParentNodeAndIndirectlyRepeatedNode(parentNode, indirectlyRepeatedNode), childNodes = childNodesFromLeftRecursiveNodeNodeAndIndirectlyRepeatedNode(leftRecursiveNode, indirectlyRepeatedNode);
        adjustParentNodePrecedence(parentNode, indirectlyRepeatedNode);
        parentNode.setChildNodes(childNodes);
        parentNode = leftRecursiveNode; ///
    });
    return parentNode;
}
function findRepeatedNodes(nonTerminalNode, RepeatedNode) {
    var repeatedNodes;
    var endIndex = -1;
    nonTerminalNode.backwardsSomeChildNode(function(childNode, index) {
        var childNodeRepeatedNode = _instanceof(childNode, RepeatedNode);
        if (childNodeRepeatedNode) {
            endIndex = index + 1;
            return true;
        }
    });
    if (endIndex === -1) {
        repeatedNodes = [];
    } else {
        var startIndex;
        nonTerminalNode.backwardsSomeChildNode(function(childNode, index) {
            if (index < endIndex) {
                var childNodeRepeatedNode = _instanceof(childNode, RepeatedNode);
                if (!childNodeRepeatedNode) {
                    startIndex = index + 1;
                }
            }
        });
        var childNodes = nonTerminalNode.sliceChildNodes(startIndex, endIndex);
        repeatedNodes = childNodes;
    }
    return repeatedNodes;
}
function removeFrontChildNodes(parentNode) {
    var multiplicity = parentNode.getMultiplicity(), deleteCount = multiplicity - 1, start = 0, removedFrontChildNodes = parentNode.spliceChildNodes(start, deleteCount);
    return removedFrontChildNodes;
}
function findDirectlyRepeatedNodes(nonTerminalNode) {
    var directlyRepeatedNodes = findRepeatedNodes(nonTerminalNode, _directly.default);
    return directlyRepeatedNodes;
}
function findIndirectlyRepeatedNodes(nonTerminalNode) {
    var indirectlyRepeatedNodes = findRepeatedNodes(nonTerminalNode, _indirectly.default);
    indirectlyRepeatedNodes.reverse();
    return indirectlyRepeatedNodes;
}
function replaceDirectlyRepeatedNodes(nonTerminalNode) {
    var directlyRepeatedNodesReplaced = false;
    var directlyRepeatedNodes = findDirectlyRepeatedNodes(nonTerminalNode), directlyRepeatedNodesLength = directlyRepeatedNodes.length;
    if (directlyRepeatedNodesLength > 0) {
        var parentNode = nonTerminalNode, replacedChildNodes = directlyRepeatedNodes, replacementChildNodes = []; ///
        directlyRepeatedNodes.forEach(function(directlyRepeatedNode) {
            var directlyRepeatedNodesChildNodes = directlyRepeatedNode.removeChildNodes();
            push(replacementChildNodes, directlyRepeatedNodesChildNodes);
        });
        parentNode.replaceChildNodes(replacedChildNodes, replacementChildNodes);
        directlyRepeatedNodesReplaced = true;
    }
    return directlyRepeatedNodesReplaced;
}
function adjustParentNodePrecedence(parentNode, indirectlyRepeatedNode) {
    var indirectlyRepeatedNodeRuleName = indirectlyRepeatedNode.getRuleName(), indirectlyRepeatedRuleName = indirectlyRepeatedNodeRuleName, parentNodeNodeRuleName = parentNode.getRuleName(), ruleName = (0, _ruleName.ruleNameFromIndirectlyRepeatedRuleName)(indirectlyRepeatedRuleName);
    if (parentNodeNodeRuleName === ruleName) {
        var precedence = indirectlyRepeatedNode.getPrecedence();
        parentNode.setPrecedence(precedence);
    }
}
function leftRecursiveNodeFromParentNodeAndIndirectlyRepeatedNode(parentNode, indirectlyRepeatedNode) {
    var indirectlyRepeatedNodeRuleName = indirectlyRepeatedNode.getRuleName(), indirectlyRepeatedNodeOpacity = indirectlyRepeatedNode.getOpacity(), indirectlyRepeatedRuleName = indirectlyRepeatedNodeRuleName, removedFrontChildNodes = removeFrontChildNodes(parentNode), leftRecursiveRuleName = (0, _ruleName.leftRecursiveRuleNameFromIndirectlyRepeatedRuleName)(indirectlyRepeatedRuleName), ruleName = leftRecursiveRuleName, childNodes = removedFrontChildNodes, opacity = indirectlyRepeatedNodeOpacity, nonTerminalNode = _occamparsers.NonTerminalNode.fromRuleNameChildNodesAndOpacity(ruleName, childNodes, opacity), leftRecursiveNode = nonTerminalNode; ///
    return leftRecursiveNode;
}
function childNodesFromLeftRecursiveNodeNodeAndIndirectlyRepeatedNode(leftRecursiveNode, indirectlyRepeatedNode) {
    var childNodes = [
        leftRecursiveNode
    ], indirectlyRepeatedNodeNullary = indirectlyRepeatedNode.isNullary();
    if (!indirectlyRepeatedNodeNullary) {
        var removedChildNodes = indirectlyRepeatedNode.removeChildNodes();
        push(childNodes, removedChildNodes);
    }
    return childNodes;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcmV3cml0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgYXJyYXlVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5pbXBvcnQgeyBOb25UZXJtaW5hbE5vZGUgfSBmcm9tIFwib2NjYW0tcGFyc2Vyc1wiO1xuXG5pbXBvcnQgUmVkdWNlZE5vZGUgZnJvbSBcIi4uL25vZGUvcmVkdWNlZFwiO1xuaW1wb3J0IERpcmVjdGx5UmVwZWF0ZWROb2RlIGZyb20gXCIuLi9ub2RlL3JlcGVhdGVkL2RpcmVjdGx5XCI7XG5pbXBvcnQgSW5kaXJlY3RseVJlcGVhdGVkTm9kZSBmcm9tIFwiLi4vbm9kZS9yZXBlYXRlZC9pbmRpcmVjdGx5XCI7XG5cbmltcG9ydCB7IHJ1bGVOYW1lRnJvbVJlZHVjZWRSdWxlTmFtZSwgcnVsZU5hbWVGcm9tSW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUsIGxlZnRSZWN1cnNpdmVSdWxlTmFtZUZyb21JbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvcnVsZU5hbWVcIjtcbmltcG9ydCB7YmFja3dhcmRzU29tZX0gZnJvbSBcIm5lY2Vzc2FyeS9saWIvdXRpbGl0aWVzL2FycmF5XCI7XG5cbmNvbnN0IHsgcHVzaCB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXdyaXRlUmVkdWNlZE5vZGVzKG5vblRlcm1pbmFsTm9kZSkge1xuICBsZXQgcmVkdWNlZENoaWxkTm9kZTtcblxuICBjb25zdCBmaXJzdENoaWxkTm9kZVJlZHVjZWROb2RlID0gbm9uVGVybWluYWxOb2RlLnNvbWVDaGlsZE5vZGUoKGNoaWxkTm9kZSwgaW5kZXgpID0+IHtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIGlmIChjaGlsZE5vZGUgaW5zdGFuY2VvZiBSZWR1Y2VkTm9kZSkge1xuICAgICAgICByZWR1Y2VkQ2hpbGROb2RlID0gY2hpbGROb2RlOyAvLy9cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgaWYgKCFmaXJzdENoaWxkTm9kZVJlZHVjZWROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcGFyZW50Tm9kZSA9IG5vblRlcm1pbmFsTm9kZSwgLy8vXG4gICAgICAgIHJlcGxhY2VkQ2hpbGROb2RlID0gcmVkdWNlZENoaWxkTm9kZSwgLy8vXG4gICAgICAgIHJlcGxhY2VkQ2hpbGROb2RlT3BhY2l0eSA9IHJlcGxhY2VkQ2hpbGROb2RlLmdldE9wYWNpdHkoKSxcbiAgICAgICAgcmVwbGFjZWRDaGlsZE5vZGVSdWxlTmFtZSA9IHJlcGxhY2VkQ2hpbGROb2RlLmdldFJ1bGVOYW1lKCksXG4gICAgICAgIHJlcGxhY2VkQ2hpbGROb2RlUHJlY2VkZW5jZSA9IHJlcGxhY2VkQ2hpbGROb2RlLmdldFByZWNlZGVuY2UoKSxcbiAgICAgICAgcmVwbGFjZWRDaGlsZE5vZGVDaGlsZE5vZGVzID0gcmVwbGFjZWRDaGlsZE5vZGUucmVtb3ZlQ2hpbGROb2RlcygpLFxuICAgICAgICBwYXJlbnROb2RlUnVsZU5hbWUgPSBwYXJlbnROb2RlLmdldFJ1bGVOYW1lKCksXG4gICAgICAgIHJlZHVjZWRSdWxlTmFtZSA9IHJlcGxhY2VkQ2hpbGROb2RlUnVsZU5hbWUsICAvLy9cbiAgICAgICAgcGFyZW50UnVsZU5hbWUgPSBwYXJlbnROb2RlUnVsZU5hbWUsICAvLy9cbiAgICAgICAgcHJlY2VkZW5jZSA9IHJlcGxhY2VkQ2hpbGROb2RlUHJlY2VkZW5jZSwgLy8vXG4gICAgICAgIG9wYWNpdHkgPSByZXBsYWNlZENoaWxkTm9kZU9wYWNpdHksIC8vL1xuICAgICAgICBydWxlTmFtZSA9IHJ1bGVOYW1lRnJvbVJlZHVjZWRSdWxlTmFtZShyZWR1Y2VkUnVsZU5hbWUpO1xuXG4gIGxldCByZXBsYWNlbWVudENoaWxkTm9kZXM7XG5cbiAgaWYgKHJ1bGVOYW1lID09PSBwYXJlbnRSdWxlTmFtZSkge1xuICAgIHJlcGxhY2VtZW50Q2hpbGROb2RlcyA9IHJlcGxhY2VkQ2hpbGROb2RlQ2hpbGROb2RlczsgIC8vL1xuXG4gICAgcGFyZW50Tm9kZS5zZXRQcmVjZWRlbmNlKHByZWNlZGVuY2UpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNoaWxkTm9kZXMgPSByZXBsYWNlZENoaWxkTm9kZUNoaWxkTm9kZXMsIC8vL1xuICAgICAgICAgIG5vblRlcm1pbmFsTm9kZSA9IE5vblRlcm1pbmFsTm9kZS5mcm9tUnVsZU5hbWVDaGlsZE5vZGVzQW5kT3BhY2l0eShydWxlTmFtZSwgY2hpbGROb2Rlcywgb3BhY2l0eSksXG4gICAgICAgICAgcmVwbGFjZW1lbnRDaGlsZE5vZGUgPSBub25UZXJtaW5hbE5vZGU7IC8vL1xuXG4gICAgcmVwbGFjZW1lbnRDaGlsZE5vZGUuc2V0UHJlY2VkZW5jZShwcmVjZWRlbmNlKTtcblxuICAgIHJlcGxhY2VtZW50Q2hpbGROb2RlcyA9IFtcbiAgICAgIHJlcGxhY2VtZW50Q2hpbGROb2RlXG4gICAgXTtcbiAgfVxuXG4gIHBhcmVudE5vZGUucmVwbGFjZUNoaWxkTm9kZShyZXBsYWNlZENoaWxkTm9kZSwgcmVwbGFjZW1lbnRDaGlsZE5vZGVzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJld3JpdGVEaXJlY3RseVJlcGVhdGVkTm9kZXMobm9uVGVybWluYWxOb2RlKSB7XG4gIGxldCBkaXJlY3RseVJlcGVhdGVkTm9kZXNSZXBsYWNlZDtcblxuICBkaXJlY3RseVJlcGVhdGVkTm9kZXNSZXBsYWNlZCA9IHJlcGxhY2VEaXJlY3RseVJlcGVhdGVkTm9kZXMobm9uVGVybWluYWxOb2RlKTtcblxuICB3aGlsZSAoZGlyZWN0bHlSZXBlYXRlZE5vZGVzUmVwbGFjZWQpIHtcbiAgICBkaXJlY3RseVJlcGVhdGVkTm9kZXNSZXBsYWNlZCA9IHJlcGxhY2VEaXJlY3RseVJlcGVhdGVkTm9kZXMobm9uVGVybWluYWxOb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmV3cml0ZUluZGlyZWN0bHlSZXBlYXRlZE5vZGVzKG5vblRlcm1pbmFsTm9kZSkge1xuICBsZXQgcGFyZW50Tm9kZSA9IG5vblRlcm1pbmFsTm9kZTsgLy8vXG5cbiAgY29uc3QgaW5kaXJlY3RseVJlcGVhdGVkTm9kZXMgPSBmaW5kSW5kaXJlY3RseVJlcGVhdGVkTm9kZXMobm9uVGVybWluYWxOb2RlKTtcblxuICBpbmRpcmVjdGx5UmVwZWF0ZWROb2Rlcy5mb3JFYWNoKChpbmRpcmVjdGx5UmVwZWF0ZWROb2RlKSA9PiB7XG4gICAgY29uc3QgbGVmdFJlY3Vyc2l2ZU5vZGUgPSBsZWZ0UmVjdXJzaXZlTm9kZUZyb21QYXJlbnROb2RlQW5kSW5kaXJlY3RseVJlcGVhdGVkTm9kZShwYXJlbnROb2RlLCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlKSxcbiAgICAgICAgICBjaGlsZE5vZGVzID0gY2hpbGROb2Rlc0Zyb21MZWZ0UmVjdXJzaXZlTm9kZU5vZGVBbmRJbmRpcmVjdGx5UmVwZWF0ZWROb2RlKGxlZnRSZWN1cnNpdmVOb2RlLCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlKTtcblxuICAgIGFkanVzdFBhcmVudE5vZGVQcmVjZWRlbmNlKHBhcmVudE5vZGUsIGluZGlyZWN0bHlSZXBlYXRlZE5vZGUpO1xuXG4gICAgcGFyZW50Tm9kZS5zZXRDaGlsZE5vZGVzKGNoaWxkTm9kZXMpO1xuXG4gICAgcGFyZW50Tm9kZSA9IGxlZnRSZWN1cnNpdmVOb2RlOyAvLy9cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcmVudE5vZGU7XG59XG5cbmZ1bmN0aW9uIGZpbmRSZXBlYXRlZE5vZGVzKG5vblRlcm1pbmFsTm9kZSwgUmVwZWF0ZWROb2RlKSB7XG4gIGxldCByZXBlYXRlZE5vZGVzO1xuXG4gIGxldCBlbmRJbmRleCA9IC0xO1xuXG4gIG5vblRlcm1pbmFsTm9kZS5iYWNrd2FyZHNTb21lQ2hpbGROb2RlKChjaGlsZE5vZGUsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgY2hpbGROb2RlUmVwZWF0ZWROb2RlID0gKGNoaWxkTm9kZSBpbnN0YW5jZW9mIFJlcGVhdGVkTm9kZSk7XG5cbiAgICBpZiAoY2hpbGROb2RlUmVwZWF0ZWROb2RlKSB7XG4gICAgICBlbmRJbmRleCA9IGluZGV4ICsgMTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICBpZiAoZW5kSW5kZXggPT09IC0xKSB7XG4gICAgcmVwZWF0ZWROb2RlcyA9IFtdO1xuICB9IGVsc2Uge1xuICAgIGxldCBzdGFydEluZGV4O1xuXG4gICAgbm9uVGVybWluYWxOb2RlLmJhY2t3YXJkc1NvbWVDaGlsZE5vZGUoKGNoaWxkTm9kZSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA8IGVuZEluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZVJlcGVhdGVkTm9kZSA9IChjaGlsZE5vZGUgaW5zdGFuY2VvZiBSZXBlYXRlZE5vZGUpO1xuXG4gICAgICAgIGlmICghY2hpbGROb2RlUmVwZWF0ZWROb2RlKSB7XG4gICAgICAgICAgc3RhcnRJbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2hpbGROb2RlcyA9IG5vblRlcm1pbmFsTm9kZS5zbGljZUNoaWxkTm9kZXMoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuXG4gICAgcmVwZWF0ZWROb2RlcyA9IGNoaWxkTm9kZXM7XG4gIH1cblxuICByZXR1cm4gcmVwZWF0ZWROb2Rlcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRnJvbnRDaGlsZE5vZGVzKHBhcmVudE5vZGUpIHtcbiAgY29uc3QgbXVsdGlwbGljaXR5ID0gcGFyZW50Tm9kZS5nZXRNdWx0aXBsaWNpdHkoKSxcbiAgICAgICAgZGVsZXRlQ291bnQgPSBtdWx0aXBsaWNpdHkgLSAxLFxuICAgICAgICBzdGFydCA9IDAsXG4gICAgICAgIHJlbW92ZWRGcm9udENoaWxkTm9kZXMgPSBwYXJlbnROb2RlLnNwbGljZUNoaWxkTm9kZXMoc3RhcnQsIGRlbGV0ZUNvdW50KTtcblxuICByZXR1cm4gcmVtb3ZlZEZyb250Q2hpbGROb2Rlcztcbn1cblxuZnVuY3Rpb24gZmluZERpcmVjdGx5UmVwZWF0ZWROb2Rlcyhub25UZXJtaW5hbE5vZGUpIHtcbiAgY29uc3QgZGlyZWN0bHlSZXBlYXRlZE5vZGVzID0gZmluZFJlcGVhdGVkTm9kZXMobm9uVGVybWluYWxOb2RlLCBEaXJlY3RseVJlcGVhdGVkTm9kZSk7XG5cbiAgcmV0dXJuIGRpcmVjdGx5UmVwZWF0ZWROb2Rlcztcbn1cblxuZnVuY3Rpb24gZmluZEluZGlyZWN0bHlSZXBlYXRlZE5vZGVzKG5vblRlcm1pbmFsTm9kZSkge1xuICBjb25zdCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlcyA9IGZpbmRSZXBlYXRlZE5vZGVzKG5vblRlcm1pbmFsTm9kZSwgSW5kaXJlY3RseVJlcGVhdGVkTm9kZSk7XG5cbiAgaW5kaXJlY3RseVJlcGVhdGVkTm9kZXMucmV2ZXJzZSgpO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5UmVwZWF0ZWROb2Rlcztcbn1cblxuZnVuY3Rpb24gcmVwbGFjZURpcmVjdGx5UmVwZWF0ZWROb2Rlcyhub25UZXJtaW5hbE5vZGUpIHtcbiAgbGV0IGRpcmVjdGx5UmVwZWF0ZWROb2Rlc1JlcGxhY2VkID0gZmFsc2U7XG5cbiAgY29uc3QgZGlyZWN0bHlSZXBlYXRlZE5vZGVzID0gZmluZERpcmVjdGx5UmVwZWF0ZWROb2Rlcyhub25UZXJtaW5hbE5vZGUpLFxuICAgICAgICBkaXJlY3RseVJlcGVhdGVkTm9kZXNMZW5ndGggPSBkaXJlY3RseVJlcGVhdGVkTm9kZXMubGVuZ3RoO1xuXG4gIGlmIChkaXJlY3RseVJlcGVhdGVkTm9kZXNMZW5ndGggPiAwKSB7XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vblRlcm1pbmFsTm9kZSwgLy8vXG4gICAgICAgICAgcmVwbGFjZWRDaGlsZE5vZGVzID0gZGlyZWN0bHlSZXBlYXRlZE5vZGVzLCAvLy9cbiAgICAgICAgICByZXBsYWNlbWVudENoaWxkTm9kZXMgPSBbXTsgLy8vXG5cbiAgICBkaXJlY3RseVJlcGVhdGVkTm9kZXMuZm9yRWFjaCgoZGlyZWN0bHlSZXBlYXRlZE5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGRpcmVjdGx5UmVwZWF0ZWROb2Rlc0NoaWxkTm9kZXMgPSBkaXJlY3RseVJlcGVhdGVkTm9kZS5yZW1vdmVDaGlsZE5vZGVzKCk7XG5cbiAgICAgIHB1c2gocmVwbGFjZW1lbnRDaGlsZE5vZGVzLCBkaXJlY3RseVJlcGVhdGVkTm9kZXNDaGlsZE5vZGVzKTtcbiAgICB9KTtcblxuICAgIHBhcmVudE5vZGUucmVwbGFjZUNoaWxkTm9kZXMocmVwbGFjZWRDaGlsZE5vZGVzLCByZXBsYWNlbWVudENoaWxkTm9kZXMpO1xuXG4gICAgZGlyZWN0bHlSZXBlYXRlZE5vZGVzUmVwbGFjZWQgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGRpcmVjdGx5UmVwZWF0ZWROb2Rlc1JlcGxhY2VkO1xufVxuXG5mdW5jdGlvbiBhZGp1c3RQYXJlbnROb2RlUHJlY2VkZW5jZShwYXJlbnROb2RlLCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlKSB7XG4gIGNvbnN0IGluZGlyZWN0bHlSZXBlYXRlZE5vZGVSdWxlTmFtZSA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGUuZ2V0UnVsZU5hbWUoKSxcbiAgICAgICAgaW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUgPSBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlUnVsZU5hbWUsICAvLy9cbiAgICAgICAgcGFyZW50Tm9kZU5vZGVSdWxlTmFtZSA9IHBhcmVudE5vZGUuZ2V0UnVsZU5hbWUoKSxcbiAgICAgICAgcnVsZU5hbWUgPSBydWxlTmFtZUZyb21JbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZShpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSk7XG5cbiAgaWYgKHBhcmVudE5vZGVOb2RlUnVsZU5hbWUgPT09IHJ1bGVOYW1lKSB7XG4gICAgY29uc3QgcHJlY2VkZW5jZSA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGUuZ2V0UHJlY2VkZW5jZSgpO1xuXG4gICAgcGFyZW50Tm9kZS5zZXRQcmVjZWRlbmNlKHByZWNlZGVuY2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGxlZnRSZWN1cnNpdmVOb2RlRnJvbVBhcmVudE5vZGVBbmRJbmRpcmVjdGx5UmVwZWF0ZWROb2RlKHBhcmVudE5vZGUsIGluZGlyZWN0bHlSZXBlYXRlZE5vZGUpIHtcbiAgY29uc3QgaW5kaXJlY3RseVJlcGVhdGVkTm9kZVJ1bGVOYW1lID0gaW5kaXJlY3RseVJlcGVhdGVkTm9kZS5nZXRSdWxlTmFtZSgpLFxuICAgICAgICBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlT3BhY2l0eSA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGUuZ2V0T3BhY2l0eSgpLFxuICAgICAgICBpbmRpcmVjdGx5UmVwZWF0ZWRSdWxlTmFtZSA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGVSdWxlTmFtZSwgIC8vL1xuICAgICAgICByZW1vdmVkRnJvbnRDaGlsZE5vZGVzID0gcmVtb3ZlRnJvbnRDaGlsZE5vZGVzKHBhcmVudE5vZGUpLFxuICAgICAgICBsZWZ0UmVjdXJzaXZlUnVsZU5hbWUgPSBsZWZ0UmVjdXJzaXZlUnVsZU5hbWVGcm9tSW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUoaW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUpLFxuICAgICAgICBydWxlTmFtZSA9IGxlZnRSZWN1cnNpdmVSdWxlTmFtZSwgLy8vXG4gICAgICAgIGNoaWxkTm9kZXMgPSByZW1vdmVkRnJvbnRDaGlsZE5vZGVzLCAgLy8vXG4gICAgICAgIG9wYWNpdHkgPSBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlT3BhY2l0eSwgIC8vL1xuICAgICAgICBub25UZXJtaW5hbE5vZGUgPSBOb25UZXJtaW5hbE5vZGUuZnJvbVJ1bGVOYW1lQ2hpbGROb2Rlc0FuZE9wYWNpdHkocnVsZU5hbWUsIGNoaWxkTm9kZXMsIG9wYWNpdHkpLFxuICAgICAgICBsZWZ0UmVjdXJzaXZlTm9kZSA9IG5vblRlcm1pbmFsTm9kZTsgIC8vL1xuXG4gIHJldHVybiBsZWZ0UmVjdXJzaXZlTm9kZTtcbn1cblxuZnVuY3Rpb24gY2hpbGROb2Rlc0Zyb21MZWZ0UmVjdXJzaXZlTm9kZU5vZGVBbmRJbmRpcmVjdGx5UmVwZWF0ZWROb2RlKGxlZnRSZWN1cnNpdmVOb2RlLCBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlKSB7XG4gIGNvbnN0IGNoaWxkTm9kZXMgPSBbXG4gICAgICAgICAgbGVmdFJlY3Vyc2l2ZU5vZGVcbiAgICAgICAgXSxcbiAgICAgICAgaW5kaXJlY3RseVJlcGVhdGVkTm9kZU51bGxhcnkgPSBpbmRpcmVjdGx5UmVwZWF0ZWROb2RlLmlzTnVsbGFyeSgpO1xuXG4gIGlmICghaW5kaXJlY3RseVJlcGVhdGVkTm9kZU51bGxhcnkpIHtcbiAgICBjb25zdCByZW1vdmVkQ2hpbGROb2RlcyA9IGluZGlyZWN0bHlSZXBlYXRlZE5vZGUucmVtb3ZlQ2hpbGROb2RlcygpO1xuXG4gICAgcHVzaChjaGlsZE5vZGVzLCByZW1vdmVkQ2hpbGROb2Rlcyk7XG4gIH1cblxuICByZXR1cm4gY2hpbGROb2Rlcztcbn1cbiJdLCJuYW1lcyI6WyJyZXdyaXRlRGlyZWN0bHlSZXBlYXRlZE5vZGVzIiwicmV3cml0ZUluZGlyZWN0bHlSZXBlYXRlZE5vZGVzIiwicmV3cml0ZVJlZHVjZWROb2RlcyIsInB1c2giLCJhcnJheVV0aWxpdGllcyIsIm5vblRlcm1pbmFsTm9kZSIsInJlZHVjZWRDaGlsZE5vZGUiLCJmaXJzdENoaWxkTm9kZVJlZHVjZWROb2RlIiwic29tZUNoaWxkTm9kZSIsImNoaWxkTm9kZSIsImluZGV4IiwiUmVkdWNlZE5vZGUiLCJwYXJlbnROb2RlIiwicmVwbGFjZWRDaGlsZE5vZGUiLCJyZXBsYWNlZENoaWxkTm9kZU9wYWNpdHkiLCJnZXRPcGFjaXR5IiwicmVwbGFjZWRDaGlsZE5vZGVSdWxlTmFtZSIsImdldFJ1bGVOYW1lIiwicmVwbGFjZWRDaGlsZE5vZGVQcmVjZWRlbmNlIiwiZ2V0UHJlY2VkZW5jZSIsInJlcGxhY2VkQ2hpbGROb2RlQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkTm9kZXMiLCJwYXJlbnROb2RlUnVsZU5hbWUiLCJyZWR1Y2VkUnVsZU5hbWUiLCJwYXJlbnRSdWxlTmFtZSIsInByZWNlZGVuY2UiLCJvcGFjaXR5IiwicnVsZU5hbWUiLCJydWxlTmFtZUZyb21SZWR1Y2VkUnVsZU5hbWUiLCJyZXBsYWNlbWVudENoaWxkTm9kZXMiLCJzZXRQcmVjZWRlbmNlIiwiY2hpbGROb2RlcyIsIk5vblRlcm1pbmFsTm9kZSIsImZyb21SdWxlTmFtZUNoaWxkTm9kZXNBbmRPcGFjaXR5IiwicmVwbGFjZW1lbnRDaGlsZE5vZGUiLCJyZXBsYWNlQ2hpbGROb2RlIiwiZGlyZWN0bHlSZXBlYXRlZE5vZGVzUmVwbGFjZWQiLCJyZXBsYWNlRGlyZWN0bHlSZXBlYXRlZE5vZGVzIiwiaW5kaXJlY3RseVJlcGVhdGVkTm9kZXMiLCJmaW5kSW5kaXJlY3RseVJlcGVhdGVkTm9kZXMiLCJmb3JFYWNoIiwiaW5kaXJlY3RseVJlcGVhdGVkTm9kZSIsImxlZnRSZWN1cnNpdmVOb2RlIiwibGVmdFJlY3Vyc2l2ZU5vZGVGcm9tUGFyZW50Tm9kZUFuZEluZGlyZWN0bHlSZXBlYXRlZE5vZGUiLCJjaGlsZE5vZGVzRnJvbUxlZnRSZWN1cnNpdmVOb2RlTm9kZUFuZEluZGlyZWN0bHlSZXBlYXRlZE5vZGUiLCJhZGp1c3RQYXJlbnROb2RlUHJlY2VkZW5jZSIsInNldENoaWxkTm9kZXMiLCJmaW5kUmVwZWF0ZWROb2RlcyIsIlJlcGVhdGVkTm9kZSIsInJlcGVhdGVkTm9kZXMiLCJlbmRJbmRleCIsImJhY2t3YXJkc1NvbWVDaGlsZE5vZGUiLCJjaGlsZE5vZGVSZXBlYXRlZE5vZGUiLCJzdGFydEluZGV4Iiwic2xpY2VDaGlsZE5vZGVzIiwicmVtb3ZlRnJvbnRDaGlsZE5vZGVzIiwibXVsdGlwbGljaXR5IiwiZ2V0TXVsdGlwbGljaXR5IiwiZGVsZXRlQ291bnQiLCJzdGFydCIsInJlbW92ZWRGcm9udENoaWxkTm9kZXMiLCJzcGxpY2VDaGlsZE5vZGVzIiwiZmluZERpcmVjdGx5UmVwZWF0ZWROb2RlcyIsImRpcmVjdGx5UmVwZWF0ZWROb2RlcyIsIkRpcmVjdGx5UmVwZWF0ZWROb2RlIiwiSW5kaXJlY3RseVJlcGVhdGVkTm9kZSIsInJldmVyc2UiLCJkaXJlY3RseVJlcGVhdGVkTm9kZXNMZW5ndGgiLCJsZW5ndGgiLCJyZXBsYWNlZENoaWxkTm9kZXMiLCJkaXJlY3RseVJlcGVhdGVkTm9kZSIsImRpcmVjdGx5UmVwZWF0ZWROb2Rlc0NoaWxkTm9kZXMiLCJyZXBsYWNlQ2hpbGROb2RlcyIsImluZGlyZWN0bHlSZXBlYXRlZE5vZGVSdWxlTmFtZSIsImluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lIiwicGFyZW50Tm9kZU5vZGVSdWxlTmFtZSIsInJ1bGVOYW1lRnJvbUluZGlyZWN0bHlSZXBlYXRlZFJ1bGVOYW1lIiwiaW5kaXJlY3RseVJlcGVhdGVkTm9kZU9wYWNpdHkiLCJsZWZ0UmVjdXJzaXZlUnVsZU5hbWUiLCJsZWZ0UmVjdXJzaXZlUnVsZU5hbWVGcm9tSW5kaXJlY3RseVJlcGVhdGVkUnVsZU5hbWUiLCJpbmRpcmVjdGx5UmVwZWF0ZWROb2RlTnVsbGFyeSIsImlzTnVsbGFyeSIsInJlbW92ZWRDaGlsZE5vZGVzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7SUFpRWdCQSw0QkFBNEI7ZUFBNUJBOztJQVVBQyw4QkFBOEI7ZUFBOUJBOztJQTdEQUMsbUJBQW1CO2VBQW5CQTs7O3lCQVplOzRCQUNDOzhEQUVSOytEQUNTO2lFQUNFO3dCQUVzRztxQkFDN0c7Ozs7Ozs7Ozs7Ozs7QUFFNUIsSUFBTSxBQUFFQyxPQUFTQyx5QkFBYyxDQUF2QkQ7QUFFRCxTQUFTRCxvQkFBb0JHLGVBQWU7SUFDakQsSUFBSUM7SUFFSixJQUFNQyw0QkFBNEJGLGdCQUFnQkcsYUFBYSxDQUFDLFNBQUNDLFdBQVdDO1FBQzFFLElBQUlBLFVBQVUsR0FBRztZQUNmLElBQUlELEFBQVMsWUFBVEEsV0FBcUJF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