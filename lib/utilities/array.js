'use strict';

var necessary = require('necessary');

var arrayUtilities = necessary.arrayUtilities;


function iterateWithDelete(array, callback) {
  var arrayLength = array.length;

  var index = 0,
      count = 0;

  while (index < arrayLength) {
    var element = array[index],
        result = callback(element, count);

    if (result) {
      var start = index,
          deleteCount = 1;

      array.splice(start, deleteCount);

      arrayLength--;
    } else {
      index++;
    }

    count++;
  }
}

module.exports = Object.assign(arrayUtilities, {
  iterateWithDelete: iterateWithDelete
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvYXJyYXkuanMiXSwibmFtZXMiOlsibmVjZXNzYXJ5IiwicmVxdWlyZSIsImFycmF5VXRpbGl0aWVzIiwiaXRlcmF0ZVdpdGhEZWxldGUiLCJhcnJheSIsImNhbGxiYWNrIiwiYXJyYXlMZW5ndGgiLCJsZW5ndGgiLCJpbmRleCIsImNvdW50IiwiZWxlbWVudCIsInJlc3VsdCIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJzcGxpY2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiT2JqZWN0IiwiYXNzaWduIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxZQUFZQyxRQUFRLFdBQVIsQ0FBbEI7O0lBRVFDLGMsR0FBbUJGLFMsQ0FBbkJFLGM7OztBQUVSLFNBQVNDLGlCQUFULENBQTJCQyxLQUEzQixFQUFrQ0MsUUFBbEMsRUFBNEM7QUFDMUMsTUFBSUMsY0FBY0YsTUFBTUcsTUFBeEI7O0FBRUEsTUFBSUMsUUFBUSxDQUFaO0FBQUEsTUFDSUMsUUFBUSxDQURaOztBQUdBLFNBQU9ELFFBQVFGLFdBQWYsRUFBNEI7QUFDMUIsUUFBTUksVUFBVU4sTUFBTUksS0FBTixDQUFoQjtBQUFBLFFBQ01HLFNBQVNOLFNBQVNLLE9BQVQsRUFBa0JELEtBQWxCLENBRGY7O0FBR0EsUUFBSUUsTUFBSixFQUFZO0FBQ1YsVUFBTUMsUUFBUUosS0FBZDtBQUFBLFVBQ01LLGNBQWMsQ0FEcEI7O0FBR0FULFlBQU1VLE1BQU4sQ0FBYUYsS0FBYixFQUFvQkMsV0FBcEI7O0FBRUFQO0FBQ0QsS0FQRCxNQU9PO0FBQ0xFO0FBQ0Q7O0FBRURDO0FBQ0Q7QUFDRjs7QUFFRE0sT0FBT0MsT0FBUCxHQUFpQkMsT0FBT0MsTUFBUCxDQUFjaEIsY0FBZCxFQUE4QjtBQUM3Q0M7QUFENkMsQ0FBOUIsQ0FBakIiLCJmaWxlIjoiYXJyYXkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IG5lY2Vzc2FyeSA9IHJlcXVpcmUoJ25lY2Vzc2FyeScpO1xuXG5jb25zdCB7IGFycmF5VXRpbGl0aWVzIH0gPSBuZWNlc3Nhcnk7XG5cbmZ1bmN0aW9uIGl0ZXJhdGVXaXRoRGVsZXRlKGFycmF5LCBjYWxsYmFjaykge1xuICBsZXQgYXJyYXlMZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgbGV0IGluZGV4ID0gMCxcbiAgICAgIGNvdW50ID0gMDtcblxuICB3aGlsZSAoaW5kZXggPCBhcnJheUxlbmd0aCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2soZWxlbWVudCwgY291bnQpO1xuXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgY29uc3Qgc3RhcnQgPSBpbmRleCxcbiAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gMTtcblxuICAgICAgYXJyYXkuc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCk7XG5cbiAgICAgIGFycmF5TGVuZ3RoLS07XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgY291bnQrKztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oYXJyYXlVdGlsaXRpZXMsIHtcbiAgaXRlcmF0ZVdpdGhEZWxldGVcbn0pO1xuIl19