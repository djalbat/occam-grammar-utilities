'use strict';

var necessary = require('necessary');

var arrayUtilities = necessary.arrayUtilities;


function addInFrontOfLast(array, element) {
  var start = -1,
      deleteCount = 0;

  array.splice(start, deleteCount, element);
}

function forEachWithRemove(array, callback) {
  var arrayLength = array.length;

  for (var index = 0; index < arrayLength; index++) {
    var element = array[index],
        remove = callback(element, index);

    if (remove) {
      var start = index,
          ///
      deleteCount = 1;

      array.splice(start, deleteCount);

      arrayLength--;

      index--;
    }
  }
}

function forEachWithReplace(array, callback) {
  var arrayLength = array.length;

  for (var index = 0; index < arrayLength; index++) {
    var element = array[index];

    element = callback(element, index);

    if (element) {
      var start = index,
          ///
      deleteCount = 1;

      array.splice(start, deleteCount, element);
    }
  }
}

module.exports = Object.assign(arrayUtilities, {
  addInFrontOfLast: addInFrontOfLast,
  forEachWithRemove: forEachWithRemove,
  forEachWithReplace: forEachWithReplace
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvYXJyYXkuanMiXSwibmFtZXMiOlsibmVjZXNzYXJ5IiwicmVxdWlyZSIsImFycmF5VXRpbGl0aWVzIiwiYWRkSW5Gcm9udE9mTGFzdCIsImFycmF5IiwiZWxlbWVudCIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJzcGxpY2UiLCJmb3JFYWNoV2l0aFJlbW92ZSIsImNhbGxiYWNrIiwiYXJyYXlMZW5ndGgiLCJsZW5ndGgiLCJpbmRleCIsInJlbW92ZSIsImZvckVhY2hXaXRoUmVwbGFjZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFlBQVlDLFFBQVEsV0FBUixDQUFsQjs7SUFFUUMsYyxHQUFtQkYsUyxDQUFuQkUsYzs7O0FBRVIsU0FBU0MsZ0JBQVQsQ0FBMEJDLEtBQTFCLEVBQWlDQyxPQUFqQyxFQUEwQztBQUN4QyxNQUFNQyxRQUFRLENBQUMsQ0FBZjtBQUFBLE1BQ01DLGNBQWMsQ0FEcEI7O0FBR0FILFFBQU1JLE1BQU4sQ0FBYUYsS0FBYixFQUFvQkMsV0FBcEIsRUFBaUNGLE9BQWpDO0FBQ0Q7O0FBRUQsU0FBU0ksaUJBQVQsQ0FBMkJMLEtBQTNCLEVBQWtDTSxRQUFsQyxFQUE0QztBQUMxQyxNQUFJQyxjQUFjUCxNQUFNUSxNQUF4Qjs7QUFFQSxPQUFLLElBQUlDLFFBQVEsQ0FBakIsRUFBb0JBLFFBQVFGLFdBQTVCLEVBQXlDRSxPQUF6QyxFQUFrRDtBQUNoRCxRQUFNUixVQUFVRCxNQUFNUyxLQUFOLENBQWhCO0FBQUEsUUFDTUMsU0FBU0osU0FBU0wsT0FBVCxFQUFrQlEsS0FBbEIsQ0FEZjs7QUFHQSxRQUFJQyxNQUFKLEVBQVk7QUFDVixVQUFNUixRQUFRTyxLQUFkO0FBQUEsVUFBc0I7QUFDaEJOLG9CQUFjLENBRHBCOztBQUdBSCxZQUFNSSxNQUFOLENBQWFGLEtBQWIsRUFBb0JDLFdBQXBCOztBQUVBSTs7QUFFQUU7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsU0FBU0Usa0JBQVQsQ0FBNEJYLEtBQTVCLEVBQW1DTSxRQUFuQyxFQUE2QztBQUMzQyxNQUFNQyxjQUFjUCxNQUFNUSxNQUExQjs7QUFFQSxPQUFLLElBQUlDLFFBQVEsQ0FBakIsRUFBb0JBLFFBQVFGLFdBQTVCLEVBQXlDRSxPQUF6QyxFQUFrRDtBQUNoRCxRQUFJUixVQUFVRCxNQUFNUyxLQUFOLENBQWQ7O0FBRUFSLGNBQVVLLFNBQVNMLE9BQVQsRUFBa0JRLEtBQWxCLENBQVY7O0FBRUEsUUFBSVIsT0FBSixFQUFhO0FBQ1gsVUFBTUMsUUFBUU8sS0FBZDtBQUFBLFVBQXNCO0FBQ2hCTixvQkFBYyxDQURwQjs7QUFHQUgsWUFBTUksTUFBTixDQUFhRixLQUFiLEVBQW9CQyxXQUFwQixFQUFpQ0YsT0FBakM7QUFDRDtBQUNGO0FBQ0Y7O0FBRURXLE9BQU9DLE9BQVAsR0FBaUJDLE9BQU9DLE1BQVAsQ0FBY2pCLGNBQWQsRUFBOEI7QUFDN0NDLG9DQUQ2QztBQUU3Q00sc0NBRjZDO0FBRzdDTTtBQUg2QyxDQUE5QixDQUFqQiIsImZpbGUiOiJhcnJheS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgbmVjZXNzYXJ5ID0gcmVxdWlyZSgnbmVjZXNzYXJ5Jyk7XG5cbmNvbnN0IHsgYXJyYXlVdGlsaXRpZXMgfSA9IG5lY2Vzc2FyeTtcblxuZnVuY3Rpb24gYWRkSW5Gcm9udE9mTGFzdChhcnJheSwgZWxlbWVudCkge1xuICBjb25zdCBzdGFydCA9IC0xLFxuICAgICAgICBkZWxldGVDb3VudCA9IDA7XG5cbiAgYXJyYXkuc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hXaXRoUmVtb3ZlKGFycmF5LCBjYWxsYmFjaykge1xuICBsZXQgYXJyYXlMZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5TGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICByZW1vdmUgPSBjYWxsYmFjayhlbGVtZW50LCBpbmRleCk7XG5cbiAgICBpZiAocmVtb3ZlKSB7XG4gICAgICBjb25zdCBzdGFydCA9IGluZGV4LCAgLy8vXG4gICAgICAgICAgICBkZWxldGVDb3VudCA9IDE7XG5cbiAgICAgIGFycmF5LnNwbGljZShzdGFydCwgZGVsZXRlQ291bnQpO1xuXG4gICAgICBhcnJheUxlbmd0aC0tO1xuXG4gICAgICBpbmRleC0tO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JFYWNoV2l0aFJlcGxhY2UoYXJyYXksIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGFycmF5TGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheUxlbmd0aDsgaW5kZXgrKykge1xuICAgIGxldCBlbGVtZW50ID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgZWxlbWVudCA9IGNhbGxiYWNrKGVsZW1lbnQsIGluZGV4KTtcblxuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBjb25zdCBzdGFydCA9IGluZGV4LCAgLy8vXG4gICAgICAgICAgICBkZWxldGVDb3VudCA9IDE7XG5cbiAgICAgIGFycmF5LnNwbGljZShzdGFydCwgZGVsZXRlQ291bnQsIGVsZW1lbnQpO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oYXJyYXlVdGlsaXRpZXMsIHtcbiAgYWRkSW5Gcm9udE9mTGFzdCxcbiAgZm9yRWFjaFdpdGhSZW1vdmUsXG4gIGZvckVhY2hXaXRoUmVwbGFjZVxufSk7XG4iXX0=