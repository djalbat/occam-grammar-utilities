"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    addLeftRecursiveDefinition: function() {
        return addLeftRecursiveDefinition;
    },
    addDirectlyLeftRecursiveDefinition: function() {
        return addDirectlyLeftRecursiveDefinition;
    },
    addDirectlyLeftRecursiveDefinitions: function() {
        return addDirectlyLeftRecursiveDefinitions;
    },
    addIndirectlyLeftRecursiveDefinition: function() {
        return addIndirectlyLeftRecursiveDefinition;
    },
    addIndirectlyLeftRecursiveDefinitions: function() {
        return addIndirectlyLeftRecursiveDefinitions;
    },
    findLeftRecursiveDefinitions: function() {
        return findLeftRecursiveDefinitions;
    },
    findDirectlyLeftRecursiveDefinition: function() {
        return findDirectlyLeftRecursiveDefinition;
    },
    findDirectlyLeftRecursiveDefinitions: function() {
        return findDirectlyLeftRecursiveDefinitions;
    },
    findIndirectlyLeftRecursiveDefinitions: function() {
        return findIndirectlyLeftRecursiveDefinitions;
    },
    removeDirectlyLeftRecursiveDefinitions: function() {
        return removeDirectlyLeftRecursiveDefinitions;
    },
    removeIndirectlyLeftRecursiveDefinitions: function() {
        return removeIndirectlyLeftRecursiveDefinitions;
    },
    retrieveGreatestIndirectlyLeftRecursiveDefinition: function() {
        return retrieveGreatestIndirectlyLeftRecursiveDefinition;
    }
});
var _directly = /*#__PURE__*/ _interopRequireDefault(require("../recursiveDefinition/left/directly"));
var _indirectly = /*#__PURE__*/ _interopRequireDefault(require("../recursiveDefinition/left/indirectly"));
var _array = require("../utilities/array");
function _instanceof(left, right) {
    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {
        return !!right[Symbol.hasInstance](left);
    } else {
        return left instanceof right;
    }
}
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function addLeftRecursiveDefinition(leftRecursiveDefinition, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions;
    leftRecursiveDefinitions.push(leftRecursiveDefinition);
}
function addDirectlyLeftRecursiveDefinition(directlyLeftRecursiveDefinition, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, leftRecursiveDefinition = directlyLeftRecursiveDefinition; ///
    leftRecursiveDefinitions.push(leftRecursiveDefinition);
}
function addDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, leftRecursiveDefinitionsA = leftRecursiveDefinitions, leftRecursiveDefinitionsB = directlyLeftRecursiveDefinitions; ///
    (0, _array.push)(leftRecursiveDefinitionsA, leftRecursiveDefinitionsB);
}
function addIndirectlyLeftRecursiveDefinition(indirectlyLeftRecursiveDefinition, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, leftRecursiveDefinition = indirectlyLeftRecursiveDefinition; ///
    leftRecursiveDefinitions.push(leftRecursiveDefinition);
}
function addIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, leftRecursiveDefinitionsA = leftRecursiveDefinitions, leftRecursiveDefinitionsB = indirectlyLeftRecursiveDefinitions; ///
    (0, _array.push)(leftRecursiveDefinitionsA, leftRecursiveDefinitionsB);
}
function findLeftRecursiveDefinitions(rule, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions;
    leftRecursiveDefinitions = leftRecursiveDefinitions.filter(function(leftRecursiveDefinition) {
        if (rule === null) {
            return true;
        }
        var leftRecursiveDefinitionsRule = leftRecursiveDefinition.getRule();
        if (leftRecursiveDefinitionsRule === rule) {
            return true;
        }
    });
    return leftRecursiveDefinitions;
}
function findDirectlyLeftRecursiveDefinition(rule, context) {
    if (context === undefined) {
        context = rule; ///
        rule = null;
    }
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, directlyLeftRecursiveDefinition = leftRecursiveDefinitions.find(function(leftRecursiveDefinition) {
        if (_instanceof(leftRecursiveDefinition, _directly.default)) {
            if (rule === null) {
                return true;
            }
            var directlyLeftRecursiveDefinition = leftRecursiveDefinition, directlyLeftRecursiveDefinitionRule = directlyLeftRecursiveDefinition.getRule();
            if (rule === directlyLeftRecursiveDefinitionRule) {
                return true;
            }
        }
    }) || null;
    return directlyLeftRecursiveDefinition;
}
function findDirectlyLeftRecursiveDefinitions(rule, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, directlyLeftRecursiveDefinitions = leftRecursiveDefinitions.filter(function(leftRecursiveDefinition) {
        if (_instanceof(leftRecursiveDefinition, _directly.default)) {
            if (rule === null) {
                return true;
            }
            var directlyLeftRecursiveDefinition = leftRecursiveDefinition, directlyLeftRecursiveDefinitionsRule = directlyLeftRecursiveDefinition.getRule();
            if (directlyLeftRecursiveDefinitionsRule === rule) {
                return true;
            }
        }
    });
    return directlyLeftRecursiveDefinitions;
}
function findIndirectlyLeftRecursiveDefinitions(rule, callback, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, indirectlyLeftRecursiveDefinitions = leftRecursiveDefinitions.filter(function(leftRecursiveDefinition) {
        if (_instanceof(leftRecursiveDefinition, _indirectly.default)) {
            if (rule === null) {
                return true;
            }
            var indirectlyLeftRecursiveDefinition = leftRecursiveDefinition, indirectlyLeftRecursiveDefinitionRule = indirectlyLeftRecursiveDefinition.getRule();
            if (indirectlyLeftRecursiveDefinitionRule === rule) {
                var found = callback(indirectlyLeftRecursiveDefinition);
                if (found) {
                    return true;
                }
            }
        }
    });
    return indirectlyLeftRecursiveDefinitions;
}
function removeDirectlyLeftRecursiveDefinitions(directlyLeftRecursiveDefinitions, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, leftRecursiveDefinitionsA = leftRecursiveDefinitions, leftRecursiveDefinitionsB = directlyLeftRecursiveDefinitions; ///
    (0, _array.leftDifference)(leftRecursiveDefinitionsA, leftRecursiveDefinitionsB);
}
function removeIndirectlyLeftRecursiveDefinitions(indirectlyLeftRecursiveDefinitions, context) {
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions, leftRecursiveDefinitionsA = leftRecursiveDefinitions, leftRecursiveDefinitionsB = indirectlyLeftRecursiveDefinitions; ///
    (0, _array.leftDifference)(leftRecursiveDefinitionsA, leftRecursiveDefinitionsB);
}
function retrieveGreatestIndirectlyLeftRecursiveDefinition(context) {
    var greatestIndirectlyLeftRecursiveDefinition = null;
    var leftRecursiveDefinitions = context.leftRecursiveDefinitions;
    leftRecursiveDefinitions.forEach(function(leftRecursiveDefinition) {
        if (_instanceof(leftRecursiveDefinition, _indirectly.default)) {
            var indirectlyLeftRecursiveDefinition = leftRecursiveDefinition; ///
            if (greatestIndirectlyLeftRecursiveDefinition === null) {
                greatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition; ///
            } else {
                var indirectlyLeftRecursiveDefinitionGreaterThanGreatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition.isGreaterThan(greatestIndirectlyLeftRecursiveDefinition);
                if (indirectlyLeftRecursiveDefinitionGreaterThanGreatestIndirectlyLeftRecursiveDefinition) {
                    greatestIndirectlyLeftRecursiveDefinition = indirectlyLeftRecursiveDefinition; ///
                }
            }
        }
    });
    return greatestIndirectlyLeftRecursiveDefinition;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvY29udGV4dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gZnJvbSBcIi4uL3JlY3Vyc2l2ZURlZmluaXRpb24vbGVmdC9kaXJlY3RseVwiO1xuaW1wb3J0IEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiBmcm9tIFwiLi4vcmVjdXJzaXZlRGVmaW5pdGlvbi9sZWZ0L2luZGlyZWN0bHlcIjtcblxuaW1wb3J0IHsgcHVzaCwgbGVmdERpZmZlcmVuY2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2FycmF5XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgY29udGV4dCkge1xuICBjb25zdCB7IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyB9ID0gY29udGV4dDtcblxuICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMucHVzaChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGREaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sIGNvbnRleHQpIHtcbiAgY29uc3QgeyBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgfSA9IGNvbnRleHQsXG4gICAgICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjsgIC8vL1xuXG4gIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5wdXNoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIH0gPSBjb250ZXh0LFxuICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNBID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAvLy9cbiAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zQiA9IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zOyAvLy9cblxuICBwdXNoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0EsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgY29udGV4dCkge1xuICBjb25zdCB7IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyB9ID0gY29udGV4dCxcbiAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247ICAvLy9cblxuICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMucHVzaChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIGNvbnRleHQpIHtcbiAgY29uc3QgeyBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgfSA9IGNvbnRleHQsXG4gICAgICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0EgPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIC8vL1xuICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNCID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uczsgLy8vXG5cbiAgcHVzaChsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNBLCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNCKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMocnVsZSwgY29udGV4dCkge1xuICBsZXQgeyBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgfSA9IGNvbnRleHQ7XG5cbiAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLmZpbHRlcigobGVmdFJlY3Vyc2l2ZURlZmluaXRpb24pID0+IHsgIC8vL1xuICAgIGlmIChydWxlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNSdWxlID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZSgpO1xuXG4gICAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc1J1bGUgPT09IHJ1bGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmREaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKHJ1bGUsIGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnRleHQgPSBydWxlOyAvLy9cbiAgICBydWxlID0gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHsgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIH0gPSBjb250ZXh0LFxuICAgICAgICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLmZpbmQoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGluc3RhbmNlb2YgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgaWYgKHJ1bGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgIC8vL1xuICAgICAgICAgICAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvblJ1bGUgPSBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uLmdldFJ1bGUoKTtcblxuICAgICAgICAgICAgaWYgKHJ1bGUgPT09IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25SdWxlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkgfHwgbnVsbDtcblxuICByZXR1cm4gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmREaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIH0gPSBjb250ZXh0LFxuICAgICAgICBkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5maWx0ZXIoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGluc3RhbmNlb2YgRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgaWYgKHJ1bGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiwgIC8vL1xuICAgICAgICAgICAgICAgICAgZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNSdWxlID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5nZXRSdWxlKCk7XG5cbiAgICAgICAgICAgIGlmIChkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc1J1bGUgPT09IHJ1bGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICByZXR1cm4gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhydWxlLCBjYWxsYmFjaywgY29udGV4dCkge1xuICBjb25zdCB7IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyB9ID0gY29udGV4dCxcbiAgICAgICAgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyA9IGxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucy5maWx0ZXIoKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGluc3RhbmNlb2YgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICAgICAgICBpZiAocnVsZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb24sICAvLy9cbiAgICAgICAgICAgICAgICAgIGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvblJ1bGUgPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24uZ2V0UnVsZSgpO1xuXG4gICAgICAgICAgICBpZiAoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uUnVsZSA9PT0gcnVsZSkge1xuICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IGNhbGxiYWNrKGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbik7XG5cbiAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gIHJldHVybiBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMoZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIGNvbnRleHQpIHtcbiAgY29uc3QgeyBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgfSA9IGNvbnRleHQsXG4gICAgICAgIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0EgPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMsIC8vL1xuICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNCID0gZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnM7IC8vL1xuXG4gIGxlZnREaWZmZXJlbmNlKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0EsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyhpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIH0gPSBjb250ZXh0LFxuICAgICAgICBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNBID0gbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLCAvLy9cbiAgICAgICAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zQiA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnM7IC8vL1xuXG4gIGxlZnREaWZmZXJlbmNlKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0EsIGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uc0IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmVHcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbihjb250ZXh0KSB7XG4gIGxldCBncmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IG51bGw7XG5cbiAgY29uc3QgeyBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMgfSA9IGNvbnRleHQ7XG5cbiAgbGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zLmZvckVhY2goKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSA9PiB7XG4gICAgaWYgKGxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIGluc3RhbmNlb2YgSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKSB7XG4gICAgICBjb25zdCBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbjsgIC8vL1xuXG4gICAgICBpZiAoZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgZ3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24gPSBpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb247IC8vL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uR3JlYXRlclRoYW5HcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiA9IGluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbi5pc0dyZWF0ZXJUaGFuKGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uKTtcblxuICAgICAgICBpZiAoaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uR3JlYXRlclRoYW5HcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbikge1xuICAgICAgICAgIGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uID0gaW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uOyAvLy9cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uO1xufVxuIl0sIm5hbWVzIjpbImFkZExlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiYWRkRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImFkZERpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwiYWRkSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiYWRkSW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImZpbmRMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJmaW5kRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImZpbmREaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsImZpbmRJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmVtb3ZlRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJyZW1vdmVJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zIiwicmV0cmlldmVHcmVhdGVzdEluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiY29udGV4dCIsImxlZnRSZWN1cnNpdmVEZWZpbml0aW9ucyIsInB1c2giLCJkaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJsZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNBIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zQiIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnMiLCJydWxlIiwiZmlsdGVyIiwibGVmdFJlY3Vyc2l2ZURlZmluaXRpb25zUnVsZSIsImdldFJ1bGUiLCJ1bmRlZmluZWQiLCJmaW5kIiwiRGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbiIsImRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25SdWxlIiwiZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbnNSdWxlIiwiY2FsbGJhY2siLCJJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb25SdWxlIiwiZm91bmQiLCJsZWZ0RGlmZmVyZW5jZSIsImdyZWF0ZXN0SW5kaXJlY3RseUxlZnRSZWN1cnNpdmVEZWZpbml0aW9uIiwiZm9yRWFjaCIsImluZGlyZWN0bHlMZWZ0UmVjdXJzaXZlRGVmaW5pdGlvbkdyZWF0ZXJUaGFuR3JlYXRlc3RJbmRpcmVjdGx5TGVmdFJlY3Vyc2l2ZURlZmluaXRpb24iLCJpc0dyZWF0ZXJUaGFuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7Ozs7Ozs7Ozs7O0lBT0dBLDBCQUEwQjtlQUExQkEsMEJBQTBCOztJQU0xQkMsa0NBQWtDO2VBQWxDQSxrQ0FBa0M7O0lBT2xDQyxtQ0FBbUM7ZUFBbkNBLG1DQUFtQzs7SUFRbkNDLG9DQUFvQztlQUFwQ0Esb0NBQW9DOztJQU9wQ0MscUNBQXFDO2VBQXJDQSxxQ0FBcUM7O0lBUXJDQyw0QkFBNEI7ZUFBNUJBLDRCQUE0Qjs7SUFrQjVCQyxtQ0FBbUM7ZUFBbkNBLG1DQUFtQzs7SUF5Qm5D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