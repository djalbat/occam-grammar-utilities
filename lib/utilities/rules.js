"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.rulesFromStartRuleAndRuleMap = rulesFromStartRuleAndRuleMap;
exports.startRuleFromRulesAndStartRuleName = startRuleFromRulesAndStartRuleName;
var _necessary = require("necessary");
var _occamParsers = require("occam-parsers");
var filter = _necessary.arrayUtilities.filter, startRuleFromRules = _occamParsers.rulesUtilitlies.startRuleFromRules;
function rulesFromStartRuleAndRuleMap(startRule, ruleMap) {
    var rules = Object.values(ruleMap), startRuleName = startRule.getName();
    filter(rules, function(rule) {
        var ruleName = rule.getName();
        if (ruleName !== startRuleName) {
            return true;
        }
    });
    rules.unshift(startRule);
    return rules;
}
function startRuleFromRulesAndStartRuleName(rules, startRuleName) {
    var startRule = rules.find(function(rule) {
        var ruleName = rule.getName();
        if (ruleName === startRuleName) {
            return true;
        }
    }) || null; ///
    if (startRule === null) {
        startRule = startRuleFromRules(rules);
    }
    return startRule;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcnVsZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuaW1wb3J0IHsgcnVsZXNVdGlsaXRsaWVzIH0gZnJvbSBcIm9jY2FtLXBhcnNlcnNcIjtcblxuY29uc3QgeyBmaWx0ZXIgfSA9IGFycmF5VXRpbGl0aWVzLFxuICAgICAgeyBzdGFydFJ1bGVGcm9tUnVsZXMgfSA9IHJ1bGVzVXRpbGl0bGllcztcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bGVzRnJvbVN0YXJ0UnVsZUFuZFJ1bGVNYXAoc3RhcnRSdWxlLCBydWxlTWFwKSB7XG4gIGNvbnN0IHJ1bGVzID0gT2JqZWN0LnZhbHVlcyhydWxlTWFwKSxcbiAgICAgICAgc3RhcnRSdWxlTmFtZSA9IHN0YXJ0UnVsZS5nZXROYW1lKCk7XG5cbiAgZmlsdGVyKHJ1bGVzLCAocnVsZSkgPT4ge1xuICAgIGNvbnN0IHJ1bGVOYW1lID0gcnVsZS5nZXROYW1lKCk7XG5cbiAgICBpZiAocnVsZU5hbWUgIT09IHN0YXJ0UnVsZU5hbWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcnVsZXMudW5zaGlmdChzdGFydFJ1bGUpO1xuXG4gIHJldHVybiBydWxlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UnVsZUZyb21SdWxlc0FuZFN0YXJ0UnVsZU5hbWUocnVsZXMsIHN0YXJ0UnVsZU5hbWUpIHtcbiAgbGV0IHN0YXJ0UnVsZSA9IHJ1bGVzLmZpbmQoKHJ1bGUpID0+IHtcbiAgICBjb25zdCBydWxlTmFtZSA9IHJ1bGUuZ2V0TmFtZSgpO1xuXG4gICAgaWYgKHJ1bGVOYW1lID09PSBzdGFydFJ1bGVOYW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pIHx8IG51bGw7IC8vL1xuXG4gIGlmIChzdGFydFJ1bGUgPT09IG51bGwpIHtcbiAgICBzdGFydFJ1bGUgPSBzdGFydFJ1bGVGcm9tUnVsZXMocnVsZXMpO1xuICB9XG5cbiAgcmV0dXJuIHN0YXJ0UnVsZTtcbn1cbiJdLCJuYW1lcyI6WyJydWxlc0Zyb21TdGFydFJ1bGVBbmRSdWxlTWFwIiwic3RhcnRSdWxlRnJvbVJ1bGVzQW5kU3RhcnRSdWxlTmFtZSIsImZpbHRlciIsImFycmF5VXRpbGl0aWVzIiwic3RhcnRSdWxlRnJvbVJ1bGVzIiwicnVsZXNVdGlsaXRsaWVzIiwic3RhcnRSdWxlIiwicnVsZU1hcCIsInJ1bGVzIiwiT2JqZWN0IiwidmFsdWVzIiwic3RhcnRSdWxlTmFtZSIsImdldE5hbWUiLCJydWxlIiwicnVsZU5hbWUiLCJ1bnNoaWZ0IiwiZmluZCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOzs7O1FBUUdBLDRCQUE0QixHQUE1QkEsNEJBQTRCO1FBaUI1QkMsa0NBQWtDLEdBQWxDQSxrQ0FBa0M7QUF2Qm5CLElBQUEsVUFBVyxXQUFYLFdBQVcsQ0FBQTtBQUNWLElBQUEsYUFBZSxXQUFmLGVBQWUsQ0FBQTtBQUUvQyxJQUFNLEFBQUVDLE1BQU0sR0FBS0MsVUFBYyxlQUFBLENBQXpCRCxNQUFNLEFBQW1CLEVBQzNCLEFBQUVFLGtCQUFrQixHQUFLQyxhQUFlLGdCQUFBLENBQXRDRCxrQkFBa0IsQUFBb0IsQUFBQztBQUV4QyxTQUFTSiw0QkFBNEIsQ0FBQ00sU0FBUyxFQUFFQyxPQUFPLEVBQUU7SUFDL0QsSUFBTUMsS0FBSyxHQUFHQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ0gsT0FBTyxDQUFDLEVBQzlCSSxhQUFhLEdBQUdMLFNBQVMsQ0FBQ00sT0FBTyxFQUFFLEFBQUM7SUFFMUNWLE1BQU0sQ0FBQ00sS0FBSyxFQUFFLFNBQUNLLElBQUksRUFBSztRQUN0QixJQUFNQyxRQUFRLEdBQUdELElBQUksQ0FBQ0QsT0FBTyxFQUFFLEFBQUM7UUFFaEMsSUFBSUUsUUFBUSxLQUFLSCxhQUFhLEVBQUU7WUFDOUIsT0FBTyxJQUFJLENBQUM7U0FDYjtLQUNGLENBQUMsQ0FBQztJQUVISCxLQUFLLENBQUNPLE9BQU8sQ0FBQ1QsU0FBUyxDQUFDLENBQUM7SUFFekIsT0FBT0UsS0FBSyxDQUFDO0NBQ2Q7QUFFTSxTQUFTUCxrQ0FBa0MsQ0FBQ08sS0FBSyxFQUFFRyxhQUFhLEVBQUU7SUFDdkUsSUFBSUwsU0FBUyxHQUFHRSxLQUFLLENBQUNRLElBQUksQ0FBQyxTQUFDSCxJQUFJLEVBQUs7UUFDbkMsSUFBTUMsUUFBUSxHQUFHRCxJQUFJLENBQUNELE9BQU8sRUFBRSxBQUFDO1FBRWhDLElBQUlFLFFBQVEsS0FBS0gsYUFBYSxFQUFFO1lBQzlCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7S0FDRixDQUFDLElBQUksSUFBSSxBQUFDLEVBQUMsR0FBRztJQUVmLElBQUlMLFNBQVMsS0FBSyxJQUFJLEVBQUU7UUFDdEJBLFNBQVMsR0FBR0Ysa0JBQWtCLENBQUNJLEtBQUssQ0FBQyxDQUFDO0tBQ3ZDO0lBRUQsT0FBT0YsU0FBUyxDQUFDO0NBQ2xCIn0=