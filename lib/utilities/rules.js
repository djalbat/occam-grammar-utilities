'use strict';

var partUtilities = require('../utilities/part');

var ruleNamesFromParts = partUtilities.ruleNamesFromParts;


function rulesAsString(rules, multiLine) {
  var maximumRuleNameLength = rules.reduce(function (maximumRuleNameLength, rule) {
    var ruleName = rule.getName(),
        ruleNameLength = ruleName.length;

    maximumRuleNameLength = Math.max(maximumRuleNameLength, ruleNameLength);

    return maximumRuleNameLength;
  }, 0),
      rulesString = rules.reduce(function (rulesString, rule) {
    var ruleString = rule.asString(maximumRuleNameLength, multiLine);

    rulesString += ruleString;

    return rulesString;
  }, '');

  return rulesString;
}

function ruleNamesFromRules(rules) {
  var ruleNames = [];

  rules.forEach(function (rule) {
    var definitions = rule.getDefinitions();

    definitions.forEach(function (definition) {
      var parts = definition.getParts();

      ruleNamesFromParts(parts, ruleNames);
    });
  });

  return ruleNames;
}

module.exports = {
  rulesAsString: rulesAsString,
  ruleNamesFromRules: ruleNamesFromRules
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvcnVsZXMuanMiXSwibmFtZXMiOlsicGFydFV0aWxpdGllcyIsInJlcXVpcmUiLCJydWxlTmFtZXNGcm9tUGFydHMiLCJydWxlc0FzU3RyaW5nIiwicnVsZXMiLCJtdWx0aUxpbmUiLCJtYXhpbXVtUnVsZU5hbWVMZW5ndGgiLCJyZWR1Y2UiLCJydWxlIiwicnVsZU5hbWUiLCJnZXROYW1lIiwicnVsZU5hbWVMZW5ndGgiLCJsZW5ndGgiLCJNYXRoIiwibWF4IiwicnVsZXNTdHJpbmciLCJydWxlU3RyaW5nIiwiYXNTdHJpbmciLCJydWxlTmFtZXNGcm9tUnVsZXMiLCJydWxlTmFtZXMiLCJmb3JFYWNoIiwiZGVmaW5pdGlvbnMiLCJnZXREZWZpbml0aW9ucyIsImRlZmluaXRpb24iLCJwYXJ0cyIsImdldFBhcnRzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsZ0JBQWdCQyxRQUFRLG1CQUFSLENBQXRCOztJQUVRQyxrQixHQUF1QkYsYSxDQUF2QkUsa0I7OztBQUVSLFNBQVNDLGFBQVQsQ0FBdUJDLEtBQXZCLEVBQThCQyxTQUE5QixFQUF5QztBQUN2QyxNQUFNQyx3QkFBd0JGLE1BQU1HLE1BQU4sQ0FBYSxVQUFTRCxxQkFBVCxFQUFnQ0UsSUFBaEMsRUFBc0M7QUFDekUsUUFBTUMsV0FBV0QsS0FBS0UsT0FBTCxFQUFqQjtBQUFBLFFBQ01DLGlCQUFpQkYsU0FBU0csTUFEaEM7O0FBR0FOLDRCQUF3Qk8sS0FBS0MsR0FBTCxDQUFTUixxQkFBVCxFQUFnQ0ssY0FBaEMsQ0FBeEI7O0FBRUEsV0FBT0wscUJBQVA7QUFDRCxHQVB1QixFQU9yQixDQVBxQixDQUE5QjtBQUFBLE1BUU1TLGNBQWNYLE1BQU1HLE1BQU4sQ0FBYSxVQUFTUSxXQUFULEVBQXNCUCxJQUF0QixFQUE0QjtBQUNyRCxRQUFNUSxhQUFhUixLQUFLUyxRQUFMLENBQWNYLHFCQUFkLEVBQXFDRCxTQUFyQyxDQUFuQjs7QUFFQVUsbUJBQWVDLFVBQWY7O0FBRUEsV0FBT0QsV0FBUDtBQUNELEdBTmEsRUFNWCxFQU5XLENBUnBCOztBQWdCQSxTQUFPQSxXQUFQO0FBQ0Q7O0FBRUQsU0FBU0csa0JBQVQsQ0FBNEJkLEtBQTVCLEVBQW1DO0FBQ2pDLE1BQU1lLFlBQVksRUFBbEI7O0FBRUFmLFFBQU1nQixPQUFOLENBQWMsVUFBU1osSUFBVCxFQUFlO0FBQzNCLFFBQU1hLGNBQWNiLEtBQUtjLGNBQUwsRUFBcEI7O0FBRUFELGdCQUFZRCxPQUFaLENBQW9CLFVBQVNHLFVBQVQsRUFBcUI7QUFDdkMsVUFBTUMsUUFBUUQsV0FBV0UsUUFBWCxFQUFkOztBQUVBdkIseUJBQW1Cc0IsS0FBbkIsRUFBMEJMLFNBQTFCO0FBQ0QsS0FKRDtBQUtELEdBUkQ7O0FBVUEsU0FBT0EsU0FBUDtBQUNEOztBQUVETyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2Z4Qiw4QkFEZTtBQUVmZTtBQUZlLENBQWpCIiwiZmlsZSI6InJ1bGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwYXJ0VXRpbGl0aWVzID0gcmVxdWlyZSgnLi4vdXRpbGl0aWVzL3BhcnQnKTtcblxuY29uc3QgeyBydWxlTmFtZXNGcm9tUGFydHMgfSA9IHBhcnRVdGlsaXRpZXM7XG5cbmZ1bmN0aW9uIHJ1bGVzQXNTdHJpbmcocnVsZXMsIG11bHRpTGluZSkge1xuICBjb25zdCBtYXhpbXVtUnVsZU5hbWVMZW5ndGggPSBydWxlcy5yZWR1Y2UoZnVuY3Rpb24obWF4aW11bVJ1bGVOYW1lTGVuZ3RoLCBydWxlKSB7XG4gICAgICAgICAgY29uc3QgcnVsZU5hbWUgPSBydWxlLmdldE5hbWUoKSxcbiAgICAgICAgICAgICAgICBydWxlTmFtZUxlbmd0aCA9IHJ1bGVOYW1lLmxlbmd0aDtcblxuICAgICAgICAgIG1heGltdW1SdWxlTmFtZUxlbmd0aCA9IE1hdGgubWF4KG1heGltdW1SdWxlTmFtZUxlbmd0aCwgcnVsZU5hbWVMZW5ndGgpO1xuXG4gICAgICAgICAgcmV0dXJuIG1heGltdW1SdWxlTmFtZUxlbmd0aDtcbiAgICAgICAgfSwgMCksXG4gICAgICAgIHJ1bGVzU3RyaW5nID0gcnVsZXMucmVkdWNlKGZ1bmN0aW9uKHJ1bGVzU3RyaW5nLCBydWxlKSB7XG4gICAgICAgICAgY29uc3QgcnVsZVN0cmluZyA9IHJ1bGUuYXNTdHJpbmcobWF4aW11bVJ1bGVOYW1lTGVuZ3RoLCBtdWx0aUxpbmUpO1xuXG4gICAgICAgICAgcnVsZXNTdHJpbmcgKz0gcnVsZVN0cmluZztcblxuICAgICAgICAgIHJldHVybiBydWxlc1N0cmluZztcbiAgICAgICAgfSwgJycpO1xuXG4gIHJldHVybiBydWxlc1N0cmluZztcbn1cblxuZnVuY3Rpb24gcnVsZU5hbWVzRnJvbVJ1bGVzKHJ1bGVzKSB7XG4gIGNvbnN0IHJ1bGVOYW1lcyA9IFtdO1xuXG4gIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgIGNvbnN0IGRlZmluaXRpb25zID0gcnVsZS5nZXREZWZpbml0aW9ucygpO1xuXG4gICAgZGVmaW5pdGlvbnMuZm9yRWFjaChmdW5jdGlvbihkZWZpbml0aW9uKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IGRlZmluaXRpb24uZ2V0UGFydHMoKTtcblxuICAgICAgcnVsZU5hbWVzRnJvbVBhcnRzKHBhcnRzLCBydWxlTmFtZXMpO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcnVsZU5hbWVzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcnVsZXNBc1N0cmluZyxcbiAgcnVsZU5hbWVzRnJvbVJ1bGVzXG59O1xuIl19